!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=147)}([function(e,t,n){"use strict";e.exports=n(50)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=void 0,t=[],n={},r={};function i(e,n){for(var r in t){var i=t[r];if(i.context===e&&i.name===n)return i.instance}return null}function o(e,t){return t[e]}function a(e,t,n){e in n&&(n[e]=t)}function s(t,n,r){var i=void 0,o=t.__dashjs_factory_name,a=n[o];if(a){var s=a.instance;if(!a.override)return s.apply({context:n,factory:e},r);for(var l in i=t.apply({context:n},r),s=s.apply({context:n,factory:e,parent:i},r))i.hasOwnProperty(l)&&(i[l]=s[l])}else i=t.apply({context:n},r);return i.getClassName=function(){return o},i}return e={extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:i,setSingletonInstance:function(e,n,r){for(var i in t){var o=t[i];if(o.context===e&&o.name===n)return void(t[i].instance=r)}t.push({name:n,context:e,instance:r})},getSingletonFactory:function(e){var r=o(e.__dashjs_factory_name,n);return r||(r=function(n){var r=void 0;return void 0===n&&(n={}),{getInstance:function(){return r||(r=i(n,e.__dashjs_factory_name)),r||(r=s(e,n,arguments),t.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}},n[e.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(e){return o(e,n)},updateSingletonFactory:function(e,t){a(e,t,n)},getClassFactory:function(e){var t=o(e.__dashjs_factory_name,r);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return s(e,t,arguments)}}},r[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return o(e,r)},updateClassFactory:function(e,t){a(e,t,r)}}}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e={};function t(t,n,r){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return i=t,!0})),i):i}return{on:function(n,r,i){var o=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);if(!(t(n,r,i)>=0)){e[n]=e[n]||[];var a={callback:r,scope:i,priority:o},s=e[n].some((function(t,r){if(t&&o>t.priority)return e[n].splice(r,0,a),!0}));s||e[n].push(a)}},off:function(n,r,i){if(n&&r&&e[n]){var o=t(n,r,i);o<0||(e[n][o]=null)}},trigger:function(t,n){if(t&&e[t]){if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,e[t]=e[t].filter((function(e){return e})),e[t].forEach((function(e){return e&&e.callback.call(e.scope,n)}))}},reset:function(){e={}}}}a.__dashjs_factory_name="EventBus";var s=o.default.getSingletonFactory(a);s.EVENT_PRIORITY_LOW=0,s.EVENT_PRIORITY_HIGH=5e3,o.default.updateSingletonFactory(a.__dashjs_factory_name,s),t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1)),s=1,l=2,u=3,c=4,d=5;function f(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=[],a=void 0,f=void 0,h=void 0,p=void 0;function g(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[s,this].concat(t))}function v(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[l,this].concat(t))}function _(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[u,this].concat(t))}function y(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[c,this].concat(t))}function E(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[d,this].concat(t))}function b(e,t){var i="",s=null;a&&(s=(new Date).getTime(),i+="["+(s-h)+"]"),f&&t&&t.getClassName&&(i+="["+t.getClassName()+"]",t.getType&&(i+="["+t.getType()+"]")),i.length>0&&(i+=" ");for(var l=arguments.length,u=Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];Array.apply(null,u).forEach((function(e){i+=e+" "})),r[e]&&p>=e&&r[e](i),n.trigger(o.default.LOG,{message:i,level:e})}return e={getLogger:function(e){return{fatal:m.bind(e),error:v.bind(e),warn:_.bind(e),info:y.bind(e),debug:E.bind(e)}},setLogTimestampVisible:function(e){a=e},setCalleeNameVisible:function(e){f=e},setLogToBrowserConsole:function(e){p=e?d:0},getLogToBrowserConsole:function(){return 0!==p},setLogLevel:function(e){p=e},getLogLevel:function(){return p}},a=!0,f=!0,p=u,h=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(r[s]=g(window.console.error),r[l]=g(window.console.error),r[u]=g(window.console.warn),r[c]=g(window.console.info),r[d]=g(window.console.debug)),e}f.__dashjs_factory_name="Debug";var h=a.default.getSingletonFactory(f);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=s,h.LOG_LEVEL_ERROR=l,h.LOG_LEVEL_WARNING=u,h.LOG_LEVEL_INFO=c,h.LOG_LEVEL_DEBUG=d,a.default.updateSingletonFactory(f.__dashjs_factory_name,h),t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,a=n(185),s=new(function(e){function t(){i(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=a)&&o.__esModule?o:{default:o}).default));t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=n||null,this.data=r||null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(104),o=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_MANIFEST="manifest",this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_CONTENT="content",this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.DOWNLOAD_ERROR_ID_XLINK="xlink",this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(0)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null};i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",t.HTTPRequest=i,t.HTTPRequestTrace=function e(){r(this,e),this.s=null,this.d=null,this.b=[]}},function(e,t,n){"use strict";var r=n(0),i=n(151);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(51)},,function(e,t,n){e.exports=n(152)()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";var r=/\//g,i={};function o(e){return i[e]||(i[e]=e.replace(r,"_")),i[e]}e.exports=function(e){return("object"==typeof e?Object.keys(e).filter((function(t){return e[t]})):Array.prototype.slice.call(arguments)).map(o).join(" ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a={DEFAULT:.5,STRONG:1,WEAK:0};function s(e,t,n){return{quality:void 0===e?-1:e,reason:void 0===t?null:t,priority:function(e){var t=a.DEFAULT;return e!==a.DEFAULT&&e!==a.STRONG&&e!==a.WEAK||(t=e),t}(n)}}s.__dashjs_factory_name="SwitchRequest";var l=o.default.getClassFactory(s);l.NO_CHANGE=-1,l.PRIORITY=a,o.default.updateClassFactory(s.__dashjs_factory_name,l),t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e=void 0,t=/^[a-z][a-z0-9+\-.]*:/i,n=/^https?:\/\//i,r=/^https:\/\//i,i=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,o=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},a=function(e,t){var n=s;if(!t)return e;if(!c(e))return e;d(e)&&(n=l),f(e)&&(n=u);var r=n(t),i="/"!==r.charAt(r.length-1)&&"/"!==e.charAt(0)?"/":"";return[r,e].join(i)};function s(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return-1!==t?n===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,n+1)):""}function l(e){var t=e.match(i);return t?t[1]:""}function u(e){var n=e.match(t);return n?n[0]:""}function c(e){return!t.test(e)}function d(e){return c(e)&&"/"===e.charAt(0)}function f(e){return 0===e.indexOf("//")}return function(){try{new window.URL("x","http://y");e=o}catch(e){}finally{e=e||a}}(),{parseBaseUrl:s,parseOrigin:l,parseScheme:u,isRelative:c,isPathAbsolute:d,isSchemeRelative:f,isHTTPURL:function(e){return n.test(e)},isHTTPS:function(e){return r.test(e)},resolve:function(t,n){return e(t,n)}}}a.__dashjs_factory_name="URLUtils",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(38)),a=r(n(95)),s=r(n(212)),l=r(n(44)),u=r(n(67)),c=r(n(3)),d=r(n(5)),f=r(n(34)),h=r(n(1)),p=r(n(4)),g=r(n(68)),m=r(n(6)),v=r(n(7)),_=n(9);function y(e){e=e||{};var t=this.context,n=(0,c.default)(t).getInstance(),r=e.metricsModel,h=e.mediaPlayerModel,y=e.errHandler,E=e.streamController,b=e.mediaController,T=e.adapter,S=e.textController,w=e.abrController,R=e.playbackController,C=e.type,A=e.streamProcessor,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0,z=void 0,Y=void 0,V=void 0,K=void 0,W=void 0;function X(e,n){if(!j||!e||!A)return null;if(P)try{"function"==typeof(L=n&&n[C]?(0,a.default)(t).create(P,e,ee.bind(this),n[C]):(0,a.default)(t).create(P,e,ee.bind(this))).getBuffer().initialize&&L.getBuffer().initialize(C,A)}catch(e){D.fatal("Caught error on create SourceBuffer: "+e),y.mediaSourceError("Error creating "+C+" source buffer."),y.error(new m.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+C))}else L=(0,s.default)(t).create(ee.bind(this));return _e(A.getRepresentationInfo(M).MSETimeOffset),L}function Q(e){e.fragmentModel===A.getFragmentModel()&&(D.info("Init fragment finished loading saving to",C+"'s init cache"),j.save(e.chunk),D.debug("Append Init fragment",C," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),Z(e.chunk))}function $(e){if(e.fragmentModel===A.getFragmentModel()){var n=e.chunk,r=n.bytes,i=n.quality,a=A.getRepresentationInfo(i),s=T.getEventsFor(a.mediaInfo,A),l=T.getEventsFor(a,A);if(s&&s.length>0||l&&l.length>0){var u=function(e,n,r,i){for(var o=Math.max(!n||isNaN(n.startTime)?0:n.startTime,0),a=[],s=[],l=r.concat(i),u=0,c=l.length;u<c;u++)a[l[u].schemeIdUri+"/"+l[u].value]=l[u];var d=(0,f.default)(t).getInstance().parse(e).getBoxes("emsg");for(u=0,c=d.length;u<c;u++){var h=T.getEvent(d[u],a,o);h&&s.push(h)}return s}(r,A.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,quality:i,index:n.index})[0],s,l);A.addInbandEvents(u)}if(K){W=n;var c=L&&L.getAllBufferRanges();c&&c.length>0&&R.getTimeToStreamEnd()>.5&&(D.debug("Clearing buffer because track changed - "+(c.end(c.length-1)+.5)),ge([{start:0,end:c.end(c.length-1)+.5,force:!0}]))}else Z(n)}}function Z(e){L.append(e),e.mediaInfo.type===i.default.VIDEO&&n.trigger(d.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function J(e){if(e&&e.length>0)for(var t=0,n=e.length;t<n;t++)D.debug("Buffered Range for type:",C,":",e.start(t)," - ",e.end(t)," currentTime = ",R.getTime())}function ee(e){if(e.error){if(22===e.error.code&&(O=.8*Re(),D.warn("Quota exceeded for type: "+C+", Critical Buffer: "+O),O>0)){var t=Math.max(.2*O,1),r=O-t;h.setBufferToKeep(parseFloat(t.toFixed(5))),h.setBufferAheadToKeep(parseFloat(r.toFixed(5)))}22!==e.error.code&&Ce()||(D.warn("Clearing playback buffer to overcome quota exceed situation for type: "+C),n.trigger(d.default.QUOTA_EXCEEDED,{sender:I,criticalBufferLevel:O}),ie())}else{(B=e.chunk)&&!isNaN(B.index)&&(q=Math.max(B.index,q),de());var i=L.getAllBufferRanges();if(B.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE)J(i),oe();else if(K){var o=R.getTime();D.debug("AppendToBuffer seek target should be "+o),A.getScheduleController().setSeekTarget(o),T.setIndexHandlerTime(A,o)}var a={sender:I,quality:B.quality,startTime:B.start,index:B.index,bufferedRanges:i};B&&!B.endFragment?n.trigger(d.default.BYTES_APPENDED,a):B&&n.trigger(d.default.BYTES_APPENDED_END_FRAGMENT,a)}}function te(e){M!==e.newQuality&&C===e.mediaType&&A.getStreamInfo().id===e.streamInfo.id&&(_e(A.getRepresentationInfo(e.newQuality).MSETimeOffset),M=e.newQuality)}function ne(){x&&(Y=!0,x=!1,F=Number.POSITIVE_INFINITY),C!==i.default.FRAGMENTED_TEXT?ie():oe()}function re(){z=void 0}function ie(){var e=function(){var e=[],t=L.getAllBufferRanges();if(!t||0===t.length)return e;var n=R.getTime(),r=t.end(t.length-1)+.5,i=A.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:.01})[0];if(i){var a={start:0,end:i.startTime-.5},s=A.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime-i.duration/2,threshold:.01})[0];s&&s.startTime!=i.startTime&&(a.end=s.startTime),a.start<a.end&&a.end>t.start(0)&&e.push(a);var l={start:i.startTime+i.duration+.5,end:r},u=A.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime+i.duration+.5,threshold:.01})[0];u&&u.startTime!==i.startTime&&(l.start=u.startTime+u.duration+.5),l.start<l.end&&l.start<r&&e.push(l)}else D.debug("getAllRangesWithSafetyFactor for",C,"- No request found in current time position, removing full buffer 0 -",r),e.push({start:0,end:r});return e}();e&&0!==e.length||oe(),ge(e)}function oe(){(!K||C===i.default.FRAGMENTED_TEXT&&S.isTextEnabled())&&(ue(),ce())}function ae(){fe()}function se(){fe()}function le(e,t){var n=L.getAllBufferRanges(),r=0,i=0,o=null,a=null,s=0,l=void 0,u=void 0,c=t||.15;if(null!=n){for(u=0,l=n.length;u<l;u++)if(r=n.start(u),i=n.end(u),null===o)s=Math.abs(r-e),(e>=r&&e<i||s<=c)&&(o=r,a=i);else{if(!((s=r-a)<=c))break;a=i}if(null!==o)return{start:o,end:a}}return null}function ue(){var e,t,r;R&&(e=function(){var e=R.getTime();if(z){var t=L.getAllBufferRanges();t&&t.length&&(e=Math.max(t.start(0),z))}return e}()||0,N=null===(r=le(e,t))?0:r.end-e,n.trigger(d.default.BUFFER_LEVEL_UPDATED,{sender:I,bufferLevel:N}),fe())}function ce(){A&&E&&A.getStreamInfo()&&(r.addBufferState(C,U,A.getScheduleController().getBufferTarget()),r.addBufferLevel(C,new Date,1e3*N))}function de(){q>=F-1&&!x&&void 0===L.discharge&&(x=!0,D.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),n.trigger(d.default.BUFFERING_COMPLETED,{sender:I,streamInfo:A.getStreamInfo()}))}function fe(){"audio"!==C&&"video"!==C||(Y&&!x&&R&&R.getTimeToStreamEnd()-N<.5&&(Y=!1,x=!0,D.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),n.trigger(d.default.BUFFERING_COMPLETED,{sender:I,streamInfo:A.getStreamInfo()})),(!h.getLowLatencyEnabled()&&N<.5||0===N)&&!x?he("bufferStalled"):(x||N>=h.getStableBufferTime())&&he("bufferLoaded"))}function he(e){U===e||"bufferStalled"===e&&0===R.getTime()||C===i.default.FRAGMENTED_TEXT&&!S.isTextEnabled()||(U=e,ce(),n.trigger(d.default.BUFFER_LEVEL_STATE_CHANGED,{sender:I,state:e,mediaType:C,streamInfo:A.getStreamInfo()}),n.trigger("bufferLoaded"===e?d.default.BUFFER_LOADED:d.default.BUFFER_EMPTY,{mediaType:C}),D.debug("bufferLoaded"===e?"Got enough buffer to start for "+C:"Waiting for more buffer before starting playback for "+C))}function pe(){L&&C!==i.default.FRAGMENTED_TEXT&&(x||ge(function(){var e=[],t=L.getAllBufferRanges();if(!t||0===t.length)return e;var n=R.getTime(),r={start:Math.max(0,n-h.getBufferToKeep()),end:n+h.getBufferAheadToKeep()},i=A.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:.01})[0];if(i)r.start=Math.min(i.startTime,r.start),r.end=Math.max(i.startTime+i.duration,r.end);else if(0===n&&R.getIsDynamic())return[];if(t.start(0)<=r.start){for(var a={start:0,end:r.start},s=0;s<t.length&&t.end(s)<=r.start;s++)a.end=t.end(s);a.start<a.end&&e.push(a)}if(t.end(t.length-1)>=r.end){var l={start:r.end,end:t.end(t.length-1)+.01};l.start<l.end&&e.push(l)}return e}()))}function ge(e){e&&L&&0!==e.length&&(V.push.apply(V,e),G||me())}function me(){if(0===V.length||!L)return D.debug("Nothing to prune, halt pruning"),V=[],void(G=!1);var e=L.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return D.debug("SourceBuffer is empty (or does not exist), halt pruning"),V=[],void(G=!1);var t=V.shift();D.debug("Removing",C,"buffer from:",t.start,"to",t.end),G=!0;var n=R.getTime();n<t.end&&(x=!1,q=0,K||(A.getScheduleController().setSeekTarget(n),T.setIndexHandlerTime(A,n))),L.remove(t.start,t.end,t.force)}function ve(e){L===e.buffer&&(D.debug("onRemoved buffer from:",e.from,"to",e.to),J(L.getAllBufferRanges()),0===V.length&&(G=!1),e.unintended&&(D.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),T.setIndexHandlerTime(A,e.from)),G?me():(K?(K=!1,W&&Z(W)):(D.debug("onRemoved : call updateBufferLevel"),ue()),n.trigger(d.default.BUFFER_CLEARED,{sender:I,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:Ce()})))}function _e(e){L&&L.updateTimestampOffset&&L.updateTimestampOffset(e)}function ye(e){e.sender.getStreamProcessor()!==A||e.error||_e(e.currentRepresentation.MSETimeOffset)}function Ee(e){e.fragmentModel===A.getFragmentModel()&&(F=e.request.index,de())}function be(e){var t=L&&L.getAllBufferRanges();t&&e.newMediaInfo.type===C&&e.newMediaInfo.streamInfo.id===A.getStreamInfo().id&&(D.info("Track change asked"),b.getSwitchMode(C)===u.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&R.getTimeToStreamEnd()>.5&&(x=!1,F=Number.POSITIVE_INFINITY))}function Te(){++H*(h.getWallclockTimeUpdateInterval()/1e3)>=h.getBufferPruningInterval()&&(H=0,pe())}function Se(){fe()}function we(e,t){P=e,L&&t&&"function"==typeof L.discharge&&(k=L,X(t))}function Re(){var e,t=L.getAllBufferRanges(),n=0,r=void 0;if(!t)return n;for(r=0,e=t.length;r<e;r++)n+=t.end(r)-t.start(r);return n}function Ce(){return Re()<O}function Ae(e,t){O=Number.POSITIVE_INFINITY,U=void 0,M=l.default.QUALITY_DEFAULT,F=Number.POSITIVE_INFINITY,q=0,B=null,x=!1,G=!1,Y=!1,N=0,H=0,V=[],L&&(e||L.abort(),L.reset(t),L=null),K=!1}return I={getBufferControllerType:function(){return"BufferController"},initialize:function(e){we(e),M=w.getQualityFor(C,A.getStreamInfo()),n.on(d.default.DATA_UPDATE_COMPLETED,ye,this),n.on(d.default.INIT_FRAGMENT_LOADED,Q,this),n.on(d.default.MEDIA_FRAGMENT_LOADED,$,this),n.on(d.default.QUALITY_CHANGE_REQUESTED,te,this),n.on(d.default.STREAM_COMPLETED,Ee,this),n.on(d.default.PLAYBACK_PLAYING,se,this),n.on(d.default.PLAYBACK_PROGRESS,oe,this),n.on(d.default.PLAYBACK_TIME_UPDATED,oe,this),n.on(d.default.PLAYBACK_RATE_CHANGED,Se,this),n.on(d.default.PLAYBACK_SEEKING,ne,this),n.on(d.default.PLAYBACK_SEEKED,re,this),n.on(d.default.PLAYBACK_STALLED,ae,this),n.on(d.default.WALLCLOCK_TIME_UPDATED,Te,this),n.on(d.default.CURRENT_TRACK_CHANGED,be,this,c.default.EVENT_PRIORITY_HIGH),n.on(d.default.SOURCEBUFFER_REMOVE_COMPLETED,ve,this)},createBuffer:X,dischargePreBuffer:function(){if(L&&k&&"function"==typeof k.discharge){var e=k.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+C+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";D.debug(t)}else D.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var r=k.discharge(),i=null,o=0;o<r.length;o++){var a=r[o],s=j.extract(a.streamId,a.representationId);s&&(i!==s&&(L.append(s),i=s),L.append(a))}k.reset(),k=null}},getType:function(){return C},getStreamProcessor:function(){return A},setSeekStartTime:function(e){z=e},getBuffer:function(){return L},setBuffer:function(e){L=e},getBufferLevel:function(){return N},getRangeAt:le,setMediaSource:we,getMediaSource:function(){return P},getIsBufferingCompleted:function(){return x},switchInitData:function(e,t,r){var i=j.extract(e,t);K=!0===r&&r,i?(D.info("Append Init fragment",C," with representationId:",i.representationId," and quality:",i.quality,", data size:",i.bytes.byteLength),Z(i)):n.trigger(d.default.INIT_REQUESTED,{sender:I})},getIsPruningInProgress:function(){return G},reset:function(e,t){n.off(d.default.DATA_UPDATE_COMPLETED,ye,this),n.off(d.default.QUALITY_CHANGE_REQUESTED,te,this),n.off(d.default.INIT_FRAGMENT_LOADED,Q,this),n.off(d.default.MEDIA_FRAGMENT_LOADED,$,this),n.off(d.default.STREAM_COMPLETED,Ee,this),n.off(d.default.CURRENT_TRACK_CHANGED,be,this),n.off(d.default.PLAYBACK_PLAYING,se,this),n.off(d.default.PLAYBACK_PROGRESS,oe,this),n.off(d.default.PLAYBACK_TIME_UPDATED,oe,this),n.off(d.default.PLAYBACK_RATE_CHANGED,Se,this),n.off(d.default.PLAYBACK_SEEKING,ne,this),n.off(d.default.PLAYBACK_SEEKED,re,this),n.off(d.default.PLAYBACK_STALLED,ae,this),n.off(d.default.WALLCLOCK_TIME_UPDATED,Te,this),n.off(d.default.SOURCEBUFFER_REMOVE_COMPLETED,ve,this),Ae(e,t)}},D=(0,p.default)(t).getInstance().getLogger(I),j=(0,g.default)(t).getInstance(),Ae(),I}y.__dashjs_factory_name="BufferController";var E=h.default.getClassFactory(y);E.BUFFER_LOADED="bufferLoaded",E.BUFFER_EMPTY="bufferStalled",h.default.updateClassFactory(y.__dashjs_factory_name,E),t.default=E,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete",t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=n(42),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var o=Object.create(n(35));o.inherits=n(30);var a=n(99),s=n(65);o.inherits(d,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeDollarsInTemplate=function(e){return e?e.split("$$").join("$"):e},t.replaceIDForTemplate=function(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)},t.replaceTokenForTemplate=l,t.getIndexBasedSegment=function(e,t,n,r){var i,a,l=void 0,u=void 0;u=n.segmentDuration,isNaN(u)&&(u=n.adaptation.period.duration);return i=parseFloat((n.adaptation.period.start+r*u).toFixed(5)),a=parseFloat((i+u).toFixed(5)),(l=new o.default).representation=n,l.duration=u,l.presentationStartTime=i,l.mediaStartTime=e.calcMediaTimeFromPresentationTime(l.presentationStartTime,n),l.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(l.presentationStartTime,n.adaptation.period.mpd,t),l.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(a,n.adaptation.period.mpd,t),l.wallStartTime=e.calcWallTimeForSegment(l,t),l.replacementNumber=s(l,r),l.availabilityIdx=r,l},t.getTimeBasedSegment=function(e,t,n,r,i,a,u,c,d,f){var h,p,g=r/a,m=Math.min(i/a,n.adaptation.period.mpd.maxSegmentDuration),v=void 0;return h=e.calcPresentationTimeFromMediaTime(g,n),p=h+m,(v=new o.default).representation=n,v.duration=m,v.mediaStartTime=g,v.presentationStartTime=h,v.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,v.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(p,n.adaptation.period.mpd,t),v.wallStartTime=e.calcWallTimeForSegment(v,t),v.replacementTime=f||r,v.replacementNumber=s(v,d),u=l(u,"Number",v.replacementNumber),u=l(u,"Time",v.replacementTime),v.media=u,v.mediaRange=c,v.availabilityIdx=d,v},t.getSegmentByIndex=u,t.decideSegmentListRangeForTemplate=function(e,t,n,r,i,o){var a=n.segmentDuration,s=n.adaptation.period.mpd.manifest.minBufferTime,l=n.segmentAvailabilityRange,c={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l?l.start:NaN),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,l?l.end:NaN)},d=n.segments,f=2*a,h=o||Math.max(2*s,10*a),p=NaN,g=null,m=void 0,v=void 0;if(c.start=Math.max(c.start,0),t&&!e.isTimeSyncCompleted())return m=Math.floor(c.start/a),v=Math.floor(c.end/a),{start:m,end:v};d&&d.length>0?(g=u(i,n),p=g?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,g.presentationStartTime):i>0?i*a:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r)):p=i>0?i*a:t?c.end:c.start;return m=Math.floor(Math.max(p-f,c.start)/a),v=Math.floor(Math.min(m+h/a,c.end/a)),{start:m,end:v}};var r,i=n(69),o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){for(;e.length<t;)e="0"+e;return e}function s(e,t){return e.representation.startNumber+t}function l(e,t,n){var r=void 0,i=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=t.length,d="%0".length;if(!e)return e;for(;;){if((r=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",r+c))<0)return e;if((o=e.indexOf("%0",r+c))>r&&o<i)switch(s=e.charAt(i-1),l=parseInt(e.substring(o+d,i-1),10),s){case"d":case"i":case"u":u=a(n.toString(),l);break;case"x":u=a(n.toString(16),l);break;case"X":u=a(n.toString(16),l).toUpperCase();break;case"o":u=a(n.toString(8),l);break;default:return e}else u=n;e=e.substring(0,r)+u+e.substring(i+1)}}function u(e,t){if(!t||!t.segments)return null;var n=t.segments.length,r=void 0,i=void 0;if(e<n&&(r=t.segments[e])&&r.availabilityIdx===e)return r;for(i=0;i<n;i++)if((r=t.segments[i])&&r.availabilityIdx===e)return r;return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){var t;e||(e="");var n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return r(e,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),e}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkParameterType=function(e,t){if(typeof e!==t)throw o.default.BAD_ARGUMENT_ERROR},t.checkInteger=function(e){if(null===e||isNaN(e)||e%1!=0)throw o.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},t.checkRange=function(e,t,n){if(e<t||e>n)throw o.default.BAD_ARGUMENT_ERROR+" : argument out of range"},t.checkIsVideoOrAudioType=function(e){if("string"!=typeof e||e!==o.default.AUDIO&&e!==o.default.VIDEO)throw o.default.BAD_ARGUMENT_ERROR};var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var i,o,a=void 0,s=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(o=t.getUint8(r))||1===o){r++,r+=3,a="";var l=void 0,u=void 0;for(l=0;l<4;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=4,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<6;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;r+=6,a=a.toLowerCase(),t.getUint32(r),r+=4,n[a]=t.buffer.slice(s,i),r=i}else r=i;else r=i}return n}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";(function(t){var r=n(165),i=n(87),o=i("transform"),a=i("backfaceVisibility"),s=function(){if(r.hasCSSTransforms()){var e=t.window?t.window.navigator.userAgent:"UNKNOWN";return!(/Safari\//.test(e)&&!/Chrome\//.test(e))&&r.hasCSS3DTransforms()?function(e,t,n){e[o]="translate3d("+t+"px,"+n+"px,0)",e[a]="hidden"}:function(e,t,n){e[o]="translate("+t+"px,"+n+"px)"}}return function(e,t,n){e.left=t+"px",e.top=n+"px"}}();e.exports=s}).call(this,n(14))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return u[c++]})))}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(188)),a=r(n(1)),s=r(n(59)),l=r(n(190));function u(){var e=void 0,t=void 0,n=this.context;function r(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=s.default.parseBuffer(e),r=(0,o.default)(n).create();return r.setData(t),r}function a(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function u(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:r,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new l.default(0,!1);for(var r=t instanceof ArrayBuffer?new Uint8Array(t):t,i=void 0,o=0;n<r.byteLength;){var s=a(r,n),c=u(r,n+4);if(0===s)break;n+s<=r.byteLength&&(e.indexOf(c)>=0?i=new l.default(n,!0,s):o=n+s),n+=s}return i||new l.default(o,!1)},getMediaTimescaleFromMoov:function(e){var t=r(e),n=t?t.getBox("mdhd"):void 0;return n?n.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,n,i=r(e),o=i.getBoxes("moof"),a=i.getBoxes("mfhd"),s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0;n=i.getBoxes("moof").length,t=a[a.length-1].sequence_number,l=0,d=[];var b=-1,T=-1;for(m=0;m<o.length;m++){var S=o[m],w=S.getChildBoxes("traf");for(p=0;p<w.length;p++){var R=w[p],C=R.getChildBox("tfhd"),A=R.getChildBox("tfdt");c=A.baseMediaDecodeTime;var I=R.getChildBoxes("trun"),D=R.getChildBoxes("subs");for(g=0;g<I.length;g++){var M=I[g];for(l=M.sample_count,y=(C.base_data_offset||0)+(M.data_offset||0),h=0;h<l;h++){s=void 0!==(f=M.samples[h]).sample_duration?f.sample_duration:C.default_sample_duration,u=void 0!==f.sample_size?f.sample_size:C.default_sample_size;var x={dts:c,cts:c+(void 0!==f.sample_composition_time_offset?f.sample_composition_time_offset:0),duration:s,offset:S.offset+y,size:u,subSizes:[u]};if(D)for(v=0;v<D.length;v++){var N=D[v];if(b<N.entry_count-1&&h>T&&(b++,T+=N.entries[b].sample_delta),h==T){x.subSizes=[];var O=N.entries[b];for(_=0;_<O.subsample_count;_++)x.subSizes.push(O.subsamples[_].subsample_size)}}d.push(x),y+=u,c+=s}}E=c-A.baseMediaDecodeTime}}return{sampleList:d,lastSequenceNumber:t,totalDuration:E,numSequences:n}},findInitRange:function(t){var n=null,i=r(t);if(!i)return n;var o=i.getBox("ftyp"),a=i.getBox("moov");return e.debug("Searching for initialization."),a&&a.isComplete&&(n=(o?o.offset:a.offset)+"-"+(a.offset+a.size-1),e.debug("Found the initialization.  Range: "+n)),n}},e=(0,i.default)(n).getInstance().getLogger(t),t}u.__dashjs_factory_name="BoxParser",t.default=a.default.getSingletonFactory(u),e.exports=t.default},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(62).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(71)),a=r(n(238)),s=n(9),l=r(n(1)),u=r(n(7)),c=r(n(6));function d(e){e=e||{};var t,n,r,l=this.context,d=e.errHandler,f=e.metricsModel,h=e.mediaPlayerModel,p=e.requestModifier,g=e.boxParser,m=e.useFetch||!1,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0;return t={load:function(e){e.request&&function e(t,n){var r=t.request,i=[],u=!0,T=!0,S=new Date,w=S,R=0,C=void 0;if(!p||!f||!d)throw new Error("config object is not correct or missing");var A=function(e){T=!1,r.requestStartDate=S,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||S,r.checkExistenceOnly||(f.addHttpRequest(r.mediaType,null,r.type,r.url,C.response?C.response.responseURL:null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,C.response?C.response.status:null,r.duration,C.response&&C.response.getAllResponseHeaders?C.response.getAllResponseHeaders():C.response?C.response.responseHeaders:[],e?i:null),r.type===s.HTTPRequest.MPD_TYPE&&f.addManifestUpdate("stream",r.type,r.requestStartDate,r.requestEndDate))},I=function(){-1!==v.indexOf(C)&&(v.splice(v.indexOf(C),1),T&&(A(!1),n>0?function(){n--;var i={config:t};y.push(i),i.timeout=setTimeout((function(){-1!==y.indexOf(i)&&(y.splice(y.indexOf(i),1),e(t,n))}),h.getRetryIntervalForType(r.type))}():(d.downloadError(E[r.type],r.url,r),d.error(new c.default(b[r.type],r.url+" is not available",{request:r,response:C.response})),t.error&&t.error(r,"error",C.response.statusText),t.complete&&t.complete(r,C.response.statusText))))},D=void 0;D=m&&window.fetch&&"arraybuffer"===r.responseType&&r.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,a.default)(l).create({requestModifier:p,boxParser:g}):(0,o.default)(l).create({requestModifier:p,boxParser:g});var M=p.modifyRequestURL(r.url),x=r.checkExistenceOnly?s.HTTPRequest.HEAD:s.HTTPRequest.GET,N=h.getXHRWithCredentialsForType(r.type);C={url:M,method:x,withCredentials:N,request:r,onload:function(){C.response.status>=200&&C.response.status<=299&&(A(!0),t.success&&t.success(C.response.response,C.response.statusText,C.response.responseURL),t.complete&&t.complete(r,C.response.statusText))},onend:I,onerror:I,progress:function(e){var n=new Date;u&&(u=!1,(!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(r.firstByteDate=n)),e.lengthComputable&&(r.bytesLoaded=e.loaded,r.bytesTotal=e.total),e.noTrace||(i.push({s:w,d:e.time?e.time:n.getTime()-w.getTime(),b:[e.loaded?e.loaded-R:0]}),w=n,R=e.loaded),t.progress&&e&&t.progress(e)},onabort:function(){t.abort&&t.abort(r)},loader:D};var O,P=(new Date).getTime();isNaN(r.delayLoadingTime)||P>=r.delayLoadingTime?(v.push(C),D.load(C)):(O={httpRequest:C},_.push(O),O.delayTimeout=setTimeout((function(){if(-1!==_.indexOf(O)){_.splice(_.indexOf(O),1);try{S=new Date,w=S,v.push(O.httpRequest),D.load(O.httpRequest)}catch(e){O.httpRequest.onerror()}}}),r.delayLoadingTime-P))}(e,h.getRetryAttemptsForType(e.request.type))},abort:function(){y.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),y=[],_.forEach((function(e){return clearTimeout(e.delayTimeout)})),_=[],v.forEach((function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e),e.onabort()})),v=[]}},v=[],_=[],y=[],i(n={},s.HTTPRequest.MPD_TYPE,u.default.DOWNLOAD_ERROR_ID_MANIFEST),i(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,u.default.DOWNLOAD_ERROR_ID_XLINK),i(n,s.HTTPRequest.INIT_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_INITIALIZATION),i(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),i(n,s.HTTPRequest.OTHER_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT),E=n,i(r={},s.HTTPRequest.MPD_TYPE,u.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE),i(r,s.HTTPRequest.XLINK_EXPANSION_TYPE,u.default.DOWNLOAD_ERROR_ID_XLINK_CODE),i(r,s.HTTPRequest.INIT_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),i(r,s.HTTPRequest.MEDIA_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.INDEX_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),i(r,s.HTTPRequest.OTHER_TYPE,u.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),b=r,t}d.__dashjs_factory_name="HTTPLoader";var f=l.default.getClassFactory(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(104),o=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1)),s=r(n(20)),l=r(n(4));function u(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=e.metricsModel,a=e.fragmentLoader,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0;function p(e){var t;return!!e&&(t=!1,f.some((function(n){if(r=e,i=n,!isNaN(r.index)&&r.startTime===i.startTime&&r.adaptationIndex===i.adaptationIndex&&r.type===i.type||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,n)||function(e,t){return e.action===s.default.ACTION_COMPLETE&&e.action===t.action}(e,n))return t=!0;var r,i})),t)}function g(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function m(e){f=f.filter((function(t){var n=g(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-n}))}function v(e,t){t<=e+.5||(f=f.filter((function(n){var r=g(n);return isNaN(n.startTime)||n.startTime>=t-r||isNaN(n.duration)||n.startTime+n.duration<=e+r})))}function _(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=i.startTime,a=o+i.duration;if(n=isNaN(n)?g(i):n,!isNaN(o)&&!isNaN(a)&&t+n>=o&&t-n<a||isNaN(o)&&isNaN(t))return i}return null}function y(e,t){r.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),r.addRequestsQueue(e.mediaType,h,f)}function E(e){e.sender===a&&(h.splice(h.indexOf(e.request),1),e.response&&!e.error&&f.push(e.request),y(e.request,e.error?"failed":"executed"),n.trigger(o.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function b(e){e.sender===a&&n.trigger(o.default.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function T(e){e.sender===a&&n.trigger(o.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:e.request,mediaType:e.mediaType})}function S(){f=[],h=[]}return u={setStreamProcessor:function(e){d=e},getStreamProcessor:function(){return d},getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],n=[];return t.forEach((function(t){var r=function(e){var t=void 0;switch(e){case"loading":t=h;break;case"executed":t=f;break;default:t=[]}return t}(t);n=n.concat(function(e,t){if(t.hasOwnProperty("time"))return[_(e,t.time,t.threshold)];return e.filter((function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0}))}(r,e))})),n},isFragmentLoaded:p,isFragmentLoadedOrPending:function(e){var t=!1,n=0,r=void 0;if(!(t=p(e)))for(n=0;n<h.length;n++)r=h[n],e.url===r.url&&e.startTime===r.startTime&&(t=!0);return t},removeExecutedRequestsBeforeTime:m,removeExecutedRequestsAfterTime:function(e){f=f.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime+t.duration<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var n=0,r=0,i=e.length;r<i;r++)v(n,e.start(r)),n=e.end(r);t>0&&v(n,t)}else m()},abortRequests:function(){a.abort(),h=[]},executeRequest:function(e){switch(e.action){case s.default.ACTION_COMPLETE:f.push(e),y(e,"executed"),c.debug("executeRequest trigger STREAM_COMPLETED"),n.trigger(o.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case s.default.ACTION_DOWNLOAD:y(e,"loading"),h.push(e),function(e){n.trigger(o.default.FRAGMENT_LOADING_STARTED,{sender:u,request:e}),a.load(e)}(e);break;default:c.warn("Unknown request action.")}},reset:function(){n.off(o.default.LOADING_COMPLETED,E,this),n.off(o.default.LOADING_DATA_PROGRESS,b,this),n.off(o.default.LOADING_ABANDONED,T,this),a&&a.reset(),S()},addExecutedRequest:function(e){f.push(e)}},c=(0,l.default)(t).getInstance().getLogger(u),S(),n.on(o.default.LOADING_COMPLETED,E,u),n.on(o.default.LOADING_DATA_PROGRESS,b,u),n.on(o.default.LOADING_ABANDONED,T,u),u}u.__dashjs_factory_name="FragmentModel";var c=a.default.getClassFactory(u);c.FRAGMENT_MODEL_LOADING="loading",c.FRAGMENT_MODEL_EXECUTED="executed",c.FRAGMENT_MODEL_CANCELED="canceled",c.FRAGMENT_MODEL_FAILED="failed",a.default.updateClassFactory(u.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){!function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"}(t)},function(e,t,n){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var o,a=null,s=i[e.toLowerCase()];return void 0!==s?a=s:null!==(o=t.exec(e))?a=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),void 0!==o[4]?parseInt(o[4],16):255]:null!==(o=n.exec(e))?a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),255]:null!==(o=r.exec(e))&&(a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseInt(o[4])]),a};var o=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;e.parseLength=function(e){var t,n=null;return null!==(t=o.exec(e))&&(n={value:parseFloat(t[1]),unit:t[2]}),n},e.parseTextShadow=function(t){var n=t.split(","),r=[];for(var i in n){var o=n[i].split(" ");if(1===o.length&&"none"===o[0])return"none";if(o.length>1&&o.length<5){var a=[null,null,null,null],s=e.parseLength(o.shift());if(null===s)return null;if(a[0]=s,null===(s=e.parseLength(o.shift())))return null;if(a[1]=s,0===o.length){r.push(a);continue}if(null!==(s=e.parseLength(o[0]))&&(a[2]=s,o.shift()),0===o.length){r.push(a);continue}var l=e.parseColor(o[0]);if(null===l)return null;a[3]=l,r.push(a)}}return r},e.parsePosition=function(t){var n=t.split(" "),r=function(e){return"center"===e||"left"===e||"top"===e||"bottom"===e||"right"===e};if(n.length>4)return null;for(var i in n)if(!r(n[i])){var o=e.parseLength(n[i]);if(null===o)return null;n[i]=o}for(var a={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},s=0;s<n.length;){var l=n[s++];if(r(l)){var u={value:0,unit:"%"};2!==n.length&&s<n.length&&!r(n[s])&&(u=n[s++]),"right"===l?(a.h.edge=l,a.h.offset=u):"bottom"===l?(a.v.edge=l,a.v.offset=u):"left"===l?a.h.offset=u:"top"===l&&(a.v.offset=u)}else{if(1!==n.length&&2!==n.length)return null;1===s?a.h.offset=l:a.v.offset=l}}return a},e.ComputedLength=function(e,t){this.rw=e,this.rh=t},e.ComputedLength.prototype.toUsedLength=function(e,t){return e*this.rw+t*this.rh},e.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},e.toComputedLength=function(t,n,r,i,o,a){return"%"===n&&i?new e.ComputedLength(i.rw*t/100,i.rh*t/100):"em"===n&&r?new e.ComputedLength(r.rw*t,r.rh*t):"c"===n&&o?new e.ComputedLength(t*o.rw,t*o.rh):"px"===n&&a?new e.ComputedLength(t*a.rw,t*a.rh):"rh"===n?new e.ComputedLength(0,t/100):"rw"===n?new e.ComputedLength(t/100,0):null}}(t)},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(25))},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(62),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(105)),o=r(n(2)),a=r(n(28)),s=r(n(106)),l=r(n(38)),u=r(n(3)),c=r(n(5)),d=r(n(1)),f=r(n(219)),h=r(n(17)),p=r(n(220)),g=r(n(221)),m=r(n(222)),v=n(9),_=r(n(4)),y=n(29);function E(){var e=this.context,t=(0,_.default)(e).getInstance(),n=(0,u.default)(e).getInstance(),r=void 0,d=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0,z=void 0,Y=void 0,V=void 0,K=void 0;function W(){(E=(0,i.default)(e).create({metricsModel:Y,dashMetrics:V,mediaPlayerModel:k,adapter:F})).initialize()}function X(){T={video:!0,audio:!0},S={},w={},R={},C={},I={},A={},H={},z={},M=!1,K=!0,x=!1,void 0===N&&(N=!1),B=void 0,G=void 0,j=void 0,clearTimeout(D),D=null}function Q(e){e.mediaType===o.default.VIDEO&&(B=e.oldQuality,G.push(B,L.getPlaybackQuality()))}function $(e){e.metric!==a.default.HTTP_REQUEST||!e.value||e.value.type!==v.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==o.default.AUDIO&&e.mediaType!==o.default.VIDEO||j.push(e.mediaType,e.value,K),e.metric!==a.default.BUFFER_LEVEL||e.mediaType!==o.default.AUDIO&&e.mediaType!==o.default.VIDEO||function(e,t){var n=k.getABRStrategy();if(n===o.default.ABR_STRATEGY_BOLA)return void(z[e]=!0);if(n===o.default.ABR_STRATEGY_THROUGHPUT)return void(z[e]=!1);var r=k.getStableBufferTime(),i=r,a=.5*r,s=z[e],l=t>(s?a:i);z[e]=l,l!==s&&(l?d.info("AbrController ("+e+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):d.info("AbrController ("+e+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}(e.mediaType,.001*e.value.level)}function Z(e,t){return S[t]=S[t]||{},S[t].hasOwnProperty(e)||(S[t][e]=0),function(e,t){if(t!==o.default.VIDEO||!M||!A[t])return e;N||fe();var n=q.getValue(),r=F.getAdaptationForType(n,0,t).Representation,i=e;if(O>0&&P>0){for(;i>0&&r[i]&&O<r[i].width&&O-r[i-1].width<r[i].width-O;)i-=1;r.length-2>=i&&r[i].width===r[i+1].width&&(i=Math.min(e,i+1))}return i}(function(e,t,n){var r=re(t);if(isNaN(r)||r>=1||r<0)return e;return Math.min(e,Math.round(n*r))}(function(e,t){var n=e;if(!A[t])return n;var r=ne(t);void 0!==r&&(n=Math.max(e,r));var i=te(t);void 0!==i&&(n=Math.min(n,i));return n}(S[t][e],e),e,S[t][e]),e)}function J(e){return R.hasOwnProperty("max")&&R.max.hasOwnProperty(e)?R.max[e]:NaN}function ee(e){return R.hasOwnProperty("min")&&R.min.hasOwnProperty(e)?R.min[e]:NaN}function te(e){var t=J(e);return t?le(A[e].getMediaInfo(),t):void 0}function ne(e){var t=ee(e);if(t){var n=A[e].getMediaInfo(),r=ue(n),i=le(n,t);return r[i]&&i<r.length-1&&r[i].bitrate<1e3*t&&i++,i}}function re(e){return C.hasOwnProperty("max")&&C.max.hasOwnProperty(e)?C.max[e]:1}function ie(e){return T[e]}function oe(e,t,n,r){var i=t.id,o=de(e);(0,y.checkInteger)(n);var a=Z(e,i);n!==o&&n>=0&&n<=a&&ae(e,o,n,a,r)}function ae(e,r,i,o,a){if(e&&A[e]){var s=A[e].getStreamInfo(),l=s?s.id:null;if(t.getLogToBrowserConsole()){var u=V.getCurrentBufferLevel(Y.getReadOnlyMetricsFor(e));d.info("AbrController ("+e+") switch from "+r+" to "+i+"/"+o+" (buffer: "+u+") "+(a?JSON.stringify(a):"."))}!function(e,t,n){w[t]=w[t]||{},w[t][e]=n}(e,l,i),n.trigger(c.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:s,oldQuality:r,newQuality:i,reason:a})}}function se(e,t){I[e].state=t}function le(e,t,n){var r=e&&e.type?A[e.type].getRepresentationInfo():null;if(K&&n&&r&&r.fragmentDuration){n/=1e3;var i=r.fragmentDuration;if(n>i)return 0;t*=1-n/i}for(var o=ue(e),a=o.length-1;a>=0;a--){if(1e3*t>=o[a].bitrate)return a}return 0}function ue(e){var t=[];if(!e||!e.bitrateList)return t;for(var n=e.bitrateList,r=e.type,i=void 0,o=0,a=n.length;o<a;o++)(i=new s.default).mediaType=r,i.qualityIndex=o,i.bitrate=n[o].bandwidth,i.width=n[o].width,i.height=n[o].height,i.scanType=n[o].scanType,t.push(i);return t}function ce(e){return z[e]}function de(e){if(e&&A[e]){var t=A[e].getStreamInfo(),n=t?t.id:null;if(n)return w[n]=w[n]||{},w[n].hasOwnProperty(e)||(w[n][e]=0),w[n][e]}return 0}function fe(){if(L){var e=x&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;O=L.getClientWidth()*e,P=L.getClientHeight()*e}}function he(t){var n=t.request.mediaType;if(ie(n)){var i=A[n];if(!i)return;var o=(0,f.default)(e).create({abrController:r,streamProcessor:i,currentRequest:t.request,useBufferOccupancyABR:ce(n)}),a=E.shouldAbandonFragment(o);if(a.quality>h.default.NO_CHANGE){var s=i.getFragmentModel();s.getRequests({state:l.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(s.abortRequests(),se(n,"abandonload"),H[n].reset(),H[n].push({oldValue:de(n,b.getActiveStreamInfo()),newValue:a.quality,confidence:1,reason:a.reason}),oe(n,b.getActiveStreamInfo(),a.quality,a.reason),clearTimeout(D),D=setTimeout((function(){se(n,"allowload"),D=null}),k.getAbandonLoadTimeout()))}}}return r={isPlayingAtTopQuality:function(e){var t=e?e.id:null,n=de(o.default.AUDIO),r=de(o.default.VIDEO);return n===Z(o.default.AUDIO,t)&&r===Z(o.default.VIDEO,t)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return function(e,t,n){S[t]=S[t]||{},S[t][e]=n}(t,n,r),r},getThroughputHistory:function(){return j},getBitrateList:ue,getQualityForBitrate:le,getMaxAllowedBitrateFor:J,getTopBitrateInfoFor:function(e){if(e&&A&&A[e]){var t=A[e].getStreamInfo();if(t&&t.id){var n=Z(e,t.id),r=ue(A[e].getMediaInfo());return r[n]?r[n]:null}}return null},getMinAllowedBitrateFor:ee,setMaxAllowedBitrateFor:function(e,t){(0,y.checkParameterType)(t,"number"),(0,y.checkIsVideoOrAudioType)(e),R.max=R.max||{},R.max[e]=t},setMinAllowedBitrateFor:function(e,t){(0,y.checkParameterType)(t,"number"),(0,y.checkIsVideoOrAudioType)(e),R.min=R.min||{},R.min[e]=t},getMaxAllowedIndexFor:te,getMinAllowedIndexFor:ne,getMaxAllowedRepresentationRatioFor:re,setMaxAllowedRepresentationRatioFor:function(e,t){C.max=C.max||{},C.max[e]=t},getInitialBitrateFor:function(e){!function(){if(!U||!U.hasOwnProperty("getSavedBitrateSettings"))throw new Error(o.default.MISSING_CONFIG_ERROR)}();var t=U.getSavedBitrateSettings(e);if(!R.hasOwnProperty(e))if(C.hasOwnProperty(e)){var n=q.getValue(),r=F.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*C[e])-1,0);R[e]=r[i].bandwidth}else R[e]=0}else isNaN(t)?R[e]=e===o.default.VIDEO?1e3:100:R[e]=t;return R[e]},setInitialBitrateFor:function(e,t){(0,y.checkIsVideoOrAudioType)(e),(0,y.checkParameterType)(t,"number"),R[e]=t},getInitialRepresentationRatioFor:function(e){return C.hasOwnProperty(e)?C[e]:null},setInitialRepresentationRatioFor:function(e,t){C[e]=t},setAutoSwitchBitrateFor:function(e,t){(0,y.checkParameterType)(t,"boolean"),(0,y.checkIsVideoOrAudioType)(e),T[e]=t},getAutoSwitchBitrateFor:ie,getUseDeadTimeLatency:function(){return K},setUseDeadTimeLatency:function(e){(0,y.checkParameterType)(e,"boolean"),K=e},setLimitBitrateByPortal:function(e){(0,y.checkParameterType)(e,"boolean"),M=e},getLimitBitrateByPortal:function(){return M},getUsePixelRatioInLimitBitrateByPortal:function(){return x},setUsePixelRatioInLimitBitrateByPortal:function(e){(0,y.checkParameterType)(e,"boolean"),x=e},getQualityFor:de,getAbandonmentStateFor:function(e){return I[e]?I[e].state:null},setPlaybackQuality:oe,checkPlaybackQuality:function(n){if(n&&A&&A[n]){var i=A[n].getStreamInfo(),o=i?i.id:null,a=de(n),s=(0,f.default)(e).create({abrController:r,streamProcessor:A[n],currentValue:a,switchHistory:H[n],droppedFramesHistory:G,useBufferOccupancyABR:ce(n)});if(G){var l=L.getPlaybackQuality();l&&G.push(B,l)}if(ie(n)){var u=ne(n),c=Z(n,o),p=E.getMaxQuality(s),g=p.quality;if(void 0!==u&&g<u&&(g=u),g>c&&(g=c),H[n].push({oldValue:a,newValue:g}),g>h.default.NO_CHANGE&&g!=a)("allowload"===I[n].state||g>a)&&ae(n,a,g,c,p.reason);else if(t.getLogToBrowserConsole()){var m=V.getCurrentBufferLevel(Y.getReadOnlyMetricsFor(n));d.debug("AbrController ("+n+") stay on "+a+"/"+c+" (buffer: "+m+")")}}}},getTopQualityIndexFor:Z,setElementSize:fe,setWindowResizeEventCalled:function(e){N=e},createAbrRulesCollection:W,registerStreamType:function(t,r){H[t]=(0,p.default)(e).create(),A[t]=r,I[t]=I[t]||{},I[t].state="allowload",z[t]=!1,n.on(c.default.LOADING_PROGRESS,he,this),t==o.default.VIDEO&&(n.on(c.default.QUALITY_CHANGE_RENDERED,Q,this),G=(0,g.default)(e).create(),fe()),n.on(c.default.METRIC_ADDED,$,this),n.on(c.default.PERIOD_SWITCH_COMPLETED,W,this),j=(0,m.default)(e).create({mediaPlayerModel:k})},unRegisterStreamType:function(e){delete A[e]},setConfig:function(e){e&&(e.streamController&&(b=e.streamController),e.domStorage&&(U=e.domStorage),e.mediaPlayerModel&&(k=e.mediaPlayerModel),e.metricsModel&&(Y=e.metricsModel),e.dashMetrics&&(V=e.dashMetrics),e.adapter&&(F=e.adapter),e.manifestModel&&(q=e.manifestModel),e.videoModel&&(L=e.videoModel))},reset:function(){X(),n.off(c.default.LOADING_PROGRESS,he,this),n.off(c.default.QUALITY_CHANGE_RENDERED,Q,this),n.off(c.default.METRIC_ADDED,$,this),n.off(c.default.PERIOD_SWITCH_COMPLETED,W,this),E&&E.reset()}},d=t.getLogger(r),X(),r}E.__dashjs_factory_name="AbrController";var b=d.default.getSingletonFactory(E);b.ABANDON_LOAD="abandonload",b.QUALITY_DEFAULT=0,d.default.updateSingletonFactory(E.__dashjs_factory_name,b),t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}a.__dashjs_factory_name="RequestModifier",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._test=t,this._converter=n}return r(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39),o=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(324)),a=r(n(325)),s=r(n(326)),l=r(n(327)),u=r(n(328)),c=r(n(329)),d=r(n(330)),f=r(n(331)),h=r(n(23));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,p=void 0,g=void 0,m=void 0,v=void 0;return t={initialize:function(){p=[];var t=void 0;t=(0,l.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,s.default)(e).getInstance({BASE64:g}),p.push(t),t=(0,o.default)(e).getInstance({BASE64:g}),p.push(t),m=t,t=(0,a.default)(e).getInstance({BASE64:g,debug:n}),p.push(t),v=t},setProtectionData:function(e){for(var t,n,r=0;r<p.length;r++){var i=p[r];i.hasOwnProperty("init")&&i.init((t=i.systemString,n=void 0,n=null,e&&(n=t in e?e[t]:null),n))}},isClearKey:function(e){return e===m||e===v},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1},getKeySystems:function(){return p},getKeySystemBySystemString:function(e){for(var t=0;t<p.length;t++)if(p[t].systemString===e)return p[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=[];if(e)for(r=0;r<p.length;++r)for(n=p[r],i=0;i<e.length;++i)if((t=e[i]).schemeIdUri.toLowerCase()===n.schemeIdURI){var a=n.getInitData(t);a?o.push({ks:p[r],initData:a,cdmData:n.getCDMData(),sessionId:n.getSessionId(t)}):this.isClearKey(n)&&o.push({ks:n,initData:null})}return o},getSupportedKeySystems:function(e,t){for(var n=[],r=i.default.parsePSSHList(e),o=void 0,a=void 0,s=void 0,l=0;l<p.length;++l)a=(o=p[l]).systemString,s=!t||a in t,o.uuid in r&&s&&n.push({ks:o,initData:r[o.uuid],cdmData:o.getCDMData(),sessionId:o.getSessionId()});return n},getLicenseServer:function(t,n,r){if("license-release"===r||"individualization-request"===r)return null;var i=null;return n&&n.hasOwnProperty("drmtoday")?i=(0,u.default)(e).getInstance({BASE64:g}):t.systemString===h.default.WIDEVINE_KEYSTEM_STRING?i=(0,d.default)(e).getInstance():t.systemString===h.default.PLAYREADY_KEYSTEM_STRING?i=(0,c.default)(e).getInstance():t.systemString===h.default.CLEARKEY_KEYSTEM_STRING&&(i=(0,f.default)(e).getInstance()),i},processClearKeyLicenseRequest:function(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(e){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&(e.debug&&(n=e.debug,r=n.getLogger(t)),e.BASE64&&(g=e.BASE64))}}}p.__dashjs_factory_name="ProtectionKeyController",t.default=dashjs.FactoryMaker.getSingletonFactory(p),e.exports=t.default},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c={};function d(){}function f(){}function h(){}var p={};p[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(w([])));m&&m!==t&&n.call(m,i)&&(p=m);var v=h.prototype=d.prototype=Object.create(p);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function w(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}return f.prototype=v.constructor=h,h.constructor=f,f.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new y(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(v),s(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(24),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function E(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||_}function b(){}function T(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=E.prototype;var S=T.prototype=new b;S.constructor=T,r(S,E.prototype),S.isPureReactComponent=!0;var w={current:null},R=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)R.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,M=[];function x(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function O(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+P(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+P(s=t[u],u);l+=e(s,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+P(s,u++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function q(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),O(e,F,t=x(t,o,r,i)),N(t)}var k={current:null};function U(){var e=k.current;if(null===e)throw Error(v(321));return e}var B={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;O(e,q,t=x(null,null,t,n)),N(t)},count:function(e){return O(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(v(143));return e}},t.Component=E,t.Fragment=s,t.Profiler=u,t.PureComponent=T,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)R.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(24),o=n(52);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function h(e,t,n,r,i,o,a,c,d){l=!1,u=null,s.apply(f,arguments)}var p=null,g=null,m=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,o,s,f,p){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var g=u;l=!1,u=null,c||(c=!0,d=g)}}(r,t,void 0,e),e.currentTarget=null}var _=null,y={};function E(){if(_)for(var e in y){var t=y[e],n=_.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!T[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in T[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(S.hasOwnProperty(l))throw Error(a(99,l));S[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&b(u[i],s,l);i=!0}else o.registrationName?(b(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function b(e,t,n){if(w[e])throw Error(a(100,e));w[e]=t,R[e]=t.eventTypes[n].dependencies}var T=[],S={},w={},R={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&E()}var A=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),I=null,D=null,M=null;function x(e){if(e=g(e)){if("function"!=typeof I)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),I(e.stateNode,e.type,t))}}function N(e){D?M?M.push(e):M=[e]:D=e}function O(){if(D){var e=D,t=M;if(M=D=null,x(e),t)for(e=0;e<t.length;e++)x(t[e])}}function P(e,t){return e(t)}function q(e,t,n,r,i){return e(t,n,r,i)}function F(){}var L=P,k=!1,U=!1;function B(){null===D&&null===M||(F(),O())}function H(e,t,n){if(U)return e(t,n);U=!0;try{return L(e,t,n)}finally{U=!1,B()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j=Object.prototype.hasOwnProperty,z={},Y={};function V(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new V(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new V(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new V(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new V(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new V(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new V(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new V(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new V(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new V(e,5,!1,e.toLowerCase(),null,!1)}));var W=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(W,X);K[t]=new V(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(W,X);K[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(W,X);K[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new V(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new V(e,1,!1,e.toLowerCase(),null,!0)}));var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=K.hasOwnProperty(t)?K[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!j.call(Y,e)||!j.call(z,e)&&(G.test(e)?Y[e]=!0:(z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,de=J?Symbol.for("react.memo"):60115,fe=J?Symbol.for("react.lazy"):60116,he=J?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return me(e.type);case he:return me(e.render);case fe:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=me(e.type);n=null,r&&(n=me(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function we(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Re(e,t){we(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ae(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ae(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function Ne(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Pe="http://www.w3.org/1999/xhtml",qe="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ke,Ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==qe||"innerHTML"in e)e.innerHTML=t;else{for((ke=ke||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ke.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},je={},ze={};function Ye(e){if(je[e])return je[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in ze)return je[e]=n[t];return e}A&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Ve=Ye("animationend"),Ke=Ye("animationiteration"),We=Ye("animationstart"),Xe=Ye("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"==typeof WeakMap?WeakMap:Map);function Ze(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!A)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<T.length;l++){var u=T[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=rt(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Wt(t,"scroll",!0);break;case"focus":case"blur":Wt(t,"focus",!0),Wt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Wt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var gt,mt,vt,_t=!1,yt=[],Et=null,bt=null,Tt=null,St=new Map,wt=new Map,Rt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Dt(e,t){switch(e){case"focus":case"blur":Et=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=It(t,n,r,i,o),null!==t&&(null!==(t=In(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function xt(e){var t=An(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=In(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Ot(e,t,n){Nt(e)&&n.delete(t)}function Pt(){for(_t=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=In(e.blockedOn))&&gt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==Et&&Nt(Et)&&(Et=null),null!==bt&&Nt(bt)&&(bt=null),null!==Tt&&Nt(Tt)&&(Tt=null),St.forEach(Ot),wt.forEach(Ot)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Pt)))}function Ft(e){function t(t){return qt(t,e)}if(0<yt.length){qt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==bt&&qt(bt,e),null!==Tt&&qt(Tt,e),St.forEach(t),wt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)xt(n),null===n.blockedOn&&Rt.shift()}var Lt={},kt=new Map,Ut=new Map,Bt=["abort","abort",Ve,"animationEnd",Ke,"animationIteration",We,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),kt.set(r,o),Lt[i]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(Bt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),jt=0;jt<Gt.length;jt++)Ut.set(Gt[jt],0);var zt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Vt=!0;function Kt(e,t){Wt(t,e,!1)}function Wt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){k||F();var i=$t,o=k;k=!0;try{q(i,e,t,n,r)}finally{(k=o)||B()}}function Qt(e,t,n,r){Yt(zt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Vt)if(0<yt.length&&-1<Ct.indexOf(e))e=It(null,e,t,n,r),yt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Dt(e,r);else if(-1<Ct.indexOf(e))e=It(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Et=Mt(Et,e,t,n,r,i),!0;case"dragenter":return bt=Mt(bt,e,t,n,r,i),!0;case"mouseover":return Tt=Mt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Mt(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wt.set(o,Mt(wt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Dt(e,r),e=ft(e,r,null,t);try{H(ht,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=An(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{H(ht,e)}finally{dt(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Pe;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=R[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"==typeof setTimeout?setTimeout:void 0,En="function"==typeof clearTimeout?clearTimeout:void 0;function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Tn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),wn="__reactInternalInstance$"+Sn,Rn="__reactEventHandlers$"+Sn,Cn="__reactContainere$"+Sn;function An(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[wn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Tn(e);null!==e;){if(n=e[wn])return n;e=Tn(e)}return t}n=(e=n).parentNode}return null}function In(e){return!(e=e[wn]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Mn(e){return e[Rn]||null}function xn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function On(e,t,n){(t=Nn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Pn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xn(t);for(t=n.length;0<t--;)On(n[t],"captured",e);for(t=0;t<n.length;t++)On(n[t],"bubbled",e)}}function qn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Nn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Fn(e){e&&e.dispatchConfig.registrationName&&qn(e._targetInst,null,e)}function Ln(e){it(e,Pn)}var kn=null,Un=null,Bn=null;function Hn(){if(Bn)return Bn;var e,t,n=Un,r=n.length,i="value"in kn?kn.value:kn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function jn(){return!1}function zn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:jn,this.isPropagationStopped=jn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Vn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=Yn,e.release=Vn}i(zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:jn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jn,this._dispatchInstances=this._dispatchListeners=null}}),zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},zn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Kn(n),n},Kn(zn);var Wn=zn.extend({data:null}),Xn=zn.extend({data:null}),Qn=[9,13,27,32],$n=A&&"CompositionEvent"in window,Zn=null;A&&"documentMode"in document&&(Zn=document.documentMode);var Jn=A&&"TextEvent"in window&&!Zn,er=A&&(!$n||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if($n)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Hn()):(Un="value"in(kn=r)?kn.value:kn.textContent,ar=!0)),o=Wn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Ln(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!$n&&ir(e,t)?(e=Hn(),Bn=Un=kn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,Ln(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=zn.getPooled(cr.change,e,t,n)).type="change",N(n),Ln(e),e}var fr=null,hr=null;function pr(e){st(e)}function gr(e){if(be(Dn(e)))return e}function mr(e,t){if("change"===e)return t}var vr=!1;function _r(){fr&&(fr.detachEvent("onpropertychange",yr),hr=fr=null)}function yr(e){if("value"===e.propertyName&&gr(hr))if(e=dr(hr,e,lt(e)),k)st(e);else{k=!0;try{P(pr,e)}finally{k=!1,B()}}}function Er(e,t,n){"focus"===e?(_r(),hr=n,(fr=t).attachEvent("onpropertychange",yr)):"blur"===e&&_r()}function br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(hr)}function Tr(e,t){if("click"===e)return gr(t)}function Sr(e,t){if("input"===e||"change"===e)return gr(t)}A&&(vr=ut("input")&&(!document.documentMode||9<document.documentMode));var wr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=mr;else if(ur(i))if(vr)a=Sr;else{a=br;var s=Er}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Tr);if(a&&(a=a(e,t)))return dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ae(i,"number",i.value)}},Rr=zn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cr[e])&&!!t[e]}function Ir(){return Ar}var Dr=0,Mr=0,xr=!1,Nr=!1,Or=Rr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,xr?"mousemove"===e.type?e.screenX-t:0:(xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Nr?"mousemove"===e.type?e.screenY-t:0:(Nr=!0,0)}}),Pr=Or.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Fr={eventTypes:qr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Or,l=qr.mouseLeave,u=qr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Pr,l=qr.pointerLeave,u=qr.pointerEnter,c="pointer");if(e=null==a?o:Dn(a),o=null==t?o:Dn(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=xn(e))a++;for(e=0,t=u;t;t=xn(t))e++;for(;0<a-e;)s=xn(s),a--;for(;0<e-a;)u=xn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=xn(s),u=xn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=xn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=xn(c);for(c=0;c<s.length;c++)qn(s[c],"bubbled",l);for(c=r.length;0<c--;)qn(r[c],"captured",n);return 0==(64&i)?[l]:[l,n]}};var Lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},kr=Object.prototype.hasOwnProperty;function Ur(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!kr.call(t,n[r])||!Lr(e[n[r]],t[n[r]]))return!1;return!0}var Br=A&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,jr=null,zr=null,Yr=!1;function Vr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==Gr||Gr!==cn(n)?null:("selectionStart"in(n=Gr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zr&&Ur(zr,n)?null:(zr=n,(e=zn.getPooled(Hr.select,jr,e,t)).type="select",e.target=Gr,Ln(e),e))}var Kr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=R.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Dn(t):window,e){case"focus":(ur(i)||"true"===i.contentEditable)&&(Gr=i,jr=t,zr=null);break;case"blur":zr=jr=Gr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Vr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Vr(n,r)}return null}},Wr=zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=zn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qr=Rr.extend({relatedTarget:null});function $r(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Rr.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$r(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?$r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Or.extend({dataTransfer:null}),ni=Rr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),ri=zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Or.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Lt,extractEvents:function(e,t,n,r){var i=kt.get(e);if(!i)return null;switch(e){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Qr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ve:case Ke:case We:e=Wr;break;case Xe:e=ri;break;case"scroll":e=Rr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Pr;break;default:e=zn}return Ln(t=e.getPooled(i,t,n,r)),t}};if(_)throw Error(a(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E(),p=Mn,g=In,m=Dn,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Fr,ChangeEventPlugin:wr,SelectEventPlugin:Kr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var ci={},di={current:ci},fi={current:!1},hi=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=(e=e.childContextTypes)}function mi(){li(fi),li(di)}function vi(e,t,n){if(di.current!==ci)throw Error(a(168));ui(di,t),ui(fi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,me(t)||"Unknown",o));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=di.current,ui(di,e),ui(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ui(di,e)):li(fi),ui(fi,n)}var bi=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,wi=o.unstable_requestPaint,Ri=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Ni={},Oi=o.unstable_shouldYield,Pi=void 0!==wi?wi:function(){},qi=null,Fi=null,Li=!1,ki=Ri(),Ui=1e4>ki?Ri:function(){return Ri()-ki};function Bi(){switch(Ci()){case Ai:return 99;case Ii:return 98;case Di:return 97;case Mi:return 96;case xi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Ii;case 97:return Di;case 96:return Mi;case 95:return xi;default:throw Error(a(332))}}function Gi(e,t){return e=Hi(e),bi(e,t)}function ji(e,t,n){return e=Hi(e),Ti(e,t,n)}function zi(e){return null===qi?(qi=[e],Fi=Ti(Ai,Vi)):qi.push(e),Ni}function Yi(){if(null!==Fi){var e=Fi;Fi=null,Si(e)}Vi()}function Vi(){if(!Li&&null!==qi){Li=!0;var e=0;try{var t=qi;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),qi=null}catch(t){throw null!==qi&&(qi=qi.slice(e+1)),Ti(Ai,Yi),t}finally{Li=!1}}}function Ki(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Wi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Qi=null,$i=null,Zi=null;function Ji(){Zi=$i=Qi=null}function eo(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Qi=e,Zi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ma=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Qi)throw Error(a(308));$i=t,Qi.dependencies={expirationTime:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,d=null,f=null,h=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(f=h=g,d=u):h=h.next=g,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if("function"==typeof(m=v.payload)){u=m.call(g,u,s);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(s="function"==typeof(m=v.payload)?m.call(g,u,s):m))break e;u=i({},u,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?d=u:h.next=f,o.baseState=d,o.baseQueue=h,al(c),e.expirationTime=c,e.memoizedState=u}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var ho=Q.ReactCurrentBatchConfig,po=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=ho.suspense;(i=so(r=Ks(r,e,i),i)).payload=t,null!=n&&(i.callback=n),lo(e,i),Ws(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=ho.suspense;(i=so(r=Ks(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),lo(e,i),Ws(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Vs(),r=ho.suspense;(r=so(n=Ks(n,e,r),r)).tag=2,null!=t&&(r.callback=t),lo(e,r),Ws(e,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function _o(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=gi(t)?hi:di.current,o=(r=null!=(r=t.contextTypes))?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=gi(t)?hi:di.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function wo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Al(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Il(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Al(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case te:return(t=Ml(t,e.mode,n)).return=e,t}if(bo(t)||ge(t))return(t=Il(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(bo(n)||ge(n))return null!==i?null:d(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||ge(r))return d(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function g(i,a,s,l){for(var u=null,c=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(i,d),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(a=o(d,a,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=ge(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,g=s,m=s=0,v=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=h(i,g,_.value,u);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y,g=v}if(_.done)return n(i,g),c;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=f(i,_.value,u))&&(s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return c}for(g=r(i,g);!_.done;m++,_=l.next())null!==(_=p(g,i,m,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=To(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=Il(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Al(o.type,o.key,o.props,null,e.mode,l)).ref=To(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ml(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Dl(o,e.mode,l)).return=e,e=r),s(e);if(bo(o))return g(e,r,o,l);if(ge(o))return m(e,r,o,l);if(c&&So(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ro=wo(!0),Co=wo(!1),Ao={},Io={current:Ao},Do={current:Ao},Mo={current:Ao};function xo(e){if(e===Ao)throw Error(a(174));return e}function No(e,t){switch(ui(Mo,t),ui(Do,e),ui(Io,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Io),ui(Io,t)}function Oo(){li(Io),li(Do),li(Mo)}function Po(e){xo(Mo.current);var t=xo(Io.current),n=Le(t,e.type);t!==n&&(ui(Do,e),ui(Io,n))}function qo(e){Do.current===e&&(li(Io),li(Do))}var Fo={current:0};function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ko(e,t){return{responder:e,props:t}}var Uo=Q.ReactCurrentDispatcher,Bo=Q.ReactCurrentBatchConfig,Ho=0,Go=null,jo=null,zo=null,Yo=!1;function Vo(){throw Error(a(321))}function Ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Wo(e,t,n,r,i,o){if(Ho=o,Go=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Uo.current=null===e||null===e.memoizedState?va:_a,e=n(r,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,zo=jo=null,t.updateQueue=null,Uo.current=ya,e=n(r,i)}while(t.expirationTime===Ho)}if(Uo.current=ma,t=null!==jo&&null!==jo.next,Ho=0,zo=jo=Go=null,Yo=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===zo?Go.memoizedState=zo=e:zo=zo.next=e,zo}function Qo(){if(null===jo){var e=Go.alternate;e=null!==e?e.memoizedState:null}else e=jo.next;var t=null===zo?Go.memoizedState:zo.next;if(null!==t)zo=t,jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(jo=e).memoizedState,baseState:jo.baseState,baseQueue:jo.baseQueue,queue:jo.queue,next:null},null===zo?Go.memoizedState=zo=e:zo=zo.next=e}return zo}function $o(e,t){return"function"==typeof t?t(e):t}function Zo(e){var t=Qo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<Ho){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,c>Go.expirationTime&&(Go.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,Lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Qo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e}).dispatch=ga.bind(null,Go,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Go.updateQueue)?(t={lastEffect:null},Go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Qo().memoizedState}function ra(e,t,n,r){var i=Xo();Go.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Qo();r=void 0===r?null:r;var o=void 0;if(null!==jo){var a=jo.memoizedState;if(o=a.destroy,null!==r&&Ko(r,a.deps))return void ta(t,n,o,r)}Go.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function ca(){}function da(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Qo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Qo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Bi();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=Bo.suspense;Bo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Bo.suspense=r}}))}function ga(e,t,n){var r=Vs(),i=ho.suspense;i={expirationTime:r=Ks(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Go||null!==o&&o===Go)Yo=!0,i.expirationTime=Ho,Go.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Lr(s,a))return}catch(e){}Ws(e,r)}}var ma={readContext:ro,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useResponder:Vo,useDeferredValue:Vo,useTransition:Vo},va={readContext:ro,useCallback:da,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:ko,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Zo,useRef:na,useState:function(){return Zo($o)},useDebugValue:ca,useResponder:ko,useDeferredValue:function(e,t){var n=Zo($o),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo($o),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo($o)},useDebugValue:ca,useResponder:ko,useDeferredValue:function(e,t){var n=Jo($o),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo($o),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},Ea=null,ba=null,Ta=!1;function Sa(e,t){var n=wl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function wa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ra(e){if(Ta){var t=ba;if(t){var n=t;if(!wa(e,t)){if(!(t=bn(n.nextSibling))||!wa(e,t))return e.effectTag=-1025&e.effectTag|2,Ta=!1,void(Ea=e);Sa(Ea,n)}Ea=e,ba=bn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ta=!1,Ea=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ea=e}function Aa(e){if(e!==Ea)return!1;if(!Ta)return Ca(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=ba;t;)Sa(e,t),t=bn(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ba=bn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ba=null}}else ba=Ea?bn(e.stateNode.nextSibling):null;return!0}function Ia(){ba=Ea=null,Ta=!1}var Da=Q.ReactCurrentOwner,Ma=!1;function xa(e,t,n,r){t.child=null===e?Co(t,null,n,r):Ro(t,e.child,n,r)}function Na(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Wo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Wa(e,t,i))}function Oa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Al(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&e.ref===t.ref)?Wa(e,t,o):(t.effectTag|=1,(e=Cl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Pa(e,t,n,r,i,o){return null!==e&&Ur(e.memoizedProps,r)&&e.ref===t.ref&&(Ma=!1,i<o)?(t.expirationTime=e.expirationTime,Wa(e,t,o)):Fa(e,t,n,r,o)}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Fa(e,t,n,r,i){var o=gi(n)?hi:di.current;return o=pi(t,o),no(t,i),n=Wo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Wa(e,t,i))}function La(e,t,n,r,i){if(gi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ro(u):u=pi(t,u=gi(n)?hi:di.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&yo(t,a,r,u),io=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),l=t.memoizedState,s!==r||f!==l||fi.current||io?("function"==typeof c&&(go(t,n,c,r),l=t.memoizedState),(s=io||vo(t,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Wi(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(t,u=gi(n)?hi:di.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&yo(t,a,r,u),io=!1,l=t.memoizedState,a.state=l,co(t,r,a,i),f=t.memoizedState,s!==r||l!==f||fi.current||io?("function"==typeof c&&(go(t,n,c,r),f=t.memoizedState),(c=io||vo(t,n,s,r,l,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return ka(e,t,n,r,o,i)}function ka(e,t,n,r,i,o){qa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ei(t,n,!1),Wa(e,t,o);r=t.stateNode,Da.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ro(t,e.child,null,o),t.child=Ro(t,null,s,o)):xa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),No(e,t.containerInfo)}var Ba,Ha,Ga,ja={dehydrated:null,retryTime:0};function za(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Fo.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(Fo,1&a),null===e){if(void 0!==o.fallback&&Ra(t),s){if(s=o.fallback,(o=Il(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Il(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=ja,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Co(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Cl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Cl(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=ja,t.child=n,i}return n=Ro(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Il(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Il(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=ja,t.child=o,n}return t.memoizedState=null,t.child=Ro(t,e,o.children,n)}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Va(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ka(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Fo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o,t.lastEffect);break;case"together":Va(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Wa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Cl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(t.type)&&mi(),null;case 3:return Oo(),li(fi),li(di),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Aa(t)||(t.effectTag|=4),null;case 5:qo(t),n=xo(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ha(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=xo(Io.current),Aa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[wn]=t,r[Rn]=s,o){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Kt(Qe[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Se(r,s),Kt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),ln(n,"onChange");break;case"textarea":xe(r,s),Kt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):w.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":Ee(r),Ce(r,s,!0);break;case"textarea":Ee(r),Oe(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Fe(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[wn]=t,e[Rn]=r,Ba(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":Kt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Qe.length;u++)Kt(Qe[u],e);u=r;break;case"source":Kt("error",e),u=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),u=r;break;case"form":Kt("reset",e),Kt("submit",e),u=r;break;case"details":Kt("toggle",e),u=r;break;case"input":Se(e,r),u=Te(e,r),Kt("invalid",e),ln(n,"onChange");break;case"option":u=Ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Kt("invalid",e),ln(n,"onChange");break;case"textarea":xe(e,r),u=Me(e,r),Kt("invalid",e),ln(n,"onChange");break;default:u=r}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Ue(e,d):"children"===s?"string"==typeof d?("textarea"!==o||""!==d)&&Be(e,d):"number"==typeof d&&Be(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(w.hasOwnProperty(s)?null!=d&&ln(n,s):null!=d&&$(e,s,d,l))}switch(o){case"input":Ee(e),Ce(e,r,!1);break;case"textarea":Ee(e),Oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+_e(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=xo(Mo.current),xo(Io.current),Aa(t)?(n=t.stateNode,r=t.memoizedProps,n[wn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wn]=t,t.stateNode=n)}return null;case 13:return li(Fo),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Aa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?As===Es&&(As=bs):(As!==Es&&As!==bs||(As=Ts),0!==Ns&&null!==ws&&(Ol(ws,Cs),Pl(ws,Ns)))),(n||r)&&(t.effectTag|=4),null);case 4:return Oo(),null;case 10:return eo(t),null;case 17:return gi(t.type)&&mi(),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(As!==Es||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Lo(s))){for(t.effectTag|=64,Xa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ui(Fo,1&Fo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Lo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Fo.current,ui(Fo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function $a(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Oo(),li(fi),li(di),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return qo(e),null;case 13:return li(Fo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Oo(),null;case 10:return eo(e),null;default:return null}}function Za(e,t){return{value:e,source:t,stack:ve(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(xo(Io.current),e=null,n){case"input":a=Te(u,a),r=Te(u,r),e=[];break;case"option":a=Ie(u,a),r=Ie(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Me(u,a),r=Me(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(w.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(w.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ga=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_l(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Wi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Tl&&Tl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){_l(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){_l(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,d=u;;)if(as(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Rn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&we(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Ue(n,l):"children"===s?Be(n,l):$(n,s,l,t)}switch(e){case"input":Re(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ps=Ui()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fs(t);case 19:return void fs(t);case 17:return}throw Error(a(163))}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fs||(Fs=!0,Ls=r),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ks?ks=new Set([this]):ks.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ms,vs=Math.ceil,_s=Q.ReactCurrentDispatcher,ys=Q.ReactCurrentOwner,Es=0,bs=3,Ts=4,Ss=0,ws=null,Rs=null,Cs=0,As=Es,Is=null,Ds=1073741823,Ms=1073741823,xs=null,Ns=0,Os=!1,Ps=0,qs=null,Fs=!1,Ls=null,ks=null,Us=!1,Bs=null,Hs=90,Gs=null,js=0,zs=null,Ys=0;function Vs(){return 0!=(48&Ss)?1073741821-(Ui()/10|0):0!==Ys?Ys:Ys=1073741821-(Ui()/10|0)}function Ks(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ss))return Cs;if(null!==n)e=Ki(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ki(e,150,100);break;case 97:case 96:e=Ki(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ws&&e===Cs&&--e,e}function Ws(e,t){if(50<js)throw js=0,zs=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Bi();1073741823===t?0!=(8&Ss)&&0==(48&Ss)?Js(e):($s(e),0===Ss&&Yi()):$s(e),0==(4&Ss)||98!==n&&99!==n||(null===Gs?Gs=new Map([[e,t]]):(void 0===(n=Gs.get(e))||n>t)&&Gs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ws===i&&(al(t),As===Ts&&Ol(i,Cs)),Pl(i,t)),i}function Qs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Nl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function $s(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=zi(Js.bind(null,e));else{var t=Qs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Vs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ni&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?zi(Js.bind(null,e)):ji(r,Zs.bind(null,e),{timeout:10*(1073741821-t)-Ui()}),e.callbackNode=t}}}function Zs(e,t){if(Ys=0,t)return ql(e,t=Vs()),$s(e),null;var n=Qs(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ss))throw Error(a(327));if(gl(),e===ws&&n===Cs||nl(e,n),null!==Rs){var r=Ss;Ss|=16;for(var i=il();;)try{ll();break}catch(t){rl(e,t)}if(Ji(),Ss=r,_s.current=i,1===As)throw t=Is,nl(e,n),Ol(e,n),$s(e),t;if(null===Rs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=As,ws=null,r){case Es:case 1:throw Error(a(345));case 2:ql(e,2<n?2:n);break;case bs:if(Ol(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),1073741823===Ds&&10<(i=Ps+500-Ui())){if(Os){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Qs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(fl.bind(null,e),i);break}fl(e);break;case Ts:if(Ol(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),Os&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=Qs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Ui():1073741823===Ds?r=0:(r=10*(1073741821-Ds)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(fl.bind(null,e),r);break}fl(e);break;case 5:if(1073741823!==Ds&&null!==xs){o=Ds;var s=xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ol(e,n),e.timeoutHandle=yn(fl.bind(null,e),r);break}}fl(e);break;default:throw Error(a(329))}if($s(e),e.callbackNode===t)return Zs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ss))throw Error(a(327));if(gl(),e===ws&&t===Cs||nl(e,t),null!==Rs){var n=Ss;Ss|=16;for(var r=il();;)try{sl();break}catch(t){rl(e,t)}if(Ji(),Ss=n,_s.current=r,1===As)throw n=Is,nl(e,t),Ol(e,t),$s(e),n;if(null!==Rs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ws=null,fl(e),$s(e)}return null}function el(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Yi()}}function tl(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Yi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,En(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mi();break;case 3:Oo(),li(fi),li(di);break;case 5:qo(r);break;case 4:Oo();break;case 13:case 19:li(Fo);break;case 10:eo(r)}n=n.return}ws=e,Rs=Cl(e.current,null),Cs=t,As=Es,Is=null,Ms=Ds=1073741823,xs=null,Ns=0,Os=!1}function rl(e,t){for(;;){try{if(Ji(),Uo.current=ma,Yo)for(var n=Go.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,zo=jo=Go=null,Yo=!1,null===Rs||null===Rs.return)return As=1,Is=t,Rs=null;e:{var i=e,o=Rs.return,a=Rs,s=t;if(t=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Fo.current),d=o;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var _=i.pingCache;if(null===_?(_=i.pingCache=new hs,s=new Set,_.set(l,s)):void 0===(s=_.get(l))&&(s=new Set,_.set(l,s)),!s.has(a)){s.add(a);var y=yl.bind(null,i,l,a);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==As&&(As=2),s=Za(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,uo(d,ps(d,l,t));break e;case 1:l=s;var E=d.type,b=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof E.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ks||!ks.has(b)))){d.effectTag|=4096,d.expirationTime=t,uo(d,gs(d,l,t));break e}}d=d.return}while(null!==d)}Rs=cl(Rs)}catch(e){t=e;continue}break}}function il(){var e=_s.current;return _s.current=ma,null===e?ma:e}function ol(e,t){e<Ds&&2<e&&(Ds=e),null!==t&&e<Ms&&2<e&&(Ms=e,xs=t)}function al(e){e>Ns&&(Ns=e)}function sl(){for(;null!==Rs;)Rs=ul(Rs)}function ll(){for(;null!==Rs&&!Oi();)Rs=ul(Rs)}function ul(e){var t=ms(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),ys.current=null,t}function cl(e){Rs=e;do{var t=Rs.alternate;if(e=Rs.return,0==(2048&Rs.effectTag)){if(t=Qa(t,Rs,Cs),1===Cs||1!==Rs.childExpirationTime){for(var n=0,r=Rs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Rs.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Rs.firstEffect),null!==Rs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Rs.firstEffect),e.lastEffect=Rs.lastEffect),1<Rs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Rs:e.firstEffect=Rs,e.lastEffect=Rs))}else{if(null!==(t=$a(Rs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Rs.sibling))return t;Rs=e}while(null!==Rs);return As===Es&&(As=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Bi();return Gi(99,hl.bind(null,e,t)),null}function hl(e,t){do{gl()}while(null!==Bs);if(0!=(48&Ss))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ws&&(Rs=ws=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ss;Ss|=32,ys.current=null,gn=Vt;var s=hn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,h=-1,p=-1,g=0,m=0,v=s,_=null;t:for(;;){for(var y;v!==l||0!==c&&3!==v.nodeType||(h=f+c),v!==d||0!==u&&3!==v.nodeType||(p=f+u),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)_=v,v=y;for(;;){if(v===s)break t;if(_===l&&++g===c&&(h=f),_===d&&++m===u&&(p=f),null!==(y=v.nextSibling))break;_=(v=_).parentNode}v=y}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},Vt=!1,qs=i;do{try{pl()}catch(e){if(null===qs)throw Error(a(330));_l(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=i;do{try{for(s=e,l=t;null!==qs;){var E=qs.effectTag;if(16&E&&Be(qs.stateNode,""),128&E){var b=qs.alternate;if(null!==b){var T=b.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(1038&E){case 2:us(qs),qs.effectTag&=-3;break;case 6:us(qs),qs.effectTag&=-3,ds(qs.alternate,qs);break;case 1024:qs.effectTag&=-1025;break;case 1028:qs.effectTag&=-1025,ds(qs.alternate,qs);break;case 4:ds(qs.alternate,qs);break;case 8:cs(s,c=qs,l),ss(c)}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));_l(qs,e),qs=qs.nextEffect}}while(null!==qs);if(T=mn,b=hn(),E=T.focusedElem,l=T.selectionRange,b!==E&&E&&E.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(E.ownerDocument.documentElement,E)){null!==l&&pn(E)&&(b=l.start,void 0===(T=l.end)&&(T=b),"selectionStart"in E?(E.selectionStart=b,E.selectionEnd=Math.min(T,E.value.length)):(T=(b=E.ownerDocument||document)&&b.defaultView||window).getSelection&&(T=T.getSelection(),c=E.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!T.extend&&s>l&&(c=l,l=s,s=c),c=fn(E,s),d=fn(E,l),c&&d&&(1!==T.rangeCount||T.anchorNode!==c.node||T.anchorOffset!==c.offset||T.focusNode!==d.node||T.focusOffset!==d.offset)&&((b=b.createRange()).setStart(c.node,c.offset),T.removeAllRanges(),s>l?(T.addRange(b),T.extend(d.node,d.offset)):(b.setEnd(d.node,d.offset),T.addRange(b))))),b=[];for(T=E;T=T.parentNode;)1===T.nodeType&&b.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof E.focus&&E.focus(),E=0;E<b.length;E++)(T=b[E]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Vt=!!gn,mn=gn=null,e.current=n,qs=i;do{try{for(E=e;null!==qs;){var S=qs.effectTag;if(36&S&&os(E,qs.alternate,qs),128&S){b=void 0;var w=qs.ref;if(null!==w){var R=qs.stateNode;switch(qs.tag){case 5:b=R;break;default:b=R}"function"==typeof w?w(b):w.current=b}}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));_l(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=null,Pi(),Ss=o}else e.current=n;if(Us)Us=!1,Bs=e,Hs=t;else for(qs=i;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,qs=t;if(0===(t=e.firstPendingTime)&&(ks=null),1073741823===t?e===zs?js++:(js=0,zs=e):js=0,"function"==typeof bl&&bl(n.stateNode,r),$s(e),Fs)throw Fs=!1,e=Ls,Ls=null,e;return 0!=(8&Ss)||Yi(),null}function pl(){for(;null!==qs;){var e=qs.effectTag;0!=(256&e)&&ns(qs.alternate,qs),0==(512&e)||Us||(Us=!0,ji(97,(function(){return gl(),null}))),qs=qs.nextEffect}}function gl(){if(90!==Hs){var e=97<Hs?97:Hs;return Hs=90,Gi(e,ml)}}function ml(){if(null===Bs)return!1;var e=Bs;if(Bs=null,0!=(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(t){if(null===e)throw Error(a(330));_l(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Yi(),!0}function vl(e,t,n){lo(e,t=ps(e,t=Za(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&$s(e)}function _l(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ks||!ks.has(r))){lo(n,e=gs(n,e=Za(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&$s(n);break}}n=n.return}}function yl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ws===e&&Cs===n?As===Ts||As===bs&&1073741823===Ds&&Ui()-Ps<500?nl(e,Cs):Os=!0:Nl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,$s(e)))}function El(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ks(t=Vs(),e,null)),null!==(e=Xs(e,t))&&$s(e)}ms=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Ma=!0;else{if(r<n){switch(Ma=!1,t.tag){case 3:Ua(t),Ia();break;case 5:if(Po(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&yi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ui(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?za(e,t,n):(ui(Fo,1&Fo.current),null!==(t=Wa(e,t,n))?t.sibling:null);ui(Fo,1&Fo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ka(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(Fo,Fo.current),!r)return null}return Wa(e,t,n)}Ma=!1}}else Ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,di.current),no(t,n),i=Wo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternalFiber=t,Eo(t,r,e,n),t=ka(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Rl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Wi(i,e),o){case 0:t=Fa(null,t,i,e,n);break e;case 1:t=La(null,t,i,e,n);break e;case 11:t=Na(null,t,i,e,n);break e;case 14:t=Oa(null,t,i,Wi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ia(),t=Wa(e,t,n);else{if((i=t.stateNode.hydrate)&&(ba=bn(t.stateNode.containerInfo.firstChild),Ea=t,i=Ta=!0),i)for(n=Co(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(e,t,r,n),Ia();t=t.child}return t;case 5:return Po(t),null===e&&Ra(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_n(r,i)?s=null:null!==o&&_n(r,o)&&(t.effectTag|=16),qa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ra(t),null;case 13:return za(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ro(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Xi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Lr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){t=Wa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=Wi(i=t.type,t.pendingProps),Oa(e,t,i,o=Wi(i.type,o),r,n);case 15:return Pa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,yi(t)):e=!1,no(t,n),_o(t,r,i),Eo(t,r,i,n),ka(null,t,r,!0,e,n);case 19:return Ka(e,t,n)}throw Error(a(156,t.tag))};var bl=null,Tl=null;function Sl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function wl(e,t,n,r){return new Sl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var n=e.alternate;return null===n?((n=wl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Rl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Il(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=wl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ue:return(e=wl(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=wl(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case fe:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=wl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Il(e,t,n,r){return(e=wl(7,e,r,t)).expirationTime=n,e}function Dl(e,t,n){return(e=wl(6,e,null,t)).expirationTime=n,e}function Ml(e,t,n){return(t=wl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Nl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ol(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Pl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function ql(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Fl(e,t,n,r){var i=t.current,o=Vs(),s=ho.suspense;o=Ks(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=_i(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Ws(i,o),o}function Ll(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function kl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ul(e,t){kl(e,t),(e=e.alternate)&&kl(e,t)}function Bl(e,t,n){var r=new xl(e,t,n=null!=n&&!0===n.hydrate),i=wl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Cn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Ct.forEach((function(e){pt(e,t,n)})),At.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Hl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Ll(a);s.call(e)}}Fl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ll(a);l.call(e)}}tl((function(){Fl(t,a,e,i)}))}return Ll(a)}function jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hl(t))throw Error(a(200));return jl(e,t,null,n)}Bl.prototype.render=function(e){Fl(e,this._internalRoot,null,null)},Bl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fl(null,e,null,(function(){t[Cn]=null}))},gt=function(e){if(13===e.tag){var t=Ki(Vs(),150,100);Ws(e,t),Ul(e,t)}},mt=function(e){13===e.tag&&(Ws(e,3),Ul(e,3))},vt=function(e){if(13===e.tag){var t=Vs();Ws(e,t=Ks(t,e,null)),Ul(e,t)}},I=function(e,t,n){switch(t){case"input":if(Re(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(a(90));be(r),Re(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},P=el,q=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&Yi()}},F=function(){0==(49&Ss)&&(function(){if(null!==Gs){var e=Gs;Gs=null,e.forEach((function(e,t){ql(t,e),$s(t)})),Yi()}}(),gl())},L=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Yi()}};var Yl={Events:[In,Dn,Mn,C,S,Ln,function(e){it(e,Fn)},N,O,$t,st,gl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);bl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Tl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yl,t.createPortal=zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return Gi(99,e.bind(null,t))}finally{Ss=n,Yi()}},t.hydrate=function(e,t,n){if(!Hl(t))throw Error(a(200));return Gl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Hl(t))throw Error(a(200));return Gl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Gl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Gl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(53)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var v=h.now();t.unstable_now=function(){return h.now()-v}}var _=!1,y=null,E=-1,b=5,T=0;a=function(){return t.unstable_now()>=T},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,w=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();T=e+b;try{y(!0,e)?w.postMessage(null):(_=!1,y=null)}catch(e){throw w.postMessage(null),e}}else _=!1},r=function(e){y=e,_||(_=!0,w.postMessage(null))},i=function(e,n){E=p((function(){e(t.unstable_now())}),n)},o=function(){g(E),E=-1}}function R(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>I(a,n))void 0!==l&&0>I(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>I(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],M=[],x=1,N=null,O=3,P=!1,q=!1,F=!1;function L(e){for(var t=C(M);null!==t;){if(null===t.callback)A(M);else{if(!(t.startTime<=e))break;A(M),t.sortIndex=t.expirationTime,R(D,t)}t=C(M)}}function k(e){if(F=!1,L(e),!q)if(null!==C(D))q=!0,r(U);else{var t=C(M);null!==t&&i(k,t.startTime-e)}}function U(e,n){q=!1,F&&(F=!1,o()),P=!0;var r=O;try{for(L(n),N=C(D);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,O=N.priorityLevel;var l=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?N.callback=l:N===C(D)&&A(D),L(n)}else A(D);N=C(D)}if(null!==N)var u=!0;else{var c=C(M);null!==c&&i(k,c.startTime-n),u=!1}return u}finally{N=null,O=r,P=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){q||P||(q=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return C(D)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:B(e)}else a=B(e),l=s;return e={id:x++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,R(M,e),null===C(D)&&e===C(M)&&(F?o():F=!0,i(k,l-s))):(e.sortIndex=a,R(D,e),q||P||(q=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=C(D);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},,function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}var i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(8),o=n(10),a=n(16),s=n(27),l=n(13),u=o({propTypes:{height:l.number,width:l.number,columnKey:l.oneOfType([l.string,l.number])},render:function(){var e=this.props,t=e.height,n=e.width,o=e.style,l=e.className,u=e.children,c=(e.columnKey,e.rowIndex,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["height","width","style","className","children","columnKey","rowIndex"])),d=r({height:t,width:n},o);return i.createElement("div",r({},c,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),l),style:d}),i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},i.createElement("div",{className:a("public/fixedDataTableCell/cellContent")},u))))}});e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(1)),a=r(n(186)),s=r(n(60)),l=r(n(210)),u=r(n(211)),c=r(n(3)),d=r(n(5)),f=n(29);function h(){var e=this.context,t=void 0,n=void 0,r=void 0,o=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0;function C(e){var t=this,n=e.tracks,r=e.index;n.some((function(e,n){if(e.lang===b)return t.setTextTrack(n),r=n,!0})),S||this.setTextTrack(-1),T=r,E.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:A(),index:r,tracks:n})}function A(){var e=!0;return w&&!R&&(e=!1),e}function I(){w=!1}return t={setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.dashManifestModel&&(o=e.dashManifestModel),e.manifestModel&&(h=e.manifestModel),e.mediaController&&(p=e.mediaController),e.videoModel&&(g=e.videoModel),e.streamController&&(m=e.streamController),e.textTracks&&(v=e.textTracks),e.vttParser&&(_=e.vttParser),e.ttmlParser&&(y=e.ttmlParser),n.setConfig({errHandler:r,dashManifestModel:o,manifestModel:h,mediaController:p,videoModel:g,streamController:m,textTracks:v,vttParser:_,ttmlParser:y}))},getTextSourceBuffer:function(){return n},getAllTracksAreDisabled:function(){return w},addEmbeddedTrack:function(e){n.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return b},setTextDefaultLanguage:function(e){(0,f.checkParameterType)(e,"string"),b=e},setTextDefaultEnabled:function(e){(0,f.checkParameterType)(e,"boolean"),(S=e)||this.setTextTrack(-1)},getTextDefaultEnabled:function(){return S},enableText:function(e){(0,f.checkParameterType)(e,"boolean"),A()!==e&&(e&&this.setTextTrack(T),e||(T=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:A,setTextTrack:function(e){var t=n.getConfig(),r=t.fragmentModel,o=t.fragmentedTracks,a=t.videoModel,s=void 0,l=void 0;w=-1===e;var u=v.getCurrentTrackIdx();if(u!==e){v.setModeForTrackIdx(u,i.default.TEXT_HIDDEN),v.setCurrentTrackIdx(e),v.setModeForTrackIdx(e,i.default.TEXT_SHOWING);var c=v.getCurrentTrackInfo();if(c&&c.isFragmented&&!c.isEmbedded)for(var d=0;d<o.length;d++){var f=o[d];if(c.lang===f.lang&&c.index===f.index&&(f.id?c.id===f.id:c.id===f.index))if(f!==p.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,m.getActiveStreamInfo()))r.abortRequests(),r.removeExecutedRequestsBeforeTime(),n.remove(),v.deleteCuesFromTrackIdx(u),p.setTrack(f),n.setCurrentFragmentedTrackIdx(d);else if(-1===u){for(var h=m.getActiveStreamProcessors(),g=0;g<h.length;g++)if(h[g].getType()===i.default.FRAGMENTED_TEXT){l=h[g];break}l.getIndexHandler().setCurrentTime(a.getTime()),l.getScheduleController().start()}}else if(c&&!c.isFragmented){for(h=m.getActiveStreamProcessors(),d=0;d<h.length;d++)if(h[d].getType()===i.default.TEXT){s=(l=h[d]).getMediaInfoArr();break}if(l&&s)for(d=0;d<s.length;d++)if(s[d].index===c.index&&s[d].lang===c.lang){l.selectMediaInfo(s[d]);break}}}},getCurrentTrackIdx:function(){return v.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){(0,f.checkParameterType)(e,"boolean"),R=e},reset:function(){I(),n.resetEmbedded(),n.reset()}},b="",T=-1,S=!0,R=!1,v=(0,s.default)(e).getInstance(),_=(0,l.default)(e).getInstance(),y=(0,u.default)(e).getInstance(),n=(0,a.default)(e).getInstance(),E=(0,c.default)(e).getInstance(),v.initialize(),E.on(d.default.TEXT_TRACKS_QUEUE_INITIALIZED,C,t),I(),t}h.__dashjs_factory_name="TextController",t.default=o.default.getSingletonFactory(h),e.exports=t.default},function(e,t,n){
/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var r={parseBuffer:function(e){return new i(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxProcessors[e]=t)},createFile:function(){return new i},createBox:function(e,t,n){var r=o.create(e);return t&&t.append(r,n),r},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var r,i=-1;if("number"==typeof n)i=n;else{if("string"==typeof n)r=n;else{if("object"!=typeof n||!n.type)return void e.boxes.push(t);r=n.type}for(var o=0;o<e.boxes.length;o++)if(r===e.boxes[o].type){i=o+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=r.parseBuffer,t.addBoxProcessor=r.addBoxProcessor,t.createFile=r.createFile,t.createBox=r.createBox,t.createFullBox=r.createFullBox,t.Utils=r.Utils,r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}},i.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var n=new Uint8Array(t);for(this._rawo=new DataView(n.buffer),this.bytes=n,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return n.buffer},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.create=function(e){var t=new o;return t.type=e,t.boxes=[],t},o.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],o.prototype._boxProcessors={},o.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},o.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(n,r);else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},o.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},o.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},o.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing)for(e[t]=[],i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i]);else for(i=0;i<n;i++)r.call(this,e[t][i])},o.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},o.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(o.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},o.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},o.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(n+4);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t,n,r=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(i);break;case 16:r=this._raw.getUint16(i);break;case 24:r=((t=this._raw.getUint16(i))<<8)+(n=this._raw.getUint8(i+2));break;case 32:r=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),n=this._raw.getUint32(i+4),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},o.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},o.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},o.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))},o.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},o.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},o.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},o.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeUint=function(e,t){if(this._rawo){var n,r,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(i,n),this._rawo.setUint8(i+2,r);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,n),this._rawo.setUint32(i+4,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},o.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},o.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},o.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},o.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},o.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},o.prototype._boxProcessors.avc1=o.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},o.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},o.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},o.prototype._boxProcessors.free=o.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},o.prototype._boxProcessors.ftyp=o.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},o.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},o.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},o.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},o.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},o.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},o.prototype._boxProcessors.mp4a=o.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},o.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},o.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},o.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},o.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},o.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},o.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},o.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},o.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},o.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},o.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},o.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},o.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},o.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},o.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},o.prototype._boxProcessors["url "]=o.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},o.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},o.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},o.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},o.prototype._boxProcessors.vtte=function(){}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(3)),a=r(n(5)),s=r(n(1)),l=r(n(4)),u=n(97);function c(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,s=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0;function w(e){var t=d[e].kind,n=void 0!==d[e].id?d[e].id:d[e].lang,r=d[e].lang,i=d[e].isTTML,o=d[e].isEmbedded,a=c.addTextTrack(t,n,r);return a.isEmbedded=o,a.isTTML=i,a}function R(e,t,n,r,i,o){var a=0,s=0;e/t>n/r?a=(s=t)/r*n:s=(a=e)/n*r;var l,u,c=0,d=0;return a/s>i?(d=s,c=s*i):(c=a,d=a/i),l=(e-c)/2,u=(t-d)/2,o?{x:l+.1*c,y:u+.1*d,w:.8*c,h:.8*d}:{x:l,y:u,w:c,h:d}}function C(e,n){var r=c.getClientWidth(),i=c.getClientHeight(),o=c.getVideoWidth(),s=c.getVideoHeight(),l=c.getVideoRelativeOffsetTop(),u=c.getVideoRelativeOffsetLeft(),d=o/s,f=!1;e.isFromCEA608&&(d=3.5/3,f=!0);var h=R.call(this,r,i,o,s,d,f),y=h.w,T=h.h,w=h.x,C=h.y;if(y!=m||T!=v||w!=p||C!=g||n){if(p=w+u,g=C+l,m=y,v=T,_){var A=_.style;A.left=p+"px",A.top=g+"px",A.width=m+"px",A.height=v+"px",A.zIndex=E&&document[E]||b?S:null,t.trigger(a.default.CAPTION_CONTAINER_RESIZE,{})}var I=e.activeCues;if(I)for(var D=I.length,M=0;M<D;++M){var x=I[M];x.scaleCue(x)}}}function A(e){var t=m,n=v,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e.cellResolution){var l=[t/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(r in e.linePadding)if(e.linePadding.hasOwnProperty(r)){i=(e.linePadding[r]*l[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),c=0;c<u.length;c++)u[c].style.cssText=u[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),u[c].style.cssText=u[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize){for(r in e.fontSize)if(e.fontSize.hasOwnProperty(r)){"%"===e.fontSize[r][0]?o=e.fontSize[r][1]/100:"c"===e.fontSize[r][0]&&(o=e.fontSize[r][1]),i=(o*l[1]).toString(),s="defaultFontSize"!==r?document.getElementsByClassName(r):document.getElementsByClassName("paragraph");for(var d=0;d<s.length;d++)s[d].style.cssText=s[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(r in e.lineHeight)if(e.lineHeight.hasOwnProperty(r)){"%"===e.lineHeight[r][0]?a=e.lineHeight[r][1]/100:"c"===e.fontSize[r][0]&&(a=e.lineHeight[r][1]),i=(a*l[1]).toString(),s=document.getElementsByClassName(r);for(var f=0;f<s.length;f++)s[f].style.cssText=s[f].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}if(e.isd){var h=document.getElementById(e.cueID);h&&_.removeChild(h),I(e)}}function I(e){if(_){var n=document.createElement("div");_.appendChild(n),T=(0,u.renderHTML)(e.isd,n,(function(t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var i=n.exec(t),o=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[o])}if(r.test(t)){o=(i=r.exec(t))[1];return"data:image/png;base64,"+e.embeddedImages[o]}return null}),_.clientHeight,_.clientWidth,!1,(function(e){r.info("renderCaption :",e)}),T,!0),n.id=e.cueID,t.trigger(a.default.CAPTION_RENDERED,{captionDiv:n,currentTrackIdx:h})}}function D(e){return e>=0&&d[e]?c.getTextTrack(d[e].kind,d[e].id,d[e].lang,d[e].isTTML,d[e].isEmbedded):null}function M(e){if(e!==h){var t=D(h=e);x.call(this,t),y&&(clearInterval(y),y=null),t&&"html"===t.renderingType&&(C.call(this,t,!0),y=setInterval(C.bind(this,t),500))}}function x(e){q.call(this),e&&"html"===e.renderingType?O.call(this):P.call(this)}function N(e){if(e.cues)for(var t=e.cues,n=t.length-1;n>=0;n--)e.removeCue(t[n])}function O(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=c.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){r.info(""+e.message)}}}function P(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function q(){if(_)for(;_.firstChild;)_.removeChild(_.firstChild)}return n={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(s=window.VTTCue||window.TextTrackCue,d=[],f=[],h=-1,p=0,g=0,m=0,v=0,_=null,y=null,b=!1,S=2147483647,T=null,void 0!==document.fullscreenElement?E="fullscreenElement":void 0!==document.webkitIsFullScreen?E="webkitIsFullScreen":document.msFullscreenElement?E="msFullscreenElement":document.mozFullScreen&&(E="mozFullScreen"))},displayCConTop:function(e){b=e,_&&!document[E]&&(_.style.zIndex=e?S:null)},addTextTrack:function(e,n){if(d.length!==n){if(d.push(e),d.length===n){d.sort((function(e,t){return e.index-t.index})),_=c.getTTMLRenderingDiv();for(var o=-1,s=0;s<d.length;s++){var l=w.call(this,s);f.push(l),d[s].defaultTrack&&(l.default=!0,o=s);var u=D(s);u&&(u.mode=i.default.TEXT_SHOWING,_&&(d[s].isTTML||d[s].isEmbedded)?u.renderingType="html":u.renderingType="default"),this.addCaptions(s,0,d[s].captionData),t.trigger(a.default.TEXT_TRACK_ADDED)}if(M.call(this,o),o>=0)for(var p=0;p<d.length;p++){var g=D(p);g&&(g.mode=p===o?i.default.TEXT_SHOWING:i.default.TEXT_HIDDEN)}t.trigger(a.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:h,tracks:d})}}else r.error("Trying to add too many tracks.")},addCaptions:function(e,n,o){var l=D(e),u=this;if(l&&o&&0!==o.length)for(var c=0;c<o.length;c++){var d=void 0,f=o[c];l.cellResolution=f.cellResolution,l.isFromCEA608=f.isFromCEA608,"html"===f.type&&_?((d=new s(f.start-n,f.end-n,"")).cueHTMLElement=f.cueHTMLElement,d.isd=f.isd,d.images=f.images,d.embeddedImages=f.embeddedImages,d.cueID=f.cueID,d.scaleCue=A.bind(u),d.cellResolution=f.cellResolution,d.lineHeight=f.lineHeight,d.linePadding=f.linePadding,d.fontSize=f.fontSize,_.style.left=p+"px",_.style.top=g+"px",_.style.width=m+"px",_.style.height=v+"px",d.onenter=function(){l.mode===i.default.TEXT_SHOWING&&(this.isd?(I(this),r.debug("Cue enter id:"+this.cueID)):(_.appendChild(this.cueHTMLElement),A.call(u,this),t.trigger(a.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:h})))},d.onexit=function(){if(_)for(var e=_.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(r.debug("Cue exit id:"+e[t].id),_.removeChild(e[t]))}):f.data&&(d=new s(f.start-n,f.end-n,f.data),f.styles&&(void 0!==f.styles.align&&"align"in d&&(d.align=f.styles.align),void 0!==f.styles.line&&"line"in d&&(d.line=f.styles.line),void 0!==f.styles.position&&"position"in d&&(d.position=f.styles.position),void 0!==f.styles.size&&"size"in d&&(d.size=f.styles.size)),d.onenter=function(){l.mode===i.default.TEXT_SHOWING&&t.trigger(a.default.CAPTION_RENDERED,{currentTrackIdx:h})});try{d?l.addCue(d):r.error("impossible to display subtitles.")}catch(e){throw N(l),l.addCue(d),e}}},getCurrentTrackIdx:function(){return h},setCurrentTrackIdx:M,getTrackIdxForId:function(e){for(var t=-1,n=0;n<d.length;n++)if(d[n].id===e){t=n;break}return t},getCurrentTrackInfo:function(){return d[h]},setModeForTrackIdx:function(e,t){var n=D(e);n&&n.mode!==t&&(n.mode=t)},deleteCuesFromTrackIdx:function(e){var t=D(e);t&&N(t)},deleteAllTextTracks:function(){for(var e=f?f.length:0,t=0;t<e;t++){var n=D(t);n&&(N.call(this,n),n.mode="disabled")}f=[],d=[],y&&(clearInterval(y),y=null),h=-1,q.call(this)},deleteTextTrack:function(e){c.removeChild(f[e]),f.splice(e,1)},setConfig:function(e){e&&e.videoModel&&(c=e.videoModel)}},r=(0,l.default)(e).getInstance().getLogger(n),n}c.__dashjs_factory_name="TextTracks",t.default=s.default.getSingletonFactory(c),e.exports=t.default},function(e,t,n){!function(e,t,n){function r(e,t,n,r,i,o,a,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=o,this.initial=n,this.applies=r,this.parse=a,this.compute=s}for(var i in e.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,r,i,o){var a,s;if("auto"===i)a=new n.ComputedLength(0,1);else if(null===(a=n.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new n.ComputedLength(1,0);else if(null===(s=n.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}})),new r(t.ns_tts,"fontFamily","default",["span","p"],!0,!0,(function(e){var t=e.split(","),n=[];for(var r in t)"'"!==t[r].charAt(0)&&'"'!==t[r].charAt(0)&&"default"===t[r]?n.push("monospaceSerif"):n.push(t[r]);return n}),null),new r(t.ns_tts,"shear","0%",["p"],!0,!0,n.parseLength,(function(e,t,n,r){return"%"!==r.unit?null:Math.abs(r.value)>100?100*Math.sign(r.value):r.value})),new r(t.ns_tts,"fontSize","1c",["span","p"],!0,!0,n.parseLength,(function(t,r,i,o,a){return n.toComputedLength(o.value,o.unit,null!==r?r.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,null!==r?r.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,t.cellLength.h,t.pxLength.h)})),new r(t.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(e){return"normal"===e?e:n.parseLength(e)}),(function(t,r,i,o,a){var s;if("normal"===o)s=o;else if(null===(s=n.toComputedLength(o.value,o.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h)))return null;return s})),new r(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,(function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null}),(function(e,t,r,i,o){var a,s;if("auto"===i)a=new n.ComputedLength(0,0);else if(null===(a=n.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new n.ComputedLength(0,0);else if(null===(s=n.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:a,w:s}})),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,(function(e){var t=e.split(" ");if(t.length>4)return null;var r=[];for(var i in t){var o=n.parseLength(t[i]);if(!o)return null;r.push(o)}return r}),(function(t,r,i,o,a){var s;if(1===o.length)s=[o[0],o[0],o[0],o[0]];else if(2===o.length)s=[o[0],o[1],o[0],o[1]];else if(3===o.length)s=[o[0],o[1],o[2],o[1]];else{if(4!==o.length)return null;s=[o[0],o[1],o[2],o[3]]}var l=i.styleAttrs[e.byName.writingMode.qname];if("lrtb"===l||"lr"===l)s=[s[0],s[3],s[2],s[1]];else if("rltb"===l||"rl"===l)s=[s[0],s[1],s[2],s[3]];else if("tblr"===l)s=[s[3],s[0],s[1],s[2]];else{if("tbrl"!==l&&"tb"!==l)return null;s=[s[3],s[2],s[1],s[0]]}var u=[];for(var c in s)if(0===s[c].value)u[c]=new n.ComputedLength(0,0);else if(u[c]=n.toComputedLength(s[c].value,s[c].unit,i.styleAttrs[e.byName.fontSize.qname],"0"===c||"2"===c?i.styleAttrs[e.byName.extent.qname].h:i.styleAttrs[e.byName.extent.qname].w,"0"===c||"2"===c?t.cellLength.h:t.cellLength.w,"0"===c||"2"===c?t.pxLength.h:t.pxLength.w),null===u[c])return null;return u})),new r(t.ns_tts,"position","top left",["region"],!1,!0,(function(e){return n.parsePosition(e)}),(function(t,r,i,o){var a,s;return null===(a=n.toComputedLength(o.v.offset.value,o.v.offset.unit,null,new n.ComputedLength(-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-i.styleAttrs[e.byName.extent.qname].h.rh),null,t.pxLength.h))?null:("bottom"===o.v.edge&&(a=new n.ComputedLength(-a.rw-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-a.rh-i.styleAttrs[e.byName.extent.qname].h.rh)),s=n.toComputedLength(o.h.offset.value,o.h.offset.unit,null,new n.ComputedLength(t.dimensions.w.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-i.styleAttrs[e.byName.extent.qname].w.rh),null,t.pxLength.w),null===a?null:("right"===o.h.edge&&(s=new n.ComputedLength(t.dimensions.w.rw-s.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-s.rh-i.styleAttrs[e.byName.extent.qname].w.rh)),{h:a,w:s}))})),new r(t.ns_tts,"ruby","none",["span"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyAlign","center",["span"],!0,!0,(function(e){return"center"!==e&&"spaceAround"!==e?null:e}),null),new r(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"rubyReserve","none",["p"],!0,!0,(function(e){var t=e.split(" "),r=[null,null];if(0===t.length||t.length>2)return null;if("none"!==t[0]&&"both"!==t[0]&&"after"!==t[0]&&"before"!==t[0]&&"outside"!==t[0])return null;if(r[0]=t[0],2===t.length&&"none"!==t[0]){var i=n.parseLength(t[1]);if(!i)return null;r[1]=i}return r}),(function(t,r,i,o,a){if("none"===o[0])return o;var s=null;return null===(s=null===o[1]?new n.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):n.toComputedLength(o[1].value,o[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h))?null:[o[0],s]})),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,(function(e){return e}),(function(e,t,n,r,i){return"left"===r?"start":"right"===r?"end":r})),new r(t.ns_tts,"textCombine","none",["span"],!0,!0,(function(e){return"none"===e||"all"===e?e:null}),null),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,(function(e){return e.split(" ")}),null),new r(t.ns_tts,"textEmphasis","none",["span"],!0,!0,(function(e){var t=e.split(" "),r={style:null,symbol:null,color:null,position:null};for(var i in t)if("none"===t[i]||"auto"===t[i])r.style=t[i];else if("filled"===t[i]||"open"===t[i])r.style=t[i];else if("circle"===t[i]||"dot"===t[i]||"sesame"===t[i])r.symbol=t[i];else if("current"===t[i])r.color=t[i];else if("outside"===t[i]||"before"===t[i]||"after"===t[i])r.position=t[i];else if(r.color=n.parseColor(t[i]),null===r.color)return null;return null==r.style&&null==r.symbol?r.style="auto":(r.symbol=r.symbol||"circle",r.style=r.style||"filled"),r.position=r.position||"outside",r.color=r.color||"current",r}),null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,(function(e){if("none"===e)return e;var t={},r=e.split(" ");if(0===r.length||r.length>2)return null;var i=n.parseColor(r[0]);if(t.color=i,null!==i&&r.shift(),1!==r.length)return null;var o=n.parseLength(r[0]);return o?(t.thickness=o,t):null}),(function(t,r,i,o,a){if("none"===o)return o;var s={};return null===o.color?s.color=i.styleAttrs[e.byName.color.qname]:s.color=o.color,s.thickness=n.toComputedLength(o.thickness.value,o.thickness.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===s.thickness?null:s})),new r(t.ns_tts,"textShadow","none",["span"],!0,!0,n.parseTextShadow,(function(t,r,i,o){if("none"===o)return o;var a=[];for(var s in o){var l={};if(l.x_off=n.toComputedLength(o[s][0].value,o[s][0].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.w),null===l.x_off)return null;if(l.y_off=n.toComputedLength(o[s][1].value,o[s][1].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.y_off)return null;if(null===o[s][2])l.b_radius=0;else if(l.b_radius=n.toComputedLength(o[s][2].value,o[s][2].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.b_radius)return null;null===o[s][3]?l.color=i.styleAttrs[e.byName.color.qname]:l.color=o[s][3],a.push(l)}return a})),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(e){return e}),null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(e){return e}),null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,(function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t}),null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,(function(e,t,r,i,o){return n.toComputedLength(i.value,i.unit,null,null,e.cellLength.w,null)})),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(e){return e}),null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(e){return e}),null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(e){return"true"===e}),null),new r(t.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(e){return"true"===e}),null)],e.byQName={},e.all)e.byQName[e.all[i].qname]=e.all[i];for(var o in e.byName={},e.all)e.byName[e.all[o].name]=e.all[o]}(t,"undefined"==typeof imscNames?n(40):imscNames,"undefined"==typeof imscUtils?n(41):imscUtils)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(194),i=n(195),o=n(98);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return R(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return G(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return b(e,t,n,r)}function S(e,t,n,r){return G(H(t),e,n,r)}function w(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function R(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function q(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||q(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||q(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(14))},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(99)).Stream=t,t.Readable=t,t.Writable=n(65),t.Duplex=n(21),t.Transform=n(102),t.PassThrough=n(203)},function(e,t,n){"use strict";(function(t,r,i){var o=n(42);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=_;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;_.WritableState=v;var u=Object.create(n(35));u.inherits=n(30);var c={deprecate:n(202)},d=n(100),f=n(43).Buffer,h=i.Uint8Array||function(){};var p,g=n(101);function m(){}function v(e,t){s=s||n(21),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(w,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),w(e,t))}(e,n,r,t,i);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),r?l(E,e,n,a,i):E(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(e){if(s=s||n(21),!(p.call(_,this)||this instanceof s))return new _(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),w(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,d=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),w(e,t)}))}function w(e,t){var n=T(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(_,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===_&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof h);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return l}(this,i,s,e,t,n)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,w(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(25),n(200).setImmediate,n(14))},function(e,t,n){"use strict";var r=n(43).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(5)),a=r(n(3)),s=r(n(1)),l=r(n(4));function u(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,s=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=["alwaysReplace","neverReplace"],p=["highestBitrate","widestRange"];function g(e,t){if(!e||!t)return[];var n=t.id;return s[n]&&s[n][e]?s[n][e].list:[]}function m(e,t){return!e||!t||t&&!s[t.id]?null:s[t.id][e].current}function v(e){if(e&&e.streamInfo){var n=e.type,r=e.streamInfo,i=r.id,a=m(n,r);if(s[i]&&s[i][n]&&!T(e,a)){s[i][n].current=e,s[i][n].current&&t.trigger(o.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:a,newMediaInfo:e,switchMode:d[n]});var l=function(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}(e);l&&s[i][n].storeLastSettings&&(l.roles&&(l.role=l.roles[0],delete l.roles),l.accessibility&&(l.accessibility=l.accessibility[0]),l.audioChannelConfiguration&&(l.audioChannelConfiguration=l.audioChannelConfiguration[0]),f.setSavedMediaSettings(n,l))}}}function _(e,t){e&&t&&(u[e]=t)}function y(e){return e?u[e]:null}function E(){return c||"highestBitrate"}function b(e){return e===i.default.AUDIO||e===i.default.VIDEO||e===i.default.TEXT||e===i.default.FRAGMENTED_TEXT||e===i.default.IMAGE}function T(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function S(){s={},u={audio:null,video:null},d={audio:"alwaysReplace",video:"neverReplace"}}function w(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter((function(t){return t===e.role}))[0],o=!e.accessibility||!!t.accessibility.filter((function(t){return t===e.accessibility}))[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter((function(t){return t===e.audioChannelConfiguration}))[0];return n&&r&&i&&o&&a}function R(e){var t=E(),n=[],i=function(e){var t=0,n=[],r=void 0;return e.forEach((function(e){(r=Math.max.apply(Math,e.bitrateList.map((function(e){return e.bandwidth}))))>t?(t=r,n=[e]):r===t&&n.push(e)})),n},o=function(e){var t=0,n=[],r=void 0;return e.forEach((function(e){(r=e.representationCount)>t?(t=r,n=[e]):r===t&&n.push(e)})),n};switch(t){case"highestBitrate":(n=i(e)).length>1&&(n=o(n));break;case"widestRange":(n=o(e)).length>1&&(n=i(e));break;default:r.warn("Track selection mode is not supported: "+t)}return n[0]}return n={checkInitialMediaSettingsForType:function(e,t){var n=y(e),r=g(e,t),o=[];e!==i.default.FRAGMENTED_TEXT?(n||_(e,n=f.getSavedMediaSettings(e)),r&&0!==r.length&&(n&&r.forEach((function(e){w(n,e)&&o.push(e)})),0===o.length?v(R(r)):o.length>1?v(R(o)):v(o[0]))):v(r[0])},addTrack:function(e){if(e){var t=e.type;if(b(t)){var n=e.streamInfo.id;s[n]||(s[n]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var r=s[n][t].list,i=0,o=r.length;i<o;++i)if(T(r[i],e))return;r.push(e);var a=y(t);a&&w(a,e)&&!m(t,e.streamInfo)&&v(e)}}},getTracksFor:g,getCurrentTrackFor:m,isCurrentTrack:function(e){if(!e)return!1;var t=e.type,n=e.streamInfo.id;return s[n]&&s[n][t]&&T(s[n][t].current,e)},setTrack:v,setInitialSettings:_,getInitialSettings:y,setSwitchMode:function(e,t){-1!==h.indexOf(t)?d[e]=t:r.warn("Track switch mode is not supported: "+t)},getSwitchMode:function(e){return d[e]},setSelectionModeForInitialTrack:function(e){-1!==p.indexOf(e)?c=e:r.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:E,isMultiTrackSupportedByType:b,isTracksEqual:T,setConfig:function(e){e&&e.domStorage&&(f=e.domStorage)},reset:S},r=(0,l.default)(e).getInstance().getLogger(n),S(),n}u.__dashjs_factory_name="MediaController";var c=s.default.getSingletonFactory(u);c.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",c.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",c.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",c.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",c.DEFAULT_INIT_TRACK_SELECTION_MODE="highestBitrate",s.default.updateSingletonFactory(u.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e={};return{save:function(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t},extract:function(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null},reset:function(){e={}}}}a.__dashjs_factory_name="InitCache",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(15),a=(i=o)&&i.__esModule?i:{default:i},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return r(e,null,[{key:"hasInitialization",value:function(e){return null!==e.initialization||null!==e.range}},{key:"hasSegments",value:function(e){return e.segmentInfoType!==a.default.BASE_URL&&e.segmentInfoType!==a.default.SEGMENT_BASE&&!e.indexRange}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&(i=t.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}a.__dashjs_factory_name="XHRLoader";var s=o.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=r,this.persistentState=i,this.sessionTypes=o},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keyID=t,this.key=n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return r(e,[{key:"toJWK",value:function(){var e=void 0,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initData=t,this.initDataType=n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sessionToken=t,this.message=n,this.defaultURL=r,this.messageType=i||"license-request"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keySystem=t,this.ksConfiguration=n},e.exports=t.default},,,,,,function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(26),o=n(155),a=n(85),s=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!=typeof n&&(n=n?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof r&&(r=r?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof o&&(o=o?i.thatReturnsTrue:i.thatReturnsFalse),this._handleScrollX=n,this._handleScrollY=r,this._stopPropagation=o,this._onWheelCallback=t,this.onWheel=this.onWheel.bind(this)}return r(e,[{key:"onWheel",value:function(e){var t,n=o(e),r=this._deltaX+n.pixelX,i=this._deltaY+n.pixelY,s=this._handleScrollX(r,i),l=this._handleScrollY(i,r);(s||l)&&(this._deltaX+=s?n.pixelX:0,this._deltaY+=l?n.pixelY:0,e.preventDefault(),0===this._deltaX&&0===this._deltaY||(this._stopPropagation()&&e.stopPropagation(),t=!0),!0===t&&null===this._animationFrameID&&(this._animationFrameID=a(this._didWheel)))}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(26),i=n(158),o=0,a=i||function(e){var n=Date.now(),r=Math.max(0,16-(n-o));return o=n+r,t.setTimeout((function(){e(Date.now())}),r)};a(r),e.exports=a}).call(this,n(14))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(160),o=n(161),a=n(85),s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isDragging=!1,this._animationFrameID=null,this._domNode=r,this._onMove=t,this._onMoveEnd=n,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return r(e,[{key:"captureMouseMoves",value:function(e){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=i.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=i.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=e.clientX,this._y=e.clientY),e.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(o(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(e){var t=e.clientX,n=e.clientY;this._deltaX+=t-this._x,this._deltaY+=n-this._y,null===this._animationFrameID&&(this._animationFrameID=a(this._didMouseMove)),this._x=t,this._y=n,e.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=n(84),i=n(166),o=n(33),a={},s=["Webkit","ms","Moz","O"],l=new RegExp("^("+s.join("|")+")"),u=r.canUseDOM?document.createElement("div").style:{};e.exports=function(e){var t=i(e);if(void 0===a[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);l.test(n)&&o(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",e),a[t]=t in u?t:function(e){for(var t=0;t<s.length;t++){var n=s[t]+e;if(n in u)return n}return null}(n)}return a[t]}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(8),o=n(10),a=n(171),s=n(16),l=n(27),u=n(32),c=n(13),d=o({propTypes:{isScrolling:c.bool,fixedColumns:c.array.isRequired,height:c.number.isRequired,index:c.number.isRequired,scrollableColumns:c.array.isRequired,scrollLeft:c.number.isRequired,width:c.number.isRequired,onClick:c.func,onDoubleClick:c.func,onColumnResize:c.func},render:function(){var e={width:this.props.width,height:this.props.height},t=s({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2==1,"public/fixedDataTableRow/odd":this.props.index%2==1,"public/fixedDataTableRow/even":this.props.index%2==0}),n=this._getColumnsWidth(this.props.fixedColumns),r=i.createElement(a,{key:"fixed_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:0,width:n,zIndex:2,columns:this.props.fixedColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),o=this._renderColumnsShadow(n),u=i.createElement(a,{key:"scrollable_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:this.props.scrollLeft,offsetLeft:n,width:this.props.width-n,zIndex:0,columns:this.props.scrollableColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return i.createElement("div",{className:l(t,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:e},i.createElement("div",{className:s("fixedDataTableRowLayout/body")},r,u,o))},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t},_renderColumnsShadow:function(e){if(e>0){var t=s({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),n={left:e,height:this.props.height};return i.createElement("div",{className:t,style:n})}},_onClick:function(e){this.props.onClick(e,this.props.index)},_onDoubleClick:function(e){this.props.onDoubleClick(e,this.props.index)},_onMouseDown:function(e){this.props.onMouseDown(e,this.props.index)},_onMouseEnter:function(e){this.props.onMouseEnter(e,this.props.index)},_onMouseLeave:function(e){this.props.onMouseLeave(e,this.props.index)}}),f=o({propTypes:{isScrolling:c.bool,height:c.number.isRequired,zIndex:c.number,offsetTop:c.number.isRequired,width:c.number.isRequired},render:function(){var e={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return u(e,0,this.props.offsetTop),i.createElement("div",{style:e,className:s("fixedDataTableRowLayout/rowWrapper")},i.createElement(d,r({},this.props,{offsetTop:void 0,zIndex:void 0})))}});e.exports=f},function(e,t,n){"use strict";var r=n(90),i=n(8),o=n(91),a=n(92);function s(e,t){i.Children.forEach(e,(function(e){e.type===o?s(e.props.children,t):e.type===a&&t(e)}))}var l={DIR_SIGN:r.isRTL()?-1:1,CELL_VISIBILITY_TOLERANCE:5,renderToString:function(e){return null==e?"":String(e)},forEachColumn:s,mapColumns:function(e,t){var n=[];return i.Children.forEach(e,(function(e){var r=e;if(e.type===o){var l=!1,u=[];s(e.props.children,(function(e){var n=t(e);n!==e&&(l=!0),u.push(n)})),l&&(r=i.cloneElement(e,{children:u}))}else e.type===a&&(r=t(e));n.push(r)})),n}};e.exports=l},function(e,t,n){"use strict";e.exports={isRTL:function(){return!1},getDirection:function(){return"LTR"}}},function(e,t,n){"use strict";n(8);var r=n(10)({statics:{__TableColumnGroup__:!0},render:function(){return null}});e.exports=r},function(e,t,n){"use strict";n(8);var r=n(10)({statics:{__TableColumn__:!0},render:function(){return null}});e.exports=r},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=r.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(28)),a=r(n(184)),s=r(n(223)),l=r(n(67)),u=r(n(111)),c=r(n(258)),d=r(n(270)),f=r(n(271)),h=r(n(60)),p=r(n(45)),g=r(n(58)),m=r(n(272)),v=r(n(274)),_=r(n(275)),y=r(n(276)),E=r(n(44)),b=r(n(286)),T=r(n(287)),S=r(n(4)),w=r(n(7)),R=r(n(3)),C=r(n(5)),A=r(n(110)),I=r(n(1)),D=n(118),M=r(n(288)),x=r(n(293)),N=r(n(298)),O=r(n(300)),P=n(9),q=r(n(301)),F=r(n(59)),L=r(n(6)),k=n(29);function U(){var e="You must first call initialize() and set a source before calling this method",t="You must first call initialize() and set a valid source and view before calling this method",n="You must first call attachView() to set the video element before calling this method",r="You must first call attachSource() with a valid source before calling this method",U=this.context,B=(0,R.default)(U).getInstance(),H=(0,S.default)(U).getInstance(),G=void 0,j=void 0,z=void 0,Y=void 0,V=void 0,K=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,Z=void 0,J=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,de=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0;function me(){return!!z&&!!fe.getElement()}function ve(){return(0,D.getVersionString)()}function _e(){if(!W)throw t;return le.isPaused()}function ye(e){var t=Pe();if(!t)return 0;var n=le.getLiveDelay(),r=t.range.start+e;return r>t.range.end-n&&(r=t.range.end-n),r}function Ee(e){if(!W)throw t;var n=Ce().currentTime;if(void 0!==e)n=se.getTimeRelativeToStreamId(n,e);else if(le.getIsDynamic()){var r=Pe();n=null===r?0:be()-(r.range.end-r.time)}return n}function be(){if(!W)throw t;var e=Ce().duration;if(le.getIsDynamic()){var n,r=Pe();if(!r)return 0;e=(n=r.range.end-r.range.start)<r.manifestInfo.DVRWindowSize?n:r.manifestInfo.DVRWindowSize}return e}function Te(e){(0,k.checkParameterType)(e,"boolean"),X=e}function Se(){ie.restoreDefaultUTCTimingSources()}function we(){return ue}function Re(e){return re.getReadOnlyMetricsFor(e)}function Ce(){if(!fe.getElement())throw n;return fe.getElement()}function Ae(e){if(!V)throw"MediaPlayer not initialized!";fe.setElement(e),e&&(Oe(),function(){if(ee)return;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(U).create();ee=t.createMetricsReporting({debug:H,eventBus:B,mediaElement:Ce(),dashManifestModel:ce,metricsModel:re,events:C.default,constants:i.default,metricsConstants:o.default})}}(),function(){if(te)return;var e=dashjs.MssHandler;"function"==typeof e&&(w.default.extend(e.errors),te=e(U).create({eventBus:B,mediaPlayerModel:ie,metricsModel:re,manifestModel:de,playbackController:le,protectionController:J,baseURLController:(0,u.default)(U).getInstance(),errHandler:oe,events:C.default,constants:i.default,debug:H,initSegmentType:P.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:q.default,ISOBoxer:F.default}))}(),se&&se.switchToVideoElement()),W&&xe(),Fe()}function Ie(t){if(!K)throw e;var n=se.getActiveStreamInfo();return Z.getTracksFor(t,n)}function De(e){if(!V)throw"MediaPlayer not initialized!";"string"==typeof e&&pe.initialize(e),z=e,(K||W)&&xe(),me()&&Fe()}function Me(){if(!K)throw e;var t=se.getActiveStreamInfo();return t?se.getStreamById(t.id):null}function xe(){W=!1,K=!1,ne.reset(),se.reset(),le.reset(),Q.reset(),Z.reset(),he.reset(),J&&(ie.getKeepProtectionMediaKeys()?J.stop():(J.reset(),J=null,Oe()))}function Ne(){return(0,c.default)(U).create({errHandler:oe,metricsModel:re,mediaPlayerModel:ie,requestModifier:(0,p.default)(U).getInstance(),mssHandler:te})}function Oe(){if(J)return J;var e=dashjs.Protection;if("function"==typeof e){var t=e(U).create();return C.default.extend(e.events),A.default.extend(e.events,{publicOnly:!0}),w.default.extend(e.errors),ae||(ae=(0,f.default)(U).getInstance()),J=t.createProtectionSystem({debug:H,errHandler:oe,videoModel:fe,capabilities:ae,eventBus:B,events:C.default,BASE64:q.default,constants:i.default})}return null}function Pe(){var e=re.getReadOnlyMetricsFor(i.default.VIDEO)||re.getReadOnlyMetricsFor(i.default.AUDIO);return ue.getCurrentDVRInfo(e)}function qe(e){var t=Pe();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function Fe(){var e;!K&&z&&(K=!0,j.info("Streaming Initialized"),e=Ne(),se||(se=(0,s.default)(U).getInstance()),Z.setConfig({domStorage:ge}),se.setConfig({capabilities:ae,manifestLoader:e,manifestModel:de,dashManifestModel:ce,mediaPlayerModel:ie,protectionController:J,adapter:ne,metricsModel:re,dashMetrics:ue,errHandler:oe,timelineConverter:$,videoModel:fe,playbackController:le,domStorage:ge,abrController:Q,mediaController:Z,textController:he}),le.setConfig({streamController:se,metricsModel:re,dashMetrics:ue,manifestModel:de,mediaPlayerModel:ie,dashManifestModel:ce,adapter:ne,videoModel:fe,timelineConverter:$,uriFragmentModel:pe}),Q.setConfig({streamController:se,domStorage:ge,mediaPlayerModel:ie,metricsModel:re,dashMetrics:ue,manifestModel:de,videoModel:fe,adapter:ne}),Q.createAbrRulesCollection(),he.setConfig({errHandler:oe,manifestModel:de,dashManifestModel:ce,mediaController:Z,streamController:se,videoModel:fe}),se.initialize(X,Y),"string"==typeof z?se.load(z):se.loadWithManifest(z)),!W&&me()&&(W=!0,j.info("Playback Initialized"))}return G={initialize:function(e,t,n){if(ae||(ae=(0,f.default)(U).getInstance()),oe=(0,d.default)(U).getInstance(),!ae.supportsMediaSource())return oe.capabilityError("mediasource"),void oe.error(new L.default(w.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,w.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));V||(V=!0,$=(0,O.default)(U).getInstance(),Q||(Q=(0,E.default)(U).getInstance()),le||(le=(0,a.default)(U).getInstance()),Z||(Z=(0,l.default)(U).getInstance()),ne=(0,M.default)(U).getInstance(),ce=(0,x.default)(U).getInstance({timelineConverter:$,errHandler:oe,BASE64:q.default}),de=(0,v.default)(U).getInstance(),ue=(0,N.default)(U).getInstance({manifestModel:de,dashManifestModel:ce}),re=(0,y.default)(U).getInstance(),he=(0,g.default)(U).getInstance(),ge=(0,T.default)(U).getInstance({mediaPlayerModel:ie}),ne.setConfig({dashManifestModel:ce}),Se(),Te(void 0===n||n),e&&Ae(e),t&&De(t),j.info("[dash.js "+ve()+"] MediaPlayer has been initialized"))},setConfig:function(e){e&&(e.capabilities&&(ae=e.capabilities),e.streamController&&(se=e.streamController),e.playbackController&&(le=e.playbackController),e.mediaPlayerModel&&(ie=e.mediaPlayerModel),e.abrController&&(Q=e.abrController),e.mediaController&&(Z=e.mediaController))},on:function(e,t,n){B.on(e,t,n)},off:function(e,t,n){B.off(e,t,n)},extend:function(e,t,n){I.default.extend(e,t,n,U)},attachView:Ae,attachSource:De,isReady:me,preload:function(){if(fe.getElement()||K)return!1;if(!z)throw r;Fe()},play:function(){if(!W)throw t;(!X||_e()&&W)&&le.play()},isPaused:_e,pause:function(){if(!W)throw t;le.pause()},isSeeking:function(){if(!W)throw t;return le.isSeeking()},isDynamic:function(){if(!W)throw t;return le.getIsDynamic()},seek:function(e){if(!W)throw t;if((0,k.checkParameterType)(e,"number"),isNaN(e))throw i.default.BAD_ARGUMENT_ERROR;var n=le.getIsDynamic()?ye(e):e;le.seek(n)},setPlaybackRate:function(e){Ce().playbackRate=e},getPlaybackRate:function(){return Ce().playbackRate},setMute:function(e){(0,k.checkParameterType)(e,"boolean"),Ce().muted=e},isMuted:function(){return Ce().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw i.default.BAD_ARGUMENT_ERROR;Ce().volume=e},getVolume:function(){return Ce().volume},time:Ee,duration:be,timeAsUTC:function(){if(!W)throw t;return Ee()<0?NaN:qe(Ee())},durationAsUTC:function(){if(!W)throw t;return qe(be())},getActiveStream:Me,getDVRWindowSize:function(){var e=Pe();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:ye,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())},formatUTC:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),o=i.toLocaleDateString(t),a=i.toLocaleTimeString(t,{hour12:n});return r?a+" "+o:a},getVersion:ve,getDebug:function(){return H},getBufferLength:function(e){var t,n=[i.default.VIDEO,i.default.AUDIO,i.default.FRAGMENTED_TEXT];return e?-1!==n.indexOf(e)?(t=we().getCurrentBufferLevel(Re(e)))||NaN:(j.warn("getBufferLength requested for invalid type"),NaN):(t=n.map((function(e){return Ie(e).length>0?we().getCurrentBufferLevel(Re(e)):Number.MAX_VALUE})).reduce((function(e,t){return Math.min(e,t)})))===Number.MAX_VALUE?NaN:t},getTTMLRenderingDiv:function(){return fe?fe.getTTMLRenderingDiv():null},getVideoElement:Ce,getSource:function(){if(!z)throw r;return z},setLiveDelayFragmentCount:function(e){ie.setLiveDelayFragmentCount(e)},setLiveDelay:function(e){ie.setLiveDelay(e)},getLiveDelay:function(){return ie.getLiveDelay()},getCurrentLiveLatency:function(){if(!V)throw"MediaPlayer not initialized!";return W?le.getCurrentLiveLatency():NaN},useSuggestedPresentationDelay:function(e){ie.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function(e,t){ie.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function(e,t){ie.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function(e,t){Q.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function(e){return Q.getMaxAllowedBitrateFor(e)},getTopBitrateInfoFor:function(t){if(!K)throw e;return Q.getTopBitrateInfoFor(t)},setMinAllowedBitrateFor:function(e,t){Q.setMinAllowedBitrateFor(e,t)},getMinAllowedBitrateFor:function(e){return Q.getMinAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function(e,t){Q.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function(e){return Q.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:Te,getAutoPlay:function(){return X},setScheduleWhilePaused:function(e){ie.setScheduleWhilePaused(e)},getScheduleWhilePaused:function(){return ie.getScheduleWhilePaused()},getDashMetrics:we,getMetricsFor:Re,getQualityFor:function(t){if(!K)throw e;if(t===i.default.IMAGE){var n=Me();if(!n)return-1;var r=n.getThumbnailController();return r?r.getCurrentTrackIndex():-1}return Q.getQualityFor(t,se.getActiveStreamInfo())},setQualityFor:function(t,n){if(!K)throw e;if(t===i.default.IMAGE){var r=Me();if(!r)return;var o=r.getThumbnailController();o&&o.setTrackByIndex(n)}Q.setPlaybackQuality(t,se.getActiveStreamInfo(),n)},updatePortalSize:function(){Q.setElementSize(),Q.setWindowResizeEventCalled(!0)},getLimitBitrateByPortal:function(){return Q.getLimitBitrateByPortal()},setLimitBitrateByPortal:function(e){Q.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function(){return Q.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function(e){Q.setUsePixelRatioInLimitBitrateByPortal(e)},setTextDefaultLanguage:function(e){void 0===he&&(he=(0,g.default)(U).getInstance()),he.setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return void 0===he&&(he=(0,g.default)(U).getInstance()),he.getTextDefaultLanguage()},setTextDefaultEnabled:function(e){void 0===he&&(he=(0,g.default)(U).getInstance()),he.setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return void 0===he&&(he=(0,g.default)(U).getInstance()),he.getTextDefaultEnabled()},enableText:function(e){void 0===he&&(he=(0,g.default)(U).getInstance()),he.enableText(e)},enableForcedTextStreaming:function(e){void 0===he&&(he=(0,g.default)(U).getInstance()),he.enableForcedTextStreaming(e)},isTextEnabled:function(){return void 0===he&&(he=(0,g.default)(U).getInstance()),he.isTextEnabled()},setTextTrack:function(e){if(!W)throw t;void 0===he&&(he=(0,g.default)(U).getInstance()),he.setTextTrack(e)},getBitrateInfoListFor:function(t){if(!K)throw e;var n=Me();return n?n.getBitrateListFor(t):[]},setInitialBitrateFor:function(e,t){Q.setInitialBitrateFor(e,t)},getInitialBitrateFor:function(t){if(!K)throw e;return Q.getInitialBitrateFor(t)},setInitialRepresentationRatioFor:function(e,t){Q.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function(e){return Q.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:function(t){if(!K)throw e;return ne.getStreamsInfo(t)},getTracksFor:Ie,getTracksForTypeFromManifest:function(t,n,r){if(!K)throw e;return(r=r||ne.getStreamsInfo(n,1)[0])?ne.getAllMediaInfoForType(r,t,n):[]},getCurrentTrackFor:function(t){if(!K)throw e;var n=se.getActiveStreamInfo();return Z.getCurrentTrackFor(t,n)},setInitialMediaSettingsFor:function(e,t){if(!V)throw"MediaPlayer not initialized!";Z.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(!V)throw"MediaPlayer not initialized!";return Z.getInitialSettings(e)},setCurrentTrack:function(t){if(!K)throw e;Z.setTrack(t)},getTrackSwitchModeFor:function(e){if(!V)throw"MediaPlayer not initialized!";return Z.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){if(!V)throw"MediaPlayer not initialized!";Z.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!V)throw"MediaPlayer not initialized!";Z.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(!V)throw"MediaPlayer not initialized!";return Z.getSelectionModeForInitialTrack()},setFastSwitchEnabled:function(e){ie.setFastSwitchEnabled(e)},getFastSwitchEnabled:function(){return ie.getFastSwitchEnabled()},setMovingAverageMethod:function(e){ie.setMovingAverageMethod(e)},getMovingAverageMethod:function(){return ie.getMovingAverageMethod()},getAutoSwitchQualityFor:function(e){return Q.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function(e,t){Q.setAutoSwitchBitrateFor(e,t)},setABRStrategy:function(e){ie.setABRStrategy(e)},getABRStrategy:function(){return ie.getABRStrategy()},useDefaultABRRules:function(e){ie.setUseDefaultABRRules(e)},addABRCustomRule:function(e,t,n){ie.addABRCustomRule(e,t,n)},removeABRCustomRule:function(e){ie.removeABRCustomRule(e)},removeAllABRCustomRule:function(){ie.removeABRCustomRule()},setBandwidthSafetyFactor:function(e){ie.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function(){return ie.getBandwidthSafetyFactor()},getAverageThroughput:function(e){var t=Q.getThroughputHistory();return t?t.getAverageThroughput(e):0},setAbandonLoadTimeout:function(e){ie.setAbandonLoadTimeout(e)},retrieveManifest:function(e,t){var n=Ne(),r=this;B.on(C.default.INTERNAL_MANIFEST_LOADED,(function e(i){i.error?t(null,i.error):t(i.manifest),B.off(C.default.INTERNAL_MANIFEST_LOADED,e,r),n.reset()}),r),pe.initialize(e),n.load(e)},addUTCTimingSource:function(e,t){ie.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){ie.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){ie.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Se,setBufferToKeep:function(e){ie.setBufferToKeep(e)},setBufferAheadToKeep:function(e){ie.setBufferAheadToKeep(e)},setBufferPruningInterval:function(e){ie.setBufferPruningInterval(e)},setStableBufferTime:function(e){ie.setStableBufferTime(e)},getStableBufferTime:function(){return ie.getStableBufferTime()},setBufferTimeAtTopQuality:function(e){ie.setBufferTimeAtTopQuality(e)},getBufferTimeAtTopQuality:function(){return ie.getBufferTimeAtTopQuality()},setBufferTimeAtTopQualityLongForm:function(e){ie.setBufferTimeAtTopQualityLongForm(e)},getBufferTimeAtTopQualityLongForm:function(){return ie.getBufferTimeAtTopQualityLongForm()},setFragmentLoaderRetryAttempts:function(e){ie.setRetryAttemptsForType(P.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setFragmentLoaderRetryInterval:function(e){ie.setRetryIntervalForType(P.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setManifestLoaderRetryAttempts:function(e){ie.setRetryAttemptsForType(P.HTTPRequest.MPD_TYPE,e)},setManifestLoaderRetryInterval:function(e){ie.setRetryIntervalForType(P.HTTPRequest.MPD_TYPE,e)},setXHRWithCredentialsForType:function(e,t){ie.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return ie.getXHRWithCredentialsForType(e)},setJumpGaps:function(e){ie.setJumpGaps(e)},getJumpGaps:function(){return ie.getJumpGaps()},setSmallGapLimit:function(e){ie.setSmallGapLimit(e)},getSmallGapLimit:function(){return ie.getSmallGapLimit()},setLowLatencyEnabled:function(e){ie.setLowLatencyEnabled(e)},getLowLatencyEnabled:function(){return ie.getLowLatencyEnabled()},setCatchUpPlaybackRate:function(e){ie.setCatchUpPlaybackRate(e)},getCatchUpPlaybackRate:function(){return ie.getCatchUpPlaybackRate()},setLowLatencyMinDrift:function(e){if("number"!=typeof e||isNaN(e)||e<0||e>.5)throw"Playback minimum drift has an invalid value! Use a number from 0 to 0.5";ie.setLowLatencyMinDrift(e)},getLowLatencyMinDrift:function(){return ie.getLowLatencyMinDrift()},setLowLatencyMaxDriftBeforeSeeking:function(e){if("number"!=typeof e||isNaN(e)||e<0)throw"Playback maximum drift has an invalid value! Use a number greater or equal to 0";ie.setLowLatencyMaxDriftBeforeSeeking(e)},getLowLatencyMaxDriftBeforeSeeking:function(){return ie.getLowLatencyMaxDriftBeforeSeeking()},setManifestUpdateRetryInterval:function(e){ie.setManifestUpdateRetryInterval(e)},getManifestUpdateRetryInterval:function(){return ie.getManifestUpdateRetryInterval()},setLongFormContentDurationThreshold:function(e){ie.setLongFormContentDurationThreshold(e)},setSegmentOverlapToleranceTime:function(e){ie.setSegmentOverlapToleranceTime(e)},setCacheLoadThresholdForType:function(e,t){ie.setCacheLoadThresholdForType(e,t)},getProtectionController:function(){return Oe()},attachProtectionController:function(e){J=e},setProtectionData:function(e){Y=e,se&&se.setProtectionData(Y)},enableManifestDateHeaderTimeSource:function(e){ie.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function(e){var t=(0,h.default)(U).getInstance();t.setConfig({videoModel:fe}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:function(e){j.warn("attachVideoContainer method has been deprecated and will be removed in dash.js v3.0.0")},attachTTMLRenderingDiv:function(e){if(!fe.getElement())throw n;fe.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=NaN;return he&&(e=he.getCurrentTrackIdx()),e},getUseDeadTimeLatencyForAbr:function(){return Q.getUseDeadTimeLatency()},setUseDeadTimeLatencyForAbr:function(e){Q.setUseDeadTimeLatency(e)},getThumbnail:function(e,t){if(e<0)return null;var n=le.getIsDynamic()?ye(e):e,r=se.getStreamForTime(n);if(null===r)return null;var i=r.getThumbnailController();if(!i)return null;var o=se.getTimeRelativeToStreamId(n,r.getId());return i.get(o,t)},keepProtectionMediaKeys:function(e){ie.setKeepProtectionMediaKeys(e)},reset:function(){De(null),Ae(null),Y=null,J&&(J.reset(),J=null),ee&&(ee.reset(),ee=null)}},j=H.getLogger(G),V=!1,W=!1,K=!1,X=!0,J=null,Y=null,ne=null,C.default.extend(A.default),ie=(0,_.default)(U).getInstance(),fe=(0,b.default)(U).getInstance(),pe=(0,m.default)(U).getInstance(),G}U.__dashjs_factory_name="MediaPlayer";var B=I.default.getClassFactory(U);B.events=A.default,B.errors=w.default,I.default.updateClassFactory(U.__dashjs_factory_name,B),t.default=B,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(6)),a=r(n(3)),s=r(n(5)),l=r(n(1)),u=r(n(58)),c=r(n(7));function d(e,t,n,r){var l=this.context,d=(0,a.default)(l).getInstance(),f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=[],_=[],y=n;function E(){try{return p.buffered}catch(e){return h.error("getAllBufferRanges exception: "+e.message),null}}function b(){var e=this,t=this;_.length>0&&function(){g=!0;var n=_[0];_.splice(0,1);var r=[],i=function(){var e=E();!function(e,t,n,r){t&&t.length>0&&t.length<n.length&&function(e,t){for(var n=0;n<e.length;n++){var r=Math.round(e.start(n)),i=Math.round(e.end(n));if(i===t.start||r===t.end||t.start>=r&&t.end<=i)return!0}return!1}(t,r)&&d.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:n.end(n.length-2),to:n.start(n.length-1),unintended:!0})}(t,r,e,n),_.length>0?b.call(this):(g=!1,y&&y({chunk:n}))};try{0===n.bytes.length?i.call(e):(r=E(),p.appendBuffer?p.appendBuffer(n.bytes):p.append(n.bytes,n),C(p,i.bind(e)))}catch(e){h.fatal('SourceBuffer append failed "'+e+'"'),_.length>0?b():g=!1,y&&y({chunk:n,error:new o.default(e.code,e.message)})}}()}function T(){if(v.length>0){var e=v.shift();p.updating?C(p,e):(e(),T())}}function S(){p.updating||T()}function w(){p.updating||T()}function R(){h.error("SourceBufferSink error",t.type)}function C(e,t){v.push(t),e.updating||T()}return f={getAllBufferRanges:E,getBuffer:function(){return p},append:function(e){e?(_.push(e),g||C(p,b.bind(this))):y({chunk:e,error:new o.default(c.default.APPEND_ERROR_CODE,c.default.APPEND_ERROR_MESSAGE)})},remove:function(t,n,r){var i=this;C(p,(function(){try{t>=0&&n>t&&(r||"ended"!==e.readyState)&&p.remove(t,n),C(p,(function(){d.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1})}))}catch(e){d.trigger(s.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1,error:new o.default(e.code,e.message)})}}))},abort:function(){try{("open"===e.readyState||p.setTextTrack&&"ended"===e.readyState)&&p.abort()}catch(e){h.error('SourceBuffer append abort failed: "'+e+'"')}_=[]},reset:function(t){if(p){if("function"==typeof p.removeEventListener&&(p.removeEventListener("updateend",w,!1),p.removeEventListener("error",R,!1),p.removeEventListener("abort",R,!1)),clearInterval(m),!t){try{p.getClassName&&"TextSourceBuffer"===p.getClassName()||e.removeSourceBuffer(p)}catch(e){h.error("Failed to remove source buffer from media source.")}p=null}g=!1}_=[],y=null},updateTimestampOffset:function(e){p.timestampOffset===e||isNaN(e)||C(p,(function(){p.timestampOffset=e}))},hasDiscontinuitiesAfter:function(e){try{var t=E();if(t&&t.length>1)for(var n=0,r=t.length;n<r;n++)if(n>0&&e<t.start(n)&&t.start(n)>t.end(n-1)+.1)return!0}catch(e){h.error("hasDiscontinuities exception: "+e.message)}return!1}},function(){h=(0,i.default)(l).getInstance().getLogger(f),g=!1;var n=t.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");(p=r||e.addSourceBuffer(n)).changeType&&r&&(h.debug("Doing period transition with changeType"),p.changeType(n));if("function"==typeof p.addEventListener)try{p.addEventListener("updateend",w,!1),p.addEventListener("error",R,!1),p.addEventListener("abort",R,!1)}catch(e){m=setInterval(S,50)}else m=setInterval(S,50)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp')&&-1===n.indexOf('codecs="wvtt'))throw e;var o=(0,u.default)(l).getInstance();p=o.getTextSourceBuffer()}}(),f}d.__dashjs_factory_name="SourceBufferSink";var f=l.default.getClassFactory(d);t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(29);function s(){return{customTimeRangeArray:[],length:0,add:function(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,a.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}s.__dashjs_factory_name="CustomTimeRanges",t.default=o.default.getClassFactory(s),e.exports=t.default},function(e,t,n){t.generateISD=n(191).generateISD,t.fromXML=n(192).fromXML,t.renderHTML=n(208).render},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t,r){var i=n(42);e.exports=y;var o,a=n(98);y.ReadableState=_;n(63).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(100),u=n(43).Buffer,c=t.Uint8Array||function(){};var d=Object.create(n(35));d.inherits=n(30);var f=n(197),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(198),m=n(101);d.inherits(y,l);var v=["error","close","destroy","pause","resume"];function _(e,t){e=e||{};var r=t instanceof(o=o||n(21));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(66).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(21),!(this instanceof y))return new y(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function E(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):b(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?b(e,a,t,!1):R(e,a)):b(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function b(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),R(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},y.prototype.unshift=function(e){return E(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(66).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(w,e):w(e))}function w(e){h("emit readable"),e.emit("readable"),D(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&x(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:y;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",_),e.removeListener("drain",d),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",d);var f=!1;var p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==O(o.pipes,e))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",_),y()}function _(){h("onfinish"),e.removeListener("close",v),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",v),e.once("finish",_),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=O(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(A,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=M}).call(this,n(14),n(25))},function(e,t,n){e.exports=n(63).EventEmitter},function(e,t,n){"use strict";var r=n(42);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var r=n(21),i=Object.create(n(35));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(30),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},a={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],l={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},u=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},c=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};c.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var d=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new c(t,n,r,i,o)};d.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var f=function(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new d);this.pos=0,this.currPenState=new c};f.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(l.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(l.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=32?l.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var h=function(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new f);this.currRow=14,this.nrRollUpRows=null,this.reset()};h.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){l.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){l.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){l.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){l.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),l.log("INFO","Rolling up")}else l.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<15;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+': "'+o+'"'):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var p=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new h,this.nonDisplayedMemory=new h,this.lastOutputScreen=new h,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};p.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,l.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";l.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(l.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){l.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){l.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){l.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){l.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){l.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){l.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){l.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){l.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){l.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){l.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){l.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(l.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,l.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){l.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}l.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=l.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var g=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new p(1,t),new p(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};g.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,l.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],r>=16&&r<=31&&r===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,l.log("DEBUG","Repeated command ("+u([r,i])+") is dropped");else if(0!==r||0!==i){if(l.log("DATA","["+u([t[a],t[a+1]])+"] -> ("+u([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n)if(o=this.parseChars(r,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(o);else l.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,l.log("WARNING","Couldn't parse cleaned data "+u([r,i])+" orig: "+u([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return l.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.insertChars([32]),r.cc_MIDROW(t),l.log("DEBUG","MIDROW ("+u([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var n,s=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,s=64<=t&&t<=95?1===n?r[e]:o[e]:1===n?i[e]:a[e];var l=this.interpretPAC(s,t);return this.channels[n-1].setPAC(l),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,l.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var s=u(i);l.log("DEBUG","Char codes =  "+s.join(","))}return i},parseBackgroundAttributes:function(e,t){var n,r,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=s[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=l,e.PenState=c,e.CaptionScreen=h,e.Cea608Parser=g,e.findCea608Nalus=function(e,t,n){for(var r=0,i=t,o=[],a=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,l=-1;s<i+4+r-1;){l=0;for(var u=255;255===u;)l+=u=e.getUint8(s),s++;var c=0;for(u=255;255===u;)c+=u=e.getUint8(s),s++;a(l,c,e,s)&&o.push([s,c]),s+=c}i+=r+4}return o},e.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,l=3&a;n++;var u=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&u)+(127&c)!=0&&(0===l?(r[0].push(u),r[0].push(c)):1===l&&(r[1].push(u),r[1].push(c)))}return r}}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(213)),o=r(n(214)),a=r(n(215)),s=r(n(216)),l=r(n(217)),u=r(n(218)),c=r(n(1)),d=r(n(17));function f(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.metricsModel,c=e.dashMetrics,f=void 0,h=void 0;function p(e){return e.filter((function(e){return e.quality>d.default.NO_CHANGE}))}function g(e){var n,r={},i=void 0,o=void 0,a=void 0,s=void 0;if(0!==e.length){for(r[d.default.PRIORITY.STRONG]=d.default.NO_CHANGE,r[d.default.PRIORITY.WEAK]=d.default.NO_CHANGE,r[d.default.PRIORITY.DEFAULT]=d.default.NO_CHANGE,i=0,n=e.length;i<n;i+=1)(o=e[i]).quality!==d.default.NO_CHANGE&&(r[o.priority]=r[o.priority]>d.default.NO_CHANGE?Math.min(r[o.priority],o.quality):o.quality);return r[d.default.PRIORITY.WEAK]!==d.default.NO_CHANGE&&(a=r[d.default.PRIORITY.WEAK]),r[d.default.PRIORITY.DEFAULT]!==d.default.NO_CHANGE&&(a=r[d.default.PRIORITY.DEFAULT]),r[d.default.PRIORITY.STRONG]!==d.default.NO_CHANGE&&(a=r[d.default.PRIORITY.STRONG]),a!==d.default.NO_CHANGE&&(s=a),(0,d.default)(t).create(s)}}return{initialize:function(){f=[],h=[],n.getUseDefaultABRRules()&&(f.push((0,u.default)(t).create({metricsModel:r,dashMetrics:c,mediaPlayerModel:n})),f.push((0,i.default)(t).create({metricsModel:r,dashMetrics:c})),f.push((0,o.default)(t).create({metricsModel:r,dashMetrics:c})),f.push((0,l.default)(t).create()),f.push((0,s.default)(t).create()),h.push((0,a.default)(t).create({metricsModel:r,dashMetrics:c,mediaPlayerModel:n}))),n.getABRCustomRules().forEach((function(e){"qualitySwitchRules"===e.type&&f.push(e.rule(t).create()),"abandonFragmentRules"===e.type&&h.push(e.rule(t).create())}))},reset:function(){[f,h].forEach((function(e){e&&e.length&&e.forEach((function(e){return e.reset&&e.reset()}))})),f=[],h=[]},getMaxQuality:function(e){return g(p(f.map((function(t){return t.getMaxIndex(e)}))))||(0,d.default)(t).create()},shouldAbandonFragment:function(e){return g(p(h.map((function(t){return t.shouldAbandon(e)}))))||(0,d.default)(t).create()}}}f.__dashjs_factory_name="ABRRulesCollection";var h=c.default.getClassFactory(f);h.QUALITY_SWITCH_RULES="qualitySwitchRules",h.ABANDON_FRAGMENT_RULES="abandonFragmentRules",c.default.updateSingletonFactory(f.__dashjs_factory_name,h),t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(){r(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){r(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",t.PlayList=i,t.PlayListTrace=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(45)),o=r(n(69)),a=r(n(6)),s=r(n(5)),l=r(n(3)),u=r(n(34)),c=r(n(1)),d=r(n(4)),f=n(9),h=r(n(20)),p=r(n(36)),g=r(n(7));function m(){var e=this.context,t=(0,l.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0;function T(){if(!b||!b.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function S(e){if(e.url){var t=new h.default;return t.type=e.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}}function w(e,n,r){e?t.trigger(s.default.SEGMENTS_LOADED,{segments:e,representation:n,mediaType:r}):t.trigger(s.default.SEGMENTS_LOADED,{segments:null,representation:n,mediaType:r,error:new a.default(g.default.SEGMENT_BASE_LOADER_ERROR_CODE,g.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return n={setConfig:function(e){e.baseURLController&&(b=e.baseURLController),e.metricsModel&&(_=e.metricsModel),e.mediaPlayerModel&&(y=e.mediaPlayerModel),e.errHandler&&(c=e.errHandler)},initialize:function(){m=(0,u.default)(e).getInstance(),v=(0,i.default)(e).getInstance(),E=(0,p.default)(e).create({errHandler:c,metricsModel:_,mediaPlayerModel:y,requestModifier:v})},loadInitialization:function e(n,i){T();var o=null,a=b.resolve(n.path),l=i||{init:!0,url:a?a.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};r.debug("Start searching for initialization.");var u=S(l);E.load({request:u,success:function(r){l.bytesLoaded=l.range.end,(o=m.findInitRange(r))?(n.range=o,t.trigger(s.default.INITIALIZATION_LOADED,{representation:n})):(l.range.end=l.bytesLoaded+l.bytesToLoad,e(n,l))},error:function(){t.trigger(s.default.INITIALIZATION_LOADED,{representation:n})}}),r.debug("Perform init search: "+l.url)},loadSegments:function e(t,n,i,a,s){if(T(),i&&(void 0===i.start||void 0===i.end)){var l=i?i.toString().split("-"):null;i=l?{start:parseFloat(l[0]),end:parseFloat(l[1])}:null}s=s||w;var u=null,c=null,d=!!i,f=b.resolve(t.path),h={init:!1,url:f?f.url:void 0,range:d?i:{start:0,end:1500},searching:!d,bytesLoaded:a?a.bytesLoaded:0,bytesToLoad:1500},p=S(h);E.load({request:p,success:function(i){var a=h.bytesToLoad,l=i.byteLength;if(h.bytesLoaded=h.range.end-h.range.start,u=m.parse(i),(c=u.getBox("sidx"))&&c.isComplete){var d=c.references,f=void 0,p=void 0;null!=d&&d.length>0&&(f=1===d[0].reference_type),f?function(){r.debug("Initiate multiple SIDX load."),h.range.end=h.range.start+c.size;var i=void 0,o=void 0,a=void 0,l=void 0,u=[],f=0,p=(c.offset||h.range.start)+c.size,g=function(e){e?(u=u.concat(e),++f>=o&&s(u,t,n)):s(null,t,n)};for(i=0,o=d.length;i<o;i++)a=p,l=p+d[i].referenced_size-1,p+=d[i].referenced_size,e(t,null,{start:a,end:l},h,g)}():(r.debug("Parsing segments from SIDX."),p=function(e,t){for(var n=e.references,r=n.length,i=e.timescale,a=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,l=[],u=void 0,c=void 0,d=void 0,f=void 0,h=0;h<r;h++)d=n[h].subsegment_duration,f=n[h].referenced_size,(u=new o.default).duration=d,u.startTime=a,u.timescale=i,c=s+f-1,u.mediaRange=s+"-"+c,l.push(u),a+=d,s+=f;return l}(c,h),s(p,t,n))}else{if(c)h.range.start=c.offset||h.range.start,h.range.end=h.range.start+(c.size||a);else{if(l<h.bytesLoaded)return void s(null,t,n);var g=u.getLastBox();g&&g.size?(h.range.start=g.offset+g.size,h.range.end=h.range.start+a):h.range.end+=a}e(t,n,h.range,h,s)}},error:function(){s(null,t,n)}}),r.debug("Perform SIDX load: "+h.url)},reset:function(){E.abort(),E=null,c=null,m=null,v=null}},r=(0,d.default)(e).getInstance().getLogger(n),n}m.__dashjs_factory_name="SegmentBaseLoader",t.default=c.default.getSingletonFactory(m),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(15)),a=r(n(1)),s=r(n(248)),l=r(n(18)),u=n(22),c=r(n(108)),d=r(n(34)),f=r(n(71)),h=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(e){var t,n=this.context,r=e.dashManifestModel,a=e.adapter,p=e.baseURLController,g=e.stream,m=e.timelineConverter,v=e.metricsModel,_=e.mediaPlayerModel,y=e.errHandler,E=(0,l.default)(n).getInstance(),b=void 0,T=void 0,S=void 0,w=void 0,R=void 0;function C(){I(),S=(0,f.default)(n).create({}),R=(0,d.default)(n).getInstance(),(w=(0,c.default)(n).getInstance()).setConfig({baseURLController:p,metricsModel:v,mediaPlayerModel:_,errHandler:y}),function(){if(!g||!r||!a)return;var e=g.getStreamInfo();if(!e)return;var t=a.getMediaInfoForType(e,i.default.IMAGE);if(!t)return;var n=a.getDataForMedia(t);if(!n)return;var s=r.getRepresentationsForAdaptation(n);s&&s.length>0&&s.forEach((function(e){e.segmentInfoType===o.default.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media&&A(e),e.segmentInfoType===o.default.SEGMENT_BASE&&A(e,!0)}));b.length>0&&(b.sort((function(e,t){return e.bitrate-t.bitrate})),T=b.length-1)}()}function A(e,t){var n=new s.default;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(h.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}})),t?w.loadSegments(e,i.default.IMAGE,e.indexRange,{},(function(e,t){var i=[];e=function(e,t){var n,i=[],o=0,a=void 0,s=void 0,l=void 0;for(a=0,n=e.length;a<n;a++)s=e[a],l=(0,u.getTimeBasedSegment)(m,r.getIsDynamic(),t,s.startTime,s.duration,s.timescale,s.media,s.mediaRange,o),i.push(l),l=null,o++;return i}(e,t),n.segmentDuration=e[0].duration,n.readThumbnail=function(n,r){var o=null;i.some((function(e){if(e.start<=n&&e.end>n)return o=e.url,!0})),o?r(o):e.some((function(e){if(e.mediaStartTime<=n&&e.mediaStartTime+e.duration>n){var o=p.resolve(t.path);return S.load({method:"get",url:o.url,request:{range:e.mediaRange,responseType:"arraybuffer"},onload:function(t){var n=R.getSamplesInfo(t.target.response),o=new Blob([t.target.response.slice(n.sampleList[0].offset,n.sampleList[0].offset+n.sampleList[0].size)],{type:"image/jpeg"}),a=window.URL.createObjectURL(o);i.push({start:e.mediaStartTime,end:e.mediaStartTime+e.duration,url:a}),r&&r(a)}}),!0}}))}})):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=function(e){var t=E.isRelative(e.media)?E.resolve(e.media,p.resolve(e.path).url):e.media;if(!t)return"";return(0,u.replaceIDForTemplate)(t,e.id)}(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,b.push(n))}function I(){b=[],T=-1}return t={initialize:C,getTracks:function(){return b},reset:I,setTrackByIndex:function(e){b&&0!==b.length&&(e>=b.length&&(e=b.length-1),T=e)},getCurrentTrack:function(){return T<0?null:b[T]},getCurrentTrackIndex:function(){return T}},C(),t}t.THUMBNAILS_SCHEME_ID_URIS=h,p.__dashjs_factory_name="ThumbnailTracks",t.default=a.default.getClassFactory(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39),o=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(251)),o=r(n(253)),a=r(n(18)),s=r(n(113)),l=r(n(1)),u=r(n(3)),c=r(n(5));function d(){var e=void 0,t=void 0,n=this.context,r=(0,u.default)(n).getInstance(),l=(0,a.default)(n).getInstance(),d=void 0,f=void 0;function h(e){d.invalidateSelectedIndexes(e.entry)}return e={reset:function(){d.reset(),f.reset()},initialize:function(e){var n;d.setConfig({dashManifestModel:t}),f.setConfig({dashManifestModel:t}),n=e,d.update(n),f.chooseSelectorFromManifest(n)},resolve:function(e){var t=d.getForPath(e).reduce((function(e,t){var n=f.select(t);return n?(l.isRelative(n.url)?e.url=l.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e.availabilityTimeOffset=n.availabilityTimeOffset,e.availabilityTimeComplete=n.availabilityTimeComplete,e):new s.default}),new s.default);if(!l.isRelative(t.url))return t},setConfig:function(e){e.baseURLTreeModel&&(d=e.baseURLTreeModel),e.baseURLSelector&&(f=e.baseURLSelector),e.dashManifestModel&&(t=e.dashManifestModel)}},d=(0,i.default)(n).create(),f=(0,o.default)(n).create(),r.on(c.default.SERVICE_LOCATION_BLACKLIST_CHANGED,h,e),e}d.__dashjs_factory_name="BaseURLController",t.default=l.default.getSingletonFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(252));function a(){return{areEqual:function(e,t){return(0,o.default)(e,t)}}}a.__dashjs_factory_name="ObjectUtils",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=r||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(2)),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType=i.default.STREAM,this.responseType=""}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r(n(20)).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0);void 0===e.attributePrefix&&(e.attributePrefix="_");e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0);e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0);void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0);e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1);e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1);void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}();var t=1,n=3,r=4,i=8,o=9;function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function l(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==r)break}else if(o instanceof RegExp){if(o.test(r))break}else if("function"==typeof o&&o(t,n,r))break}return i!=e.length}function u(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&l(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function c(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");if(n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function d(n,r,i,o){return!(r==t&&e.xmlElementsFilter.length>0)||l(e.xmlElementsFilter,n,i,o)}function f(s,h){if(s.nodeType==o){for(var p=new Object,g=s.childNodes,m=0;m<g.length;m++){if((_=g[m]).nodeType==t)if(e.ignoreRoot)p=f(_);else(p={})[y=a(_)]=f(_)}return p}if(s.nodeType==t){(p=new Object).__cnt=0;var v=[];for(g=s.childNodes,m=0;m<g.length;m++){var _,y=a(_=g[m]);if(_.nodeType!=i){var E=h+"."+y;if(d(p,_.nodeType,y,E))if(p.__cnt++,null==p[y]){var b=f(_,E);if("#text"!=y||/[^\s]/.test(b))(T={})[y]=b,v.push(T);p[y]=b,u(p,y,E)}else{null!=p[y]&&(p[y]instanceof Array||(p[y]=[p[y]],u(p,y,E)));var T;b=f(_,E);if("#text"!=y||/[^\s]/.test(b))(T={})[y]=b,v.push(T);p[y][p[y].length]=b}}}p.__children=v;for(var S=a(s),w=0;w<s.attributes.length;w++){var R=s.attributes[w];p.__cnt++;for(var C=R.value,A=0,I=e.matchers.length;A<I;A++){var D=e.matchers[A];D.test(R,S)&&(C=D.converter(R.value))}p[e.attributePrefix+R.name]=C}var M=function(e){return e.prefix}(s);return null!=M&&""!=M&&(p.__cnt++,p.__prefix=M),null!=p["#text"]&&(p.__text=p["#text"],p.__text instanceof Array&&(p.__text=p.__text.join("\n")),e.stripWhitespaces&&(p.__text=p.__text.trim()),delete p["#text"],"property"==e.arrayAccessForm&&delete p["#text_asArray"],p.__text=function(t,n,r){if(e.datetimeAccessFormPaths.length>0){var i=r.split(".#")[0];return l(e.datetimeAccessFormPaths,t,n,i)?c(t):t}return t}(p.__text,y,h+"."+y)),null!=p["#cdata-section"]&&(p.__cdata=p["#cdata-section"],delete p["#cdata-section"],"property"==e.arrayAccessForm&&delete p["#cdata-section_asArray"]),0==p.__cnt&&"text"==e.emptyNodeForm?p="":1==p.__cnt&&null!=p.__text?p=p.__text:1!=p.__cnt||null==p.__cdata||e.keepCData?p.__cnt>1&&null!=p.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==p.__text||""==p.__text.trim())&&delete p.__text:p=p.__cdata,delete p.__cnt,!e.enableToStringFunc||null==p.__text&&null==p.__cdata||(p.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),p}if(s.nodeType==n||s.nodeType==r)return s.nodeValue}function h(t,n,r,i){var o="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=r)for(var a=0;a<r.length;a++){var l=r[a],u=t[l];e.escapeMode&&(u=s(u)),o+=" "+l.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?o+='"'+u+'"':o+="'"+u+"'"}return o+=i?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function g(t,n){return"property"==e.arrayAccessForm&&(r=n.toString(),i="_asArray",-1!==r.indexOf(i,r.length-i.length))||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||t[n]instanceof Function;var r,i}function m(e){var t=0;if(e instanceof Object)for(var n in e)g(e,n)||t++;return t}function v(t,n,r){return 0==e.jsonPropertiesFilter.length||""==r||l(e.jsonPropertiesFilter,t,n,r)}function _(t){var n=[];if(t instanceof Object)for(var r in t)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(e.attributePrefix)&&n.push(r);return n}function y(t){var n="";return t instanceof Object?n+=function(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?n+=s(t.__text):n+=t.__text),n}(t):null!=t&&(e.escapeMode?n+=s(t):n+=t),n}function E(e,t){return""===e?t:e+"."+t}function b(e,t,n,r){var i="";if(0==e.length)i+=h(e,t,n,!0);else for(var o=0;o<e.length;o++)i+=h(e[o],t,_(e[o]),!1),i+=T(e[o],E(r,t)),i+=p(e[o],t);return i}function T(e,t){var n="";if(m(e)>0)for(var r in e)if(!g(e,r)&&(""==t||v(e,r,E(t,r)))){var i=e[r],o=_(i);if(null==i||null==i)n+=h(i,r,o,!0);else if(i instanceof Object)if(i instanceof Array)n+=b(i,r,o,t);else if(i instanceof Date)n+=h(i,r,o,!1),n+=i.toISOString(),n+=p(i,r);else{m(i)>0||null!=i.__text||null!=i.__cdata?(n+=h(i,r,o,!1),n+=T(i,E(t,r)),n+=p(i,r)):n+=h(i,r,o,!0)}else n+=h(i,r,o,!1),n+=y(i),n+=p(i,r)}return n+=y(e)}this.parseXmlString=function(e){var t;window.ActiveXObject||window;if(void 0===e)return null;if(window.DOMParser){var n=new window.DOMParser;try{(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?c(e):e},this.xml2json=function(e){return f(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return T(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i,o=n(268),a=(i=o)&&i.__esModule?i:{default:i},s=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t||"",this._properties=[],this._children=r||[],Array.isArray(n)&&n.forEach((function(e){i._properties.push(new a.default(e))}))}return r(e,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionString=function(){return"2.9.3"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(309),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":o.default},n=this.context,r=e.debug,i=e.metricsConstants;return{create:function(e,o){var a=void 0;try{(a=t[e.schemeIdUri](n).create({metricsConstants:i})).initialize(e,o)}catch(t){a=null,r.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return a},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}a.__dashjs_factory_name="ReportingFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(313)),o=r(n(314)),a=r(n(315)),s=r(n(316));function l(e){var t=(e=e||{}).debug,n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,r=this.context,l={BufferLevel:i.default,DVBErrors:o.default,HttpList:a.default,PlayList:s.default,RepSwitchList:s.default,TcpList:s.default};return{create:function(i,o){var a,s=i.match(n);if(s){try{(a=l[s[1]](r).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(s[1],o,s[3],s[5])}catch(e){a=null,t.error("MetricsHandlerFactory: Could not create handler for type "+s[1]+" with args "+s[3]+", "+s[5]+" ("+e.message+")")}return a}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]}}}l.__dashjs_factory_name="MetricsHandlerFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="HandlerHelpers",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(0),n(11),n(148),n(181),n(182),n(337),e.exports=n(49)},function(e,t,n){e.exports=n(149)},function(e,t,n){"use strict";var r=n(150),i={Cell:n(57),Column:n(92),ColumnGroup:n(91),Table:r,version:"0.6.5"};e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(8),o=n(10),a=i.Children,s=n(13),l=n(154),u=n(178),c=n(179),d=n(180),f={};function h(e,t){0}var p=o({propTypes:{width:s.number.isRequired,height:s.number,maxHeight:s.number,ownerHeight:s.number,overflowX:s.oneOf(["hidden","auto"]),overflowY:s.oneOf(["hidden","auto"]),rowsCount:s.number.isRequired,rowHeight:s.number.isRequired,rowHeightGetter:s.func,rowGetter:s.func,rowClassNameGetter:s.func,groupHeaderHeight:s.number,headerHeight:s.number.isRequired,headerDataGetter:s.func,footerHeight:s.number,footerData:s.oneOfType([s.object,s.array]),footerDataGetter:s.func,scrollLeft:s.number,scrollToColumn:s.number,scrollTop:s.number,scrollToRow:s.number,onScrollStart:s.func,onScrollEnd:s.func,onContentHeightChange:s.func,onRowClick:s.func,onRowDoubleClick:s.func,onRowMouseDown:s.func,onRowMouseEnter:s.func,onRowMouseLeave:s.func,onColumnResizeEndCallback:s.func,isColumnResizing:s.bool},getInitialState:function(){var e={};return e.needsMigration=this._checkDeprecations(),e},_checkDeprecations:function(){var e=!1;return this.props.rowGetter&&(h(),e=!0),this.props.headerDataGetter&&h(),this.props.footerData&&h(),this.props.footerDataGetter&&h(),a.forEach(this.props.children,(function(e){if(e&&e.props){var t=e.props;t.label&&h(),t.dataKey&&h(),t.cellRenderer&&h(),t.headerRenderer&&h(),t.columnData&&h(),t.groupHeaderRenderer&&h(),t.groupHeaderData&&h()}})),e},_onRowAction:function(e,t){if(t)return function(n,r){t(n,r,e.rowGetter&&e.rowGetter(r)||f)}},_transformColumn:function(e,t,n){var o=e.props;if(e.type.__TableColumn__)return i.createElement(u,r({key:"column_"+n},o,{header:i.createElement(d,{isHeaderCell:!0,label:o.label,width:o.width,dataKey:o.dataKey,className:o.headerClassName,columnData:o.columnData||f,cellRenderer:o.headerRenderer,headerDataGetter:t.headerDataGetter}),columnKey:o.dataKey,cell:i.createElement(d,{dataKey:o.dataKey,className:o.cellClassName,rowGetter:t.rowGetter,width:o.width,columnData:o.columnData||f,cellDataGetter:o.cellDataGetter,cellRenderer:o.cellRenderer}),footer:i.createElement(d,{isFooterCell:!0,className:o.footerClassName,dataKey:o.dataKey,cellRenderer:o.footerRenderer,footerDataGetter:t.footerDataGetter,footerData:t.footerData||f})}))},_transformColumnGroup:function(e,t,n,o){var s=this,l=e.props,u=0,h=a.map(l.children,(function(e){return u++,s._transformColumn(e,t,n+"_"+u)}));return i.createElement(c,r({},l,{key:"group_"+n,header:i.createElement(d,{isHeaderCell:!0,label:e.props.label,dataKey:n,groupHeaderRenderer:l.groupHeaderRenderer,groupHeaderLabels:o,groupHeaderData:l.columnGroupData||f})}),h)},_convertedColumns:function(e){var t=this;if(!e)return a.map(this.props.children,(function(e){return e?e.type.__TableColumn__?i.createElement(u,e.props):e.type.__TableColumnGroup__?i.createElement(c,e.props):void 0:null}));var n=this.props,r=0;return a.map(this.props.children,(function(e){if(!e)return null;if(e.type.__TableColumn__&&(e=t._transformColumn(e,n,r)),e.type.__TableColumnGroup__){var i=[];a.forEach(t.props.children,(function(e){i.push(e.props.label)})),e=t._transformColumnGroup(e,n,r,i)}return r++,e}))},render:function(){var e=this.props;return i.createElement(l,r({},e,{onRowMouseDown:this._onRowAction(e,e.onRowMouseDown),onRowClick:this._onRowAction(e,e.onRowClick),onRowDoubleClick:this._onRowAction(e,e.onRowDoubleClick),onRowMouseEnter:this._onRowAction(e,e.onRowMouseEnter),onRowMouseLeave:this._onRowAction(e,e.onRowMouseLeave)}),this._convertedColumns(this.state.needsMigration))}});e.exports=p},function(e,t,n){"use strict";var r=n(24),i={};function o(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=function(e,t,n){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(o(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return o("DEFINE_MANY_MERGED"===(l.hasOwnProperty(n)?l[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function c(e,t){var n=s.hasOwnProperty(t)?s[t]:null;_.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty("mixins")&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&"mixins"!==a){var l=n[a],d=r.hasOwnProperty(a);if(c(d,a),u.hasOwnProperty(a))u[a](e,l);else{var f=s.hasOwnProperty(a);if("function"==typeof l&&!f&&!d&&!1!==n.autobind)i.push(a,l),r[a]=l;else if(d){var g=s[a];o(f&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?r[a]=h(r[a],l):"DEFINE_MANY"===g&&(r[a]=p(r[a],l))}else r[a]=l}}}else;}function f(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return r(y.prototype,e.prototype,_),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=g(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,m),d(t,e),d(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";var r=n(153);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(8),o=n(10),a=n(55),s=n(83),l=n(159),u=n(167),c=n(173),d=n(88),f=n(174),h=n(176),p=n(16),g=n(177),m=n(26),v=n(33),_=n(27),y=n(93),E=n(32),b=n(13),T=i.Children,S={},w=o({propTypes:{width:b.number.isRequired,height:b.number,maxHeight:b.number,ownerHeight:b.number,overflowX:b.oneOf(["hidden","auto"]),overflowY:b.oneOf(["hidden","auto"]),rowsCount:b.number.isRequired,rowHeight:b.number.isRequired,rowHeightGetter:b.func,rowClassNameGetter:b.func,groupHeaderHeight:b.number,headerHeight:b.number.isRequired,footerHeight:b.number,scrollLeft:b.number,scrollToColumn:b.number,scrollTop:b.number,scrollToRow:b.number,onScrollStart:b.func,onScrollEnd:b.func,onContentHeightChange:b.func,onRowClick:b.func,onRowDoubleClick:b.func,onRowMouseDown:b.func,onRowMouseEnter:b.func,onRowMouseLeave:b.func,onColumnResizeEndCallback:b.func,isColumnResizing:b.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var e=this.props,t=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);return this._scrollHelper=new f(e.rowsCount,e.rowHeight,t,e.rowHeightGetter),e.scrollTop&&this._scrollHelper.scrollTo(e.scrollTop),this._didScrollStop=g(this._didScrollStop,200,this),this._calculateState(this.props)},componentWillMount:function(){var e=this.props.scrollToRow;null!=e&&(this._rowToScrollTo=e);var t=this.props.scrollToColumn;null!=t&&(this._columnToScrollTo=t),this._wheelHandler=new s(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(e){return"hidden"!==this.props.overflowX&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollX>0||e>=0&&this.state.scrollX<this.state.maxScrollX))},_shouldHandleWheelY:function(e){return"hidden"!==this.props.overflowY&&0!==e&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollY>0||e>=0&&this.state.scrollY<this.state.maxScrollY))},_reportContentHeight:function(){var e,t=this.state.scrollContentHeight+this.state.reservedHeight;(e=void 0===this.props.height&&this.props.maxHeight>t?t:this.state.height>t&&this.props.ownerHeight?Math.max(t,this.props.ownerHeight):this.state.height+this.state.maxScrollY)!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(e),this._contentHeight=e},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(e){var t=e.scrollToRow;null!=t&&(this._rowToScrollTo=t);var n=e.scrollToColumn;null!=n&&(this._columnToScrollTo=n);var r=e.overflowX,i=e.overflowY;r===this.props.overflowX&&i===this.props.overflowY||(this._wheelHandler=new s(this._onWheel,"hidden"!==r,"hidden"!==i)),this.props.ownerHeight===e.ownerHeight&&this.props.scrollTop===e.scrollTop||this._didScrollStart(),this._didScrollStop(),this.setState(this._calculateState(e,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var e,t=this.state,n=this.props;t.useGroupHeader&&(e=i.createElement(d,{key:"group_header",isScrolling:this._isScrolling,className:_(p("fixedDataTableLayout/header"),p("public/fixedDataTable/header")),width:t.width,height:t.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:t.scrollX,fixedColumns:t.groupHeaderFixedColumns,scrollableColumns:t.groupHeaderScrollableColumns,onColumnResize:this._onColumnResize}));var r=this.state.maxScrollY,o=t.maxScrollX>0&&"hidden"!==t.overflowX,a=r>0&&"hidden"!==t.overflowY,s=o?l.SIZE:0,u=t.height-s-2-t.footerHeight,f=t.useGroupHeader?t.groupHeaderHeight:0,h=f+t.headerHeight;u-=h;var g,m,v=0,y=null!=n.maxHeight?h+t.bodyHeight:h+u,E=y+t.footerHeight;if(void 0!==n.ownerHeight&&n.ownerHeight<t.height&&(v=n.ownerHeight-t.height,y=Math.min(y,n.ownerHeight-t.footerHeight-s),u=Math.max(0,y-h)),a&&(g=i.createElement(l,{size:u,contentSize:u+r,onScroll:this._onVerticalScroll,verticalTop:h,position:t.scrollY})),o){var b=t.width;m=i.createElement(R,{contentSize:b+t.maxScrollX,offset:v,onScroll:this._onHorizontalScroll,position:t.scrollX,size:b})}var T=i.createElement(c,{height:t.height,initialWidth:t.columnResizingData.width||0,minWidth:t.columnResizingData.minWidth||0,maxWidth:t.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!t.isColumnResizing,leftOffset:t.columnResizingData.left||0,knobHeight:t.headerHeight,initialEvent:t.columnResizingData.initialEvent,onColumnResizeEnd:n.onColumnResizeEndCallback,columnKey:t.columnResizingData.key}),S=null;t.footerHeight&&(S=i.createElement(d,{key:"footer",isScrolling:this._isScrolling,className:_(p("fixedDataTableLayout/footer"),p("public/fixedDataTable/footer")),width:t.width,height:t.footerHeight,index:-1,zIndex:1,offsetTop:y,fixedColumns:t.footFixedColumns,scrollableColumns:t.footScrollableColumns,scrollLeft:t.scrollX}));var w,C,A=this._renderRows(h),I=i.createElement(d,{key:"header",isScrolling:this._isScrolling,className:_(p("fixedDataTableLayout/header"),p("public/fixedDataTable/header")),width:t.width,height:t.headerHeight,index:-1,zIndex:1,offsetTop:f,scrollLeft:t.scrollX,fixedColumns:t.headFixedColumns,scrollableColumns:t.headScrollableColumns,onColumnResize:this._onColumnResize});return t.scrollY&&(w=i.createElement("div",{className:_(p("fixedDataTableLayout/topShadow"),p("public/fixedDataTable/topShadow")),style:{top:h}})),(null!=t.ownerHeight&&t.ownerHeight<t.height&&t.scrollContentHeight+t.reservedHeight>t.ownerHeight||t.scrollY<r)&&(C=i.createElement("div",{className:_(p("fixedDataTableLayout/bottomShadow"),p("public/fixedDataTable/bottomShadow")),style:{top:y}})),i.createElement("div",{className:_(p("fixedDataTableLayout/main"),p("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:t.height,width:t.width}},i.createElement("div",{className:p("fixedDataTableLayout/rowsContainer"),style:{height:E,width:t.width}},T,e,I,A,S,w,C),g,m)},_renderRows:function(e){var t=this.state;return i.createElement(u,{isScrolling:this._isScrolling,defaultRowHeight:t.rowHeight,firstRowIndex:t.firstRowIndex,firstRowOffset:t.firstRowOffset,fixedColumns:t.bodyFixedColumns,height:t.bodyHeight,offsetTop:e,onRowClick:t.onRowClick,onRowDoubleClick:t.onRowDoubleClick,onRowMouseDown:t.onRowMouseDown,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,rowClassNameGetter:t.rowClassNameGetter,rowsCount:t.rowsCount,rowGetter:t.rowGetter,rowHeightGetter:t.rowHeightGetter,scrollLeft:t.scrollX,scrollableColumns:t.bodyScrollableColumns,showLastRowBorder:!0,width:t.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(e,t,n,r,i,o,a){this.setState({isColumnResizing:!0,columnResizingData:{left:t+e-n,width:n,minWidth:r,maxWidth:i,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:m},key:o}})},_areColumnSettingsIdentical:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!y(e[n].props,t[n].props))return!1;return!0},_populateColumnsAndColumnData:function(e,t,n){var r=!1,i=!1;n&&n.columns&&(r=this._areColumnSettingsIdentical(e,n.columns)),n&&n.columnGroups&&t&&(i=this._areColumnSettingsIdentical(t,n.columnGroups));var o={};if(r)o.bodyFixedColumns=n.bodyFixedColumns,o.bodyScrollableColumns=n.bodyScrollableColumns,o.headFixedColumns=n.headFixedColumns,o.headScrollableColumns=n.headScrollableColumns,o.footFixedColumns=n.footFixedColumns,o.footScrollableColumns=n.footScrollableColumns;else{var a=this._splitColumnTypes(e);o.bodyFixedColumns=a.fixed,o.bodyScrollableColumns=a.scrollable;var s=this._splitColumnTypes(this._selectColumnElement("header",e));o.headFixedColumns=s.fixed,o.headScrollableColumns=s.scrollable;var l=this._splitColumnTypes(this._selectColumnElement("footer",e));o.footFixedColumns=l.fixed,o.footScrollableColumns=l.scrollable}if(i)o.groupHeaderFixedColumns=n.groupHeaderFixedColumns,o.groupHeaderScrollableColumns=n.groupHeaderScrollableColumns;else if(t){var u=this._splitColumnTypes(this._selectColumnElement("header",t));o.groupHeaderFixedColumns=u.fixed,o.groupHeaderScrollableColumns=u.scrollable}return o},_calculateState:function(e,t){v(void 0!==e.height||void 0!==e.maxHeight,"You must set either a height or a maxHeight");var n=[];T.forEach(e.children,(function(e,t){null!=e&&(v(e.type.__TableColumnGroup__||e.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),n.push(e))}));var i=!1;n.length&&n[0].type.__TableColumnGroup__&&(i=!0);var o,a,s=t&&t.firstRowIndex||0,u=t&&t.firstRowOffset||0;o=t&&"hidden"!==e.overflowX?t.scrollX:e.scrollLeft,t&&"hidden"!==e.overflowY?a=t.scrollY:(s=(_=this._scrollHelper.scrollTo(e.scrollTop)).index,u=_.offset,a=_.position),void 0!==this._rowToScrollTo&&(s=(_=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo)).index,u=_.offset,a=_.position,delete this._rowToScrollTo);var c,d,p,g=i?e.groupHeaderHeight:0;if(t&&e.rowsCount!==t.rowsCount){var m=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);this._scrollHelper=new f(e.rowsCount,e.rowHeight,m,e.rowHeightGetter);var _=this._scrollHelper.scrollToRow(s,u);s=_.index,u=_.offset,a=_.position}else t&&e.rowHeightGetter!==t.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(e.rowHeightGetter);if(c=e.isColumnResizing?t&&t.columnResizingData:S,i){var y=h.adjustColumnGroupWidths(n,e.width);d=y.columns,p=y.columnGroups}else d=h.adjustColumnWidths(n,e.width);var E=this._populateColumnsAndColumnData(d,p,t);if(void 0!==this._columnToScrollTo){var b=E.bodyFixedColumns.length;if(this._columnToScrollTo>=b){var w,R=0;for(w=0;w<E.bodyFixedColumns.length;++w)R+=E.bodyFixedColumns[w].props.width;var C=Math.min(this._columnToScrollTo-b,E.bodyScrollableColumns.length-1),A=0;for(w=0;w<C;++w)A+=E.bodyScrollableColumns[w].props.width;var I=e.width-R,D=A+E.bodyScrollableColumns[C].props.width-I;o<D&&(o=D),o>A&&(o=A)}delete this._columnToScrollTo}var M=void 0===e.height,x=Math.round(M?e.maxHeight:e.height),N=e.footerHeight+e.headerHeight+g+2,O=x-N,P=this._scrollHelper.getContentHeight(),q=P+N,F=h.getTotalWidth(d),L=F>e.width&&"hidden"!==e.overflowX;L&&(O-=l.SIZE,q+=l.SIZE,N+=l.SIZE);var k=Math.max(0,F-e.width),U=Math.max(0,P-O);return o=Math.min(o,k),a=Math.min(a,U),U||(M&&(x=q),O=q-N),this._scrollHelper.setViewportHeight(O),r({isColumnResizing:t&&t.isColumnResizing},E,e,{columns:d,columnGroups:p,columnResizingData:c,firstRowIndex:s,firstRowOffset:u,horizontalScrollbarVisible:L,maxScrollX:k,maxScrollY:U,reservedHeight:N,scrollContentHeight:P,scrollX:o,scrollY:a,bodyHeight:O,height:x,groupHeaderHeight:g,useGroupHeader:i})},_selectColumnElement:function(e,t){for(var n=[],r=0;r<t.length;++r){var o=t[r];n.push(i.cloneElement(o,{cell:e?o.props[e]:o.props.cell}))}return n},_splitColumnTypes:function(e){for(var t=[],n=[],r=0;r<e.length;++r)e[r].props.fixed?t.push(e[r]):n.push(e[r]);return{fixed:t,scrollable:n}},_onWheel:function(e,t){if(this.isMounted()){this._isScrolling||this._didScrollStart();var n=this.state.scrollX;if(Math.abs(t)>Math.abs(e)&&"hidden"!==this.props.overflowY){var r=this._scrollHelper.scrollBy(Math.round(t)),i=Math.max(0,r.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:r.index,firstRowOffset:r.offset,scrollY:r.position,scrollContentHeight:r.contentHeight,maxScrollY:i})}else e&&"hidden"!==this.props.overflowX&&(n=(n=(n+=e)<0?0:n)>this.state.maxScrollX?this.state.maxScrollX:n,this.setState({scrollX:n}));this._didScrollStop()}},_onHorizontalScroll:function(e){this.isMounted()&&e!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:e}),this._didScrollStop())},_onVerticalScroll:function(e){if(this.isMounted()&&e!==this.state.scrollY){this._isScrolling||this._didScrollStart();var t=this._scrollHelper.scrollTo(Math.round(e));this.setState({firstRowIndex:t.index,firstRowOffset:t.offset,scrollY:t.position,scrollContentHeight:t.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.setState({redraw:!0}),this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),R=o({mixins:[a],propTypes:{contentSize:b.number.isRequired,offset:b.number.isRequired,onScroll:b.func.isRequired,position:b.number.isRequired,size:b.number.isRequired},render:function(){var e={height:l.SIZE,width:this.props.size},t={height:l.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return E(t,0,this.props.offset),i.createElement("div",{className:_(p("fixedDataTableLayout/horizontalScrollbar"),p("public/fixedDataTable/horizontalScrollbar")),style:e},i.createElement("div",{style:t},i.createElement(l,r({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});e.exports=w},function(e,t,n){"use strict";var r=n(156),i=n(157);function o(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}o.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},e.exports=o},function(e,t,n){"use strict";var r,i,o,a,s,l,u,c,d,f,h,p,g,m,v,_=!1;function y(){if(!_){_=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(p=/\b(iPhone|iP[ao]d)/.exec(e),g=/\b(iP[ao]d)/.exec(e),f=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),h=!!/Win64/.exec(e),t){(r=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(r=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(e);l=y?parseFloat(y[1])+4:r,i=t[2]?parseFloat(t[2]):NaN,o=t[3]?parseFloat(t[3]):NaN,(a=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),s=t&&t[1]?parseFloat(t[1]):NaN):s=NaN}else r=i=o=s=a=NaN;if(n){if(n[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);u=!E||parseFloat(E[1].replace("_","."))}else u=!1;c=!!n[2],d=!!n[3]}else u=c=d=!1}}var E={ie:function(){return y()||r},ieCompatibilityMode:function(){return y()||l>r},ie64:function(){return E.ie()&&h},firefox:function(){return y()||i},opera:function(){return y()||o},webkit:function(){return y()||a},safari:function(){return E.webkit()},chrome:function(){return y()||s},windows:function(){return y()||c},osx:function(){return y()||u},linux:function(){return y()||d},iphone:function(){return y()||p},mobile:function(){return y()||p||g||f||v},nativeApp:function(){return y()||m},android:function(){return y()||f},ipad:function(){return y()||g}};e.exports=E},function(e,t,n){"use strict";var r,i=n(84);i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&r&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}},function(e,t,n){"use strict";(function(t){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame;e.exports=n}).call(this,n(14))},function(e,t,n){"use strict";var r=n(86),i=n(162),o=n(8),a=n(10),s=n(163),l=n(55),u=n(83),c=n(164),d=n(16),f=n(26),h=n(32),p=n(13),g={position:0,scrollable:!1},m=parseInt(c("scrollbar-face-margin"),10),v=2*m,_=null,y=a({mixins:[l],propTypes:{contentSize:p.number.isRequired,defaultPosition:p.number,isOpaque:p.bool,orientation:p.oneOf(["vertical","horizontal"]),onScroll:p.func,position:p.number,size:p.number.isRequired,trackColor:p.oneOf(["gray"]),zIndex:p.number,verticalTop:p.number},getInitialState:function(){var e=this.props;return this._calculateState(e.position||e.defaultPosition||0,e.size,e.contentSize,e.orientation)},componentWillReceiveProps:function(e){var t=e.position;void 0===t?this._setNextState(this._calculateState(this.state.position,e.size,e.contentSize,e.orientation)):this._setNextState(this._calculateState(t,e.size,e.contentSize,e.orientation),e)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:f,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var e,t,n=this.props.size,r=this.state.isHorizontal,i=!r,a=this.state.focused||this.state.isDragging,s=this.state.faceSize,l=this.props.isOpaque,u=this.props.verticalTop||0,f=d({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":i,"ScrollbarLayout/mainHorizontal":r,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":l,"public/Scrollbar/mainActive":a}),p=d({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":r,"ScrollbarLayout/faceVertical":i,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),g=this.state.position*this.state.scale+m;return r?(e={width:n},h(t={width:s-v},g,0)):(e={top:u,height:n},h(t={height:s-v},0,g)),e.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(e.backgroundColor=c("fbui-desktop-background-light")),o.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:f,style:e,tabIndex:0},o.createElement("div",{ref:"face",className:p,style:t}))},componentWillMount:function(){var e="horizontal"===this.props.orientation?this._onWheelX:this._onWheelY;this._wheelHandler=new u(e,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),_===this&&(_=null),delete this._mouseMoveTracker},scrollBy:function(e){this._onWheel(e)},_shouldHandleX:function(e){return"horizontal"===this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleY:function(e){return"horizontal"!==this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleChange:function(e){return this._calculateState(this.state.position+e,this.props.size,this.props.contentSize,this.props.orientation).position!==this.state.position},_calculateState:function(e,t,n,r){if(t<1||n<=t)return g;var i=e+"_"+t+"_"+n+"_"+r;if(this._stateKey===i)return this._stateForKey;var o="horizontal"===r,a=t/n,s=t*a;s<30&&(a=(t-30)/(n-t),s=30);var l=n-t;e<0?e=0:e>l&&(e=l);var u={faceSize:s,isDragging:!!this._mouseMoveTracker&&this._mouseMoveTracker.isDragging(),isHorizontal:o,position:e,scale:a,scrollable:!0};return this._stateKey=i,this._stateForKey=u,u},_onWheelY:function(e,t){this._onWheel(t)},_onWheelX:function(e,t){this._onWheel(e)},_onWheel:function(e){var t=this.props;this._setNextState(this._calculateState(this.state.position+e,t.size,t.contentSize,t.orientation))},_onMouseDown:function(e){var t;if(e.target!==s.findDOMNode(this.refs.face)){var n=e.nativeEvent,r=this.state.isHorizontal?n.offsetX||n.layerX:n.offsetY||n.layerY,i=this.props;r/=this.state.scale,t=this._calculateState(r-.5*this.state.faceSize/this.state.scale,i.size,i.contentSize,i.orientation)}else t={};t.focused=!0,this._setNextState(t),this._mouseMoveTracker.captureMouseMoves(e),s.findDOMNode(this).focus()},_onMouseMove:function(e,t){var n=this.props,r=this.state.isHorizontal?e:t;r/=this.state.scale,this._setNextState(this._calculateState(this.state.position+r,n.size,n.contentSize,n.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(e){var t=e.keyCode;if(t!==i.TAB){var n=40,r=0;if(this.state.isHorizontal)switch(t){case i.HOME:r=-1,n=this.props.contentSize;break;case i.LEFT:r=-1;break;case i.RIGHT:r=1;break;default:return}if(!this.state.isHorizontal)switch(t){case i.SPACE:r=e.shiftKey?-1:1;break;case i.HOME:r=-1,n=this.props.contentSize;break;case i.UP:r=-1;break;case i.DOWN:r=1;break;case i.PAGE_UP:r=-1,n=this.props.size;break;case i.PAGE_DOWN:r=1,n=this.props.size;break;default:return}e.preventDefault();var o=this.props;this._setNextState(this._calculateState(this.state.position+n*r,o.size,o.contentSize,o.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),s.findDOMNode(this).blur()}catch(e){}},_setNextState:function(e,t){var n=(t=t||this.props).position,r=this.state.position!==e.position;if(void 0===n){var i=r?this._didScroll:void 0;this.setState(e,i)}else{if(n!==e.position)return void(void 0!==e.position&&e.position!==this.state.position&&this.props.onScroll(e.position));this.setState(e)}r&&_!==this&&(_&&_._blur(),_=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});y.KEYBOARD_SCROLL_AMOUNT=40,y.SIZE=parseInt(c("scrollbar-size"),10),e.exports=y},function(e,t,n){"use strict";var r=n(26),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";(function(t){var n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout;e.exports=n}).call(this,n(14))},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";var r={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};function i(e){if(r.hasOwnProperty(e))return r[e];throw new Error('cssVar("'+e+'"): Unexpected class transformation.')}i.CSS_VARS=r,e.exports=i},function(e,t,n){"use strict";var r=n(87),i={hasCSSAnimations:function(){return!!r("animationName")},hasCSSTransforms:function(){return!!r("transform")},hasCSS3DTransforms:function(){return!!r("perspective")},hasCSSTransitions:function(){return!!r("transition")}};e.exports=i},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=n(8),i=n(10),o=n(168),a=n(88),s=n(16),l=n(26),u=n(27),c=n(32),d=n(13),f=i({propTypes:{isScrolling:d.bool,defaultRowHeight:d.number.isRequired,firstRowIndex:d.number.isRequired,firstRowOffset:d.number.isRequired,fixedColumns:d.array.isRequired,height:d.number.isRequired,offsetTop:d.number.isRequired,onRowClick:d.func,onRowDoubleClick:d.func,onRowMouseDown:d.func,onRowMouseEnter:d.func,onRowMouseLeave:d.func,rowClassNameGetter:d.func,rowsCount:d.number.isRequired,rowHeightGetter:d.func,rowPositionGetter:d.func.isRequired,scrollLeft:d.number.isRequired,scrollableColumns:d.array.isRequired,showLastRowBorder:d.bool,width:d.number.isRequired},getInitialState:function(){return this._rowBuffer=new o(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(e){e.rowsCount===this.props.rowsCount&&e.defaultRowHeight===this.props.defaultRowHeight&&e.height===this.props.height||(this._rowBuffer=new o(e.rowsCount,e.defaultRowHeight,e.height,this._getRowHeight)),this.props.isScrolling&&!e.isScrolling?this._updateBuffer():this.setState({rowsToRender:this._rowBuffer.getRows(e.firstRowIndex,e.firstRowOffset)})},_updateBuffer:function(){this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var e=this.props,t=e.rowClassNameGetter||l,n=e.rowPositionGetter,i=this.state.rowsToRender;this._staticRowArray.length=i.length;for(var o=0;o<i.length;++o){var d=i[o],f=this._getRowHeight(d),h=n(d),p=d===e.rowsCount-1&&e.showLastRowBorder;this._staticRowArray[o]=r.createElement(a,{key:o,isScrolling:e.isScrolling,index:d,width:e.width,height:f,scrollLeft:Math.round(e.scrollLeft),offsetTop:Math.round(h),fixedColumns:e.fixedColumns,scrollableColumns:e.scrollableColumns,onClick:e.onRowClick,onDoubleClick:e.onRowDoubleClick,onMouseDown:e.onRowMouseDown,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,className:u(t(d),s("public/fixedDataTable/bodyRow"),s({"fixedDataTableLayout/hasBottomBorder":p,"public/fixedDataTable/hasBottomBorder":p}))})}var g=e.rowPositionGetter(e.firstRowIndex),m={position:"absolute",pointerEvents:e.isScrolling?"none":"auto"};return c(m,0,e.firstRowOffset-g+e.offsetTop),r.createElement("div",{style:m},this._staticRowArray)},_getRowHeight:function(e){return this.props.rowHeightGetter?this.props.rowHeightGetter(e):this.props.defaultRowHeight}});e.exports=f},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(169),o=n(56),a=n(33),s=function(){function e(t,n,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(0!==n,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new i,this._defaultRowHeight=n,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(r/n)+1,this._bufferRowsCount=o(Math.floor(this._maxVisibleRowCount/2),3,6),this._rowsCount=t,this._rowHeightGetter=s,this._rows=[],this._viewportHeight=r,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return r(e,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var e=2*this._bufferRowsCount,t=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);t<this._viewportRowsBegin;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;for(t=this._viewportRowsEnd;t<this._rowsCount&&e>0;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;return this._rows}},{key:"getRows",value:function(e,t){var n=t,r=e,i=Math.min(e+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=e;r<i||n<this._viewportHeight&&r<this._rowsCount;)this._addRowToBuffer(r,e,i-1),n+=this._rowHeightGetter(r),++r,this._viewportRowsEnd=r;return this._rows}},{key:"_addRowToBuffer",value:function(e,t,n){var r=this._bufferSet.getValuePosition(e),i=n-t+1+2*this._bufferRowsCount;null===r&&this._bufferSet.getSize()>=i&&(r=this._bufferSet.replaceFurthestValuePosition(t,n,e)),null===r?(r=this._bufferSet.getNewPositionForValue(e),this._rows[r]=e):this._rows[r]=e}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(170),o=n(33),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._valueToPositionMap={},this._size=0,this._smallValues=new i([],this._smallerComparator),this._largeValues=new i([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return r(e,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(e){return void 0===this._valueToPositionMap[e]?null:this._valueToPositionMap[e]}},{key:"getNewPositionForValue",value:function(e){o(void 0===this._valueToPositionMap[e],"Shouldn't try to find new position for value already stored in BufferSet");var t=this._size;return this._size++,this._pushToHeaps(t,e),this._valueToPositionMap[e]=t,t}},{key:"replaceFurthestValuePosition",value:function(e,t,n){if(o(void 0===this._valueToPositionMap[n],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var r,i=this._smallValues.peek().value,a=this._largeValues.peek().value;if(i>=e&&a<=t)return null;e-i>a-t?(r=i,this._smallValues.pop()):(r=a,this._largeValues.pop());var s=this._valueToPositionMap[r];return delete this._valueToPositionMap[r],this._valueToPositionMap[n]=s,this._pushToHeaps(s,n),s}},{key:"_pushToHeaps",value:function(e,t){var n={position:e,value:t};this._smallValues.push(n),this._largeValues.push(n)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var e=Math.min(this._smallValues.size(),this._largeValues.size());Math.max(this._smallValues.size(),this._largeValues.size())>10*e&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var e=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,t=new i([],this._smallerComparator),n=new i([],this._greaterComparator);!e.empty();){var r=e.pop();void 0!==this._valueToPositionMap[r.value]&&(t.push(r),n.push(r))}this._smallValues=t,this._largeValues=n}},{key:"_cleanHeap",value:function(e){for(;!e.empty()&&void 0===this._valueToPositionMap[e.peek().value];)e.pop()}},{key:"_smallerComparator",value:function(e,t){return e.value<t.value}},{key:"_greaterComparator",value:function(e,t){return e.value>t.value}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){return e<t}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=t||[],this._size=this._items.length,this._comparator=n||i,this._heapify()}return r(e,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var e=this._items[0],t=this._items.pop();return this._size--,this._size>0&&(this._items[0]=t,this._sinkDown(0)),e}}},{key:"push",value:function(e){this._items[this._size++]=e,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){if(0!==this._size)return this._items[0]}},{key:"_heapify",value:function(){for(var e=Math.floor((this._size+1)/2);e>=0;e--)this._sinkDown(e)}},{key:"_bubbleUp",value:function(e){for(var t=this._items[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this._items[n];if(this._comparator(r,t))return;this._items[n]=t,this._items[e]=r,e=n}}},{key:"_sinkDown",value:function(e){for(var t=this._items[e];;){var n=2*(e+1)-1,r=2*(e+1),i=-1;if(n<this._size){var o=this._items[n];this._comparator(o,t)&&(i=n)}if(r<this._size){var a=this._items[r];this._comparator(a,t)&&(-1===i||this._comparator(a,this._items[i]))&&(i=r)}if(-1===i)return;this._items[e]=this._items[i],this._items[i]=t,e=i}}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=n(89),o=n(8),a=n(10),s=n(172),l=n(16),u=n(32),c=n(13),d=i.DIR_SIGN,f=a({propTypes_DISABLED_FOR_PERFORMANCE:{columns:c.array.isRequired,isScrolling:c.bool,left:c.number,onColumnResize:c.func,rowHeight:c.number.isRequired,rowIndex:c.number.isRequired,width:c.number.isRequired,zIndex:c.number.isRequired},render:function(){for(var e=this.props,t=e.columns,n=new Array(t.length),r=0,i=0,a=t.length;i<a;i++){var s=t[i].props;if(!s.allowCellsRecycling||r-e.left<=e.width&&r-e.left+s.width>=0){var c="cell_"+i;n[i]=this._renderCell(e.rowIndex,e.rowHeight,s,r,c)}r+=s.width}var f=this._getColumnsWidth(t),h={height:e.height,position:"absolute",width:f,zIndex:e.zIndex};return u(h,-1*d*e.left,0),o.createElement("div",{className:l("fixedDataTableCellGroupLayout/cellGroup"),style:h},n)},_renderCell:function(e,t,n,r,i){var a=n.isResizable&&this.props.onColumnResize?this.props.onColumnResize:null,l=n.cellClassName;return o.createElement(s,{isScrolling:this.props.isScrolling,align:n.align,className:l,height:t,key:i,maxWidth:n.maxWidth,minWidth:n.minWidth,onColumnResize:a,rowIndex:e,columnKey:n.columnKey,width:n.width,left:r,cell:n.cell})},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}}),h=a({propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,height:c.number.isRequired,offsetLeft:c.number,left:c.number,zIndex:c.number.isRequired},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex||this.props.left!==e.left},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var e=this.props,t=e.offsetLeft,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["offsetLeft"]),i={height:n.height};1===d?i.left=t:i.right=t;var a=n.onColumnResize?this._onColumnResize:null;return o.createElement("div",{style:i,className:l("fixedDataTableCellGroupLayout/cellGroupWrapper")},o.createElement(f,r({},n,{onColumnResize:a})))},_onColumnResize:function(e,t,n,r,i,o){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,e-this.props.left+t,t,n,r,i,o)}});e.exports=h},function(e,t,n){"use strict";var r=n(57),i=n(89),o=n(8),a=n(10),s=n(16),l=n(27),u=i.DIR_SIGN,c=n(13),d={align:"left",highlighted:!1},f=a({propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,align:c.oneOf(["left","center","right"]),className:c.string,highlighted:c.bool,width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,height:c.number.isRequired,cell:c.oneOfType([c.string,c.element,c.func]),columnKey:c.oneOfType([c.string,c.number]),rowIndex:c.number.isRequired,onColumnResize:c.func,left:c.number},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex},getDefaultProps:function(){return d},render:function(){var e=this.props,t=e.height,n=e.width,i=e.columnKey,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["height","width","columnKey"]),c={height:t,width:n};1===u?c.left=a.left:c.right=a.left;var d,f=l(s({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":a.lastChild,"fixedDataTableCellLayout/alignRight":"right"===a.align,"fixedDataTableCellLayout/alignCenter":"center"===a.align,"public/fixedDataTableCell/alignRight":"right"===a.align,"public/fixedDataTableCell/highlighted":a.highlighted,"public/fixedDataTableCell/main":!0}),a.className);if(a.onColumnResize){var h={height:t};d=o.createElement("div",{className:s("fixedDataTableCellLayout/columnResizerContainer"),style:h,onMouseDown:this._onColumnResizerMouseDown},o.createElement("div",{className:l(s("fixedDataTableCellLayout/columnResizerKnob"),s("public/fixedDataTableCell/columnResizerKnob")),style:h}))}var p,g={columnKey:i,height:t,width:n};return a.rowIndex>=0&&(g.rowIndex=a.rowIndex),p=o.isValidElement(a.cell)?o.cloneElement(a.cell,g):"function"==typeof a.cell?a.cell(g):o.createElement(r,g,a.cell),o.createElement("div",{className:f,style:c},d,p)},_onColumnResizerMouseDown:function(e){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.columnKey,e)}});e.exports=f},function(e,t,n){"use strict";var r=n(86),i=n(90),o=n(8),a=n(10),s=n(55),l=n(56),u=n(16),c=n(13),d=a({mixins:[s],propTypes:{visible:c.bool.isRequired,height:c.number.isRequired,leftOffset:c.number.isRequired,knobHeight:c.number.isRequired,initialWidth:c.number,minWidth:c.number,maxWidth:c.number,initialEvent:c.object,onColumnResizeEnd:c.func,columnKey:c.oneOfType([c.string,c.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(e){e.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(e.initialEvent),this.setState({width:e.initialWidth,cursorDelta:e.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var e={width:this.state.width,height:this.props.height};return i.isRTL()?e.right=this.props.leftOffset:e.left=this.props.leftOffset,o.createElement("div",{className:u({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:e},o.createElement("div",{className:u("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(e){i.isRTL()&&(e=-e);var t=this.state.cursorDelta+e,n=l(t,this.props.minWidth,this.props.maxWidth);this.setState({width:n,cursorDelta:t})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(175),o=n(56),a={index:0,offset:0,position:0,contentHeight:0},s=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rowOffsets=i.uniform(t,n),this._storedHeights=new Array(t);for(var a=0;a<t;++a)this._storedHeights[a]=n;this._rowCount=t,this._position=0,this._contentHeight=t*n,this._defaultRowHeight=n,this._rowHeightGetter=o||function(){return n},this._viewportHeight=r,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return r(e,[{key:"setRowHeightGetter",value:function(e){this._rowHeightGetter=e}},{key:"setViewportHeight",value:function(e){this._viewportHeight=e}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(e,t){for(var n=t,r=e;n<=this._viewportHeight&&r<this._rowCount;)this._updateRowHeight(r),n+=this._storedHeights[r],r++}},{key:"_updateHeightsAboveViewport",value:function(e){for(var t=e-1;t>=0&&t>=e-5;){var n=this._updateRowHeight(t);this._position+=n,t--}}},{key:"_updateRowHeight",value:function(e){if(e<0||e>=this._rowCount)return 0;var t=this._rowHeightGetter(e);if(t!==this._storedHeights[e]){var n=t-this._storedHeights[e];return this._rowOffsets.set(e,t),this._storedHeights[e]=t,this._contentHeight+=n,n}return 0}},{key:"getRowPosition",value:function(e){return this._updateRowHeight(e),this._rowOffsets.sumUntil(e)}},{key:"scrollBy",value:function(e){if(0===this._rowCount)return a;var t=this._rowOffsets.greatestLowerBound(this._position);t=o(t,0,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(t),r=t,i=this._position,s=this._updateRowHeight(r);0!==n&&(i+=s);var l=this._storedHeights[r]-(i-n);if(e>=0)for(;e>0&&r<this._rowCount;)e<l?(i+=e,e=0):(e-=l,i+=l,r++),r<this._rowCount&&(this._updateRowHeight(r),l=this._storedHeights[r]);else if(e<0){e=-e;for(var u=this._storedHeights[r]-l;e>0&&r>=0;)if(e<u?(i-=e,e=0):(i-=u,e-=u,r--),r>=0){var c=this._updateRowHeight(r);u=this._storedHeights[r],i+=c}}var d=this._contentHeight-this._viewportHeight;i=o(i,0,d),this._position=i;var f=this._rowOffsets.greatestLowerBound(i);f=o(f,0,Math.max(this._rowCount-1,0));var h=(n=this._rowOffsets.sumUntil(f))-i;return this._updateHeightsInViewport(f,h),this._updateHeightsAboveViewport(f),{index:f,offset:h,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(e){this._updateRowHeight(e);for(var t=e,n=this._storedHeights[t];n<this._viewportHeight&&t>=0;)--t>=0&&(this._updateRowHeight(t),n+=this._storedHeights[t]);var r=this._rowOffsets.sumTo(e)-this._viewportHeight;return r<0&&(r=0),r}},{key:"scrollTo",value:function(e){if(0===this._rowCount)return a;if(e<=0)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(e>=this._contentHeight-this._viewportHeight){var t=this._rowCount-1;e=this._getRowAtEndPosition(t)}this._position=e;var n=this._rowOffsets.greatestLowerBound(e);n=o(n,0,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(n)-e;return this._updateHeightsInViewport(n,r),this._updateHeightsAboveViewport(n),{index:n,offset:r,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(e,t){e=o(e,0,Math.max(this._rowCount-1,0)),t=o(t,-this._storedHeights[e],0);var n=this._rowOffsets.sumUntil(e);return this.scrollTo(n-t)}},{key:"scrollRowIntoView",value:function(e){e=o(e,0,Math.max(this._rowCount-1,0));var t=this._rowOffsets.sumUntil(e),n=t+this._storedHeights[e];if(t<this._position)return this.scrollTo(t);if(this._position+this._viewportHeight<n){var r=this._getRowAtEndPosition(e);return this.scrollTo(r)}return this.scrollTo(this._position)}}]),e}();e.exports=s},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(33),o=function(e){return Math.floor(e/2)},a=t.Int32Array||function(e){for(var t=[],n=e-1;n>=0;--n)t[n]=0;return t};var s=function(){function e(t){var n;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._size=t.length,this._half=function(e){for(var t=1;t<e;)t*=2;return t}(this._size),this._heap=new a(2*this._half),n=0;n<this._size;++n)this._heap[this._half+n]=t[n];for(n=this._half-1;n>0;--n)this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}return r(e,[{key:"set",value:function(e,t){i(0<=e&&e<this._size,"Index out of range %s",e);var n=this._half+e;for(this._heap[n]=t,n=o(n);0!==n;n=o(n))this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}},{key:"get",value:function(e){i(0<=e&&e<this._size,"Index out of range %s",e);var t=this._half+e;return this._heap[t]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(e){if(i(0<=e&&e<this._size+1,"Index out of range %s",e),0===e)return 0;for(var t=this._half+e-1,n=this._heap[t];1!==t;t=o(t))t%2==1&&(n+=this._heap[t-1]);return n}},{key:"sumTo",value:function(e){return i(0<=e&&e<this._size,"Index out of range %s",e),this.sumUntil(e+1)}},{key:"sum",value:function(e,t){return i(e<=t,"Begin must precede end"),this.sumUntil(t)-this.sumUntil(e)}},{key:"greatestLowerBound",value:function(e){if(e<0)return-1;var t=1;if(this._heap[t]<=e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"greatestStrictLowerBound",value:function(e){if(e<=0)return-1;var t=1;if(this._heap[t]<e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<=n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"leastUpperBound",value:function(e){return this.greatestStrictLowerBound(e)+1}},{key:"leastStrictUpperBound",value:function(e){return this.greatestLowerBound(e)+1}}],[{key:"uniform",value:function(t,n){for(var r=[],i=t-1;i>=0;--i)r[i]=n;return new e(r)}},{key:"empty",value:function(t){return e.uniform(t,0)}}]),e}();e.exports=s}).call(this,n(14))},function(e,t,n){"use strict";var r=n(8);function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}function o(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.flexGrow||0;return t}function a(e,t){if(t<=0)return{columns:e,width:i(e)};for(var n=o(e),a=t,s=[],l=0,u=0;u<e.length;++u){var c=e[u];if(c.props.flexGrow){var d=Math.floor(c.props.flexGrow/n*a),f=Math.floor(c.props.width+d);l+=f,n-=c.props.flexGrow,a-=d,s.push(r.cloneElement(c,{width:f}))}else l+=c.props.width,s.push(c)}return{columns:s,width:l}}var s={getTotalWidth:i,getTotalFlexGrow:o,distributeFlexWidth:a,adjustColumnWidths:function(e,t){var n=i(e);return n<t?a(e,t-n).columns:e},adjustColumnGroupWidths:function(e,t){var n,s=[];for(n=0;n<e.length;++n)r.Children.forEach(e[n].props.children,(function(e){s.push(e)}));var l=i(s),u=o(s),c=Math.max(t-l,0),d=[],f=[];for(n=0;n<e.length;++n){var h=e[n],p=[];r.Children.forEach(h.props.children,(function(e){p.push(e)}));var g=o(p),m=Math.floor(g/u*c),v=a(p,m);u-=g,c-=m;for(var _=0;_<v.columns.length;++_)d.push(v.columns[_]);f.push(r.cloneElement(h,{width:v.width}))}return{columns:d,columnGroups:f}}};e.exports=s},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){var o;function a(){for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];a.reset();var u=function(){e.apply(n,s)};u.__SMmeta=e.__SMmeta,o=r(u,t)}return r=r||setTimeout,i=i||clearTimeout,a.reset=function(){i(o)},a}},function(e,t,n){"use strict";n(8);var r=n(10),i=n(13),o=r({statics:{__TableColumn__:!0},propTypes:{align:i.oneOf(["left","center","right"]),fixed:i.bool,header:i.oneOfType([i.node,i.func]),cell:i.oneOfType([i.node,i.func]),footer:i.oneOfType([i.node,i.func]),columnKey:i.oneOfType([i.string,i.number]),width:i.number.isRequired,minWidth:i.number,maxWidth:i.number,flexGrow:i.number,isResizable:i.bool,allowCellsRecycling:i.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){return null}});e.exports=o},function(e,t,n){"use strict";n(8);var r=n(10),i=n(13),o=r({statics:{__TableColumnGroup__:!0},propTypes:{align:i.oneOf(["left","center","right"]),fixed:i.bool,header:i.oneOfType([i.node,i.func])},getDefaultProps:function(){return{fixed:!1}},render:function(){return null}});e.exports=o},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(8),o=n(13),a=n(10),s=n(16),l=n(27),u=n(93),c=n(57),d=a({propTypes:{label:o.string,className:o.string,rowIndex:o.number,rowGetter:o.func,dataKey:o.oneOfType([o.string,o.number]),cellRenderer:o.func,cellDataGetter:o.func,footerDataGetter:o.func,footerData:o.any,columnData:o.any,width:o.number,height:o.number,isHeaderCell:o.bool,isFooterCell:o.bool},shouldComponentUpdate:function(e){var t,n,r=!1;return e.rowGetter&&(t=e.rowGetter(e.rowIndex),this._rowData!==t&&(r=!0)),null!=e.dataKey&&(e.cellDataGetter&&(n=e.cellDataGetter(e.dataKey,t)),!n&&t&&(n=t[e.dataKey])),this._cellData!==n&&(r=!0),this._rowData=t,this._cellData=n,r||!u(e,this.props)},_getCellData:function(e){var t,n=e.dataKey;return null==n?null:(e.rowGetter&&(t=e.rowGetter(e.rowIndex)),e.cellDataGetter?e.cellDataGetter(n,t):t?t[n]:e.footerDataGetter?e.footerDataGetter()[n]:e.footerData?e.footerData[n]:e.headerDataGetter?e.headerDataGetter[n]:void 0)},_getRowData:function(e){return e.rowGetter?e.rowGetter(e.rowIndex)||{}:e.footerDataGetter?e.footerDataGetter()||{}:e.footerData&&e.footerData||{}},render:function(){var e=this.props,t=this._getCellData(e),n=t,o=this._getRowData(e),a=!(!e.cellRenderer&&!e.groupHeaderRenderer);(e.isHeaderCell||e.isFooterCell)&&(n=n||e.label),e.cellRenderer&&(n=e.isHeaderCell||e.isFooterCell?e.cellRenderer(e.label,e.dataKey,e.columnData,o,e.width)||e.label:e.cellRenderer(t,e.dataKey,o,e.rowIndex,e.columnData,e.width)),e.groupHeaderRenderer&&(n=e.groupHeaderRenderer(e.label,e.dataKey,e.groupHeaderData,e.groupHeaderLabels,e.width)||n);var u=s("public/fixedDataTableCell/cellContent");if(!i.isValidElement(n)||!a)return i.createElement(c,e,n);n=i.cloneElement(n,{className:l(n.props.className,u)});var d=r({height:e.height,width:e.width},e.style);return i.createElement("div",r({},this.props,{className:l(s("fixedDataTableCellLayout/wrap1"),s("public/fixedDataTableCell/wrap1"),this.props.className),style:d}),i.createElement("div",{className:l(s("fixedDataTableCellLayout/wrap2"),s("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:l(s("fixedDataTableCellLayout/wrap3"),s("public/fixedDataTableCell/wrap3"))},n)))}});e.exports=d},function(e,t,n){"use strict";
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t),n.d(t,"MultiDrag",(function(){return yt})),n.d(t,"Sortable",(function(){return Be})),n.d(t,"Swap",(function(){return lt}));function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var c=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),d=u(/Edge/i),f=u(/firefox/i),h=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),p=u(/iP(ad|od|hone)/i),g=u(/chrome/i)&&u(/android/i),m={capture:!1,passive:!1};function v(e,t,n){e.addEventListener(t,n,!c&&m)}function _(e,t,n){e.removeEventListener(t,n,!c&&m)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function E(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function b(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||r&&e===n)return e;if(e===n)break}while(e=E(e))}return null}var T,S=/\s+/g;function w(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(S," ")}}function R(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function C(e,t){var n="";if("string"==typeof e)n=e;else do{var r=R(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function A(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function I(){var e=document.scrollingElement;return e||document.documentElement}function D(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,l,u,d,f;if(e!==window&&e.parentNode&&e!==I()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,u=o.right,d=o.height,f=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!c))do{if(i&&i.getBoundingClientRect&&("none"!==R(i,"transform")||n&&"static"!==R(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(R(i,"border-top-width")),s-=h.left+parseInt(R(i,"border-left-width")),l=a+o.height,u=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=C(i||e),g=p&&p.a,m=p&&p.d;p&&(l=(a/=m)+(d/=m),u=(s/=g)+(f/=g))}return{top:a,left:s,bottom:l,right:u,width:f,height:d}}}function M(e,t,n){for(var r=q(e,!0),i=D(e)[t];r;){var o=D(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===I())break;r=q(r,!1)}return!1}function x(e,t,n){for(var r=0,i=0,o=e.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Be.ghost&&o[i]!==Be.dragged&&b(o[i],n.draggable,e,!1)){if(r===t)return o[i];r++}i++}return null}function N(e,t){for(var n=e.lastElementChild;n&&(n===Be.ghost||"none"===R(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function O(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Be.clone||t&&!y(e,t)||n++;return n}function P(e){var t=0,n=0,r=I();if(e)do{var i=C(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function q(e,t){if(!e||!e.getBoundingClientRect)return I();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=R(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return I();if(r||t)return n;r=!0}}}while(n=n.parentNode);return I()}function F(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function L(e,t){return function(){if(!T){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),T=setTimeout((function(){T=void 0}),t)}}}function k(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function U(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function B(e,t){R(e,"position","absolute"),R(e,"top",t.top),R(e,"left",t.left),R(e,"width",t.width),R(e,"height",t.height)}function H(e){R(e,"position",""),R(e,"top",""),R(e,"left",""),R(e,"width",""),R(e,"height","")}var G="Sortable"+(new Date).getTime();function j(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==R(e,"display")&&e!==Be.ghost){t.push({target:e,rect:D(e)});var n=a({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=C(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=D(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,d=C(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&F(l,s)&&!F(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(c,l,u,r.options)),F(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,c,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){R(e,"transition",""),R(e,"transform","");var i=C(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,R(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),R(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),R(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){R(e,"transition",""),R(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var z=[],Y={initializeByDefault:!0},V={mount:function(e){for(var t in Y)Y.hasOwnProperty(t)&&!(t in e)&&(e[t]=Y[t]);z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),z.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";z.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](a({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](a({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in z.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,o(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);void 0!==a&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return z.forEach((function(r){"function"==typeof r.eventProperties&&o(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return z.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function K(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,u=e.oldIndex,f=e.newIndex,h=e.oldDraggableIndex,p=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[G]){var _,y=t.options,E="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||d?(_=document.createEvent("Event")).initEvent(r,!0,!0):_=new CustomEvent(r,{bubbles:!0,cancelable:!0}),_.to=s||n,_.from=l||n,_.item=i||n,_.clone=o,_.oldIndex=u,_.newIndex=f,_.oldDraggableIndex=h,_.newDraggableIndex=p,_.originalEvent=g,_.pullMode=m?m.lastPutMode:void 0;var b=a({},v,V.getEventProperties(r,t));for(var T in b)_[T]=b[T];n&&n.dispatchEvent(_),y[E]&&y[E].call(t,_)}}var W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=s(n,["evt"]);V.pluginEvent.bind(Be)(e,t,a({dragEl:Q,parentEl:$,ghostEl:Z,rootEl:J,nextEl:ee,lastDownEl:te,cloneEl:ne,cloneHidden:re,dragStarted:me,putSortable:ue,activeSortable:Be.active,originalEvent:r,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:se,hideGhostForTarget:Fe,unhideGhostForTarget:Le,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:r})}},i))};function X(e){K(a({putSortable:ue,cloneEl:ne,targetEl:Q,rootEl:J,oldIndex:ie,oldDraggableIndex:ae,newIndex:oe,newDraggableIndex:se},e))}var Q,$,Z,J,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,de,fe,he,pe,ge,me,ve,_e,ye,Ee,be=!1,Te=!1,Se=[],we=!1,Re=!1,Ce=[],Ae=!1,Ie=[],De="undefined"!=typeof document,Me=p,xe=d||c?"cssFloat":"float",Ne=De&&!g&&!p&&"draggable"in document.createElement("div"),Oe=function(){if(De){if(c)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var n=R(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=x(e,0,t),o=x(e,1,t),a=i&&R(i),s=o&&R(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+D(i).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+D(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[xe]||o&&"none"===n[xe]&&l+u>r)?"vertical":"horizontal"},qe=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Fe=function(){!Oe&&Z&&R(Z,"display","none")},Le=function(){!Oe&&Z&&R(Z,"display","")};De&&document.addEventListener("click",(function(e){if(Te)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Te=!1,!1}),!0);var ke=function(e){if(Q){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,Se.some((function(e){if(!N(e)){var t=D(e),n=e[G].options.emptyInsertThreshold,r=i>=t.left-n&&i<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&r&&s?a=e:void 0}})),a);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[G]._onDragOver(n)}}var i,o,a},Ue=function(e){Q&&Q.parentNode[G]._isOutsideThisEl(e.target)};function Be(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=o({},t),e[G]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Be.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var r in V.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in qe(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ne,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Se.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),o(this,j())}function He(e,t,n,r,i,o,a,s){var l,u,f=e[G],h=f.options.onMove;return!window.CustomEvent||c||d?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||D(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),h&&(u=h.call(f,l,a)),u}function Ge(e){e.draggable=!1}function je(){Ae=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ye(e){return setTimeout(e,0)}function Ve(e){return clearTimeout(e)}Be.prototype={constructor:Be,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=r.filter;if(function(e){Ie.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Ie.push(r)}}(n),!Q&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!h||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=b(s,r.draggable,n,!1))&&s.animated||te===s)){if(ie=O(s),ae=O(s,r.draggable),"function"==typeof u){if(u.call(this,e,s,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),W("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=b(l,r.trim(),n,!1))return X({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),W("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!b(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!Q&&n.parentNode===o){var l=D(n);if(J=o,$=(Q=n).parentNode,ee=Q.nextSibling,te=n,le=a.group,Be.dragged=Q,ce={target:Q,clientX:(t||e).clientX,clientY:(t||e).clientY},pe=ce.clientX-l.left,ge=ce.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Q.style["will-change"]="all",r=function(){W("delayEnded",i,{evt:e}),Be.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!f&&i.nativeDraggable&&(Q.draggable=!0),i._triggerDragStart(e,t),X({sortable:i,name:"choose",originalEvent:e}),w(Q,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){A(Q,e.trim(),Ge)})),v(s,"dragover",ke),v(s,"mousemove",ke),v(s,"touchmove",ke),v(s,"mouseup",i._onDrop),v(s,"touchend",i._onDrop),v(s,"touchcancel",i._onDrop),f&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),W("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(d||c))r();else{if(Be.eventCanceled)return void this._onDrop();v(s,"mouseup",i._disableDelayedDrag),v(s,"touchend",i._disableDelayedDrag),v(s,"touchcancel",i._disableDelayedDrag),v(s,"mousemove",i._delayedDragTouchMoveHandler),v(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&v(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&Ge(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(Q,"dragend",this),v(J,"dragstart",this._onDragStart));try{document.selection?Ye((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(be=!1,J&&Q){W("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Ue);var n=this.options;!e&&w(Q,n.dragClass,!1),w(Q,n.ghostClass,!0),Be.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Fe();for(var e=document.elementFromPoint(de.clientX,de.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(de.clientX,de.clientY))!==t;)t=e;if(Q.parentNode[G]._isOutsideThisEl(e),t)do{if(t[G]){if(t[G]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(ce){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=Z&&C(Z,!0),a=Z&&o&&o.a,s=Z&&o&&o.d,l=Me&&Ee&&P(Ee),u=(i.clientX-ce.clientX+r.x)/(a||1)+(l?l[0]-Ce[0]:0)/(a||1),c=(i.clientY-ce.clientY+r.y)/(s||1)+(l?l[1]-Ce[1]:0)/(s||1);if(!Be.active&&!be){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Z){o?(o.e+=u-(fe||0),o.f+=c-(he||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");R(Z,"webkitTransform",d),R(Z,"mozTransform",d),R(Z,"msTransform",d),R(Z,"transform",d),fe=u,he=c,de=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:J,t=D(Q,!0,Me,!0,e),n=this.options;if(Me){for(Ee=e;"static"===R(Ee,"position")&&"none"===R(Ee,"transform")&&Ee!==document;)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=I()),t.top+=Ee.scrollTop,t.left+=Ee.scrollLeft):Ee=I(),Ce=P(Ee)}w(Z=Q.cloneNode(!0),n.ghostClass,!1),w(Z,n.fallbackClass,!0),w(Z,n.dragClass,!0),R(Z,"transition",""),R(Z,"transform",""),R(Z,"box-sizing","border-box"),R(Z,"margin",0),R(Z,"top",t.top),R(Z,"left",t.left),R(Z,"width",t.width),R(Z,"height",t.height),R(Z,"opacity","0.8"),R(Z,"position",Me?"absolute":"fixed"),R(Z,"zIndex","100000"),R(Z,"pointerEvents","none"),Be.ghost=Z,e.appendChild(Z),R(Z,"transform-origin",pe/parseInt(Z.style.width)*100+"% "+ge/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;W("dragStart",this,{evt:e}),Be.eventCanceled?this._onDrop():(W("setupClone",this),Be.eventCanceled||((ne=U(Q)).draggable=!1,ne.style["will-change"]="",this._hideClone(),w(ne,this.options.chosenClass,!1),Be.clone=ne),n.cloneId=Ye((function(){W("clone",n),Be.eventCanceled||(n.options.removeCloneOnHide||J.insertBefore(ne,Q),n._hideClone(),X({sortable:n,name:"clone"}))})),!t&&w(Q,i.dragClass,!0),t?(Te=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,Q)),v(document,"drop",n),R(Q,"transform","translateZ(0)")),be=!0,n._dragStartId=Ye(n._dragStarted.bind(n,t,e)),v(document,"selectstart",n),me=!0,h&&R(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,l=this.options,u=l.group,c=Be.active,d=le===u,f=l.sort,h=ue||c,p=this,g=!1;if(!Ae){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=b(s,l.draggable,o,!0),F("dragOver"),Be.eventCanceled)return g;if(Q.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return U(!1);if(Te=!1,c&&!l.disabled&&(d?f||(r=!J.contains(Q)):ue===this||(this.lastPutMode=le.checkPull(this,c,Q,e))&&u.checkPut(this,c,Q,e))){if(i="vertical"===this._getDirection(e,s),t=D(Q),F("dragOverValid"),Be.eventCanceled)return g;if(r)return $=J,L(),this._hideClone(),F("revert"),Be.eventCanceled||(ee?J.insertBefore(Q,ee):J.appendChild(Q)),U(!0);var m=N(o,l.draggable);if(!m||function(e,t,n){var r=D(N(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,i,this)&&!m.animated){if(m===Q)return U(!1);if(m&&o===e.target&&(s=m),s&&(n=D(s)),!1!==He(J,o,Q,t,s,n,e,!!s))return L(),o.appendChild(Q),$=o,B(),U(!0)}else if(s.parentNode===o){n=D(s);var v,_,y,E=Q.parentNode!==o,T=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(Q.animated&&Q.toRect||t,s.animated&&s.toRect||n,i),S=i?"top":"left",C=M(s,"top","top")||M(Q,"top","top"),A=C?C.scrollTop:void 0;if(ve!==s&&(_=n[S],we=!1,Re=!T&&l.invertSwap||E),0!==(v=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&ye<u*i){if(!we&&(1===_e?l>c+u*o/2:l<d-u*o/2)&&(we=!0),we)f=!0;else if(1===_e?l<c+ye:l>d-ye)return-_e}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return function(e){return O(Q)<O(e)?1:-1}(t);if((f=f||a)&&(l<c+u*o/2||l>d-u*o/2))return l>c+u/2?1:-1;return 0}(e,s,n,i,T?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Re,ve===s))){var I=O(Q);do{I-=v,y=$.children[I]}while(y&&("none"===R(y,"display")||y===Z))}if(0===v||y===s)return U(!1);ve=s,_e=v;var x=s.nextElementSibling,P=!1,q=He(J,o,Q,t,s,n,e,P=1===v);if(!1!==q)return 1!==q&&-1!==q||(P=1===q),Ae=!0,setTimeout(je,30),L(),P&&!x?o.appendChild(Q):s.parentNode.insertBefore(Q,P?x:s),C&&k(C,0,A-C.scrollTop),$=Q.parentNode,void 0===_||Re||(ye=Math.abs(_-D(s)[S])),B(),U(!0)}if(o.contains(Q))return U(!1)}return!1}function F(l,u){W(l,p,a({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:f,fromSortable:h,target:s,completed:U,onMove:function(n,r){return He(J,o,Q,t,n,D(n),e,r)},changed:B},u))}function L(){F("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function U(t){return F("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(p),p!==h&&(w(Q,ue?ue.options.ghostClass:c.options.ghostClass,!1),w(Q,l.ghostClass,!0)),ue!==p&&p!==Be.active?ue=p:p===Be.active&&ue&&(ue=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){F("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===Q&&!Q.animated||s===o&&!s.animated)&&(ve=null),l.dragoverBubble||e.rootEl||s===document||(Q.parentNode[G]._isOutsideThisEl(e.target),!t&&ke(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function B(){oe=O(Q),se=O(Q,l.draggable),X({sortable:p,name:"change",toEl:o,newIndex:oe,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",ke),_(document,"mousemove",ke),_(document,"touchmove",ke)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;oe=O(Q),se=O(Q,n.draggable),W("drop",this,{evt:e}),$=Q&&Q.parentNode,oe=O(Q),se=O(Q,n.draggable),Be.eventCanceled||(be=!1,Re=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ve(this.cloneId),Ve(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&R(document.body,"user-select",""),R(Q,"transform",""),e&&(me&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(J===$||ue&&"clone"!==ue.lastPutMode)&&ne&&ne.parentNode&&ne.parentNode.removeChild(ne),Q&&(this.nativeDraggable&&_(Q,"dragend",this),Ge(Q),Q.style["will-change"]="",me&&!be&&w(Q,ue?ue.options.ghostClass:this.options.ghostClass,!1),w(Q,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==$?(oe>=0&&(X({rootEl:$,name:"add",toEl:$,fromEl:J,originalEvent:e}),X({sortable:this,name:"remove",toEl:$,originalEvent:e}),X({rootEl:$,name:"sort",toEl:$,fromEl:J,originalEvent:e}),X({sortable:this,name:"sort",toEl:$,originalEvent:e})),ue&&ue.save()):oe!==ie&&oe>=0&&(X({sortable:this,name:"update",toEl:$,originalEvent:e}),X({sortable:this,name:"sort",toEl:$,originalEvent:e})),Be.active&&(null!=oe&&-1!==oe||(oe=ie,se=ae),X({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){W("nulling",this),J=Q=$=Z=ee=ne=te=re=ce=de=me=oe=se=ie=ae=ve=_e=ue=le=Be.dragged=Be.ghost=Be.clone=Be.active=null,Ie.forEach((function(e){e.checked=!0})),Ie.length=fe=he=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)b(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ze(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];b(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return b(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=V.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&qe(n)},destroy:function(){W("destroy",this);var e=this.el;e[G]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Se.splice(Se.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(W("hideClone",this),Be.eventCanceled)return;R(ne,"display","none"),this.options.removeCloneOnHide&&ne.parentNode&&ne.parentNode.removeChild(ne),re=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(re){if(W("showClone",this),Be.eventCanceled)return;Q.parentNode!=J||this.options.group.revertClone?ee?J.insertBefore(ne,ee):J.appendChild(ne):J.insertBefore(ne,Q),this.options.group.revertClone&&this.animate(Q,ne),R(ne,"display",""),re=!1}}else this._hideClone()}},De&&v(document,"touchmove",(function(e){(Be.active||be)&&e.cancelable&&e.preventDefault()})),Be.utils={on:v,off:_,css:R,find:A,is:function(e,t){return!!b(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:L,closest:b,toggleClass:w,clone:U,index:O,nextTick:Ye,cancelNextTick:Ve,detectDirection:Pe,getChild:x},Be.get=function(e){return e[G]},Be.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Be.utils=a({},Be.utils,e.utils)),V.mount(e)}))},Be.create=function(e,t){return new Be(e,t)},Be.version="1.13.0";var Ke,We,Xe,Qe,$e,Ze,Je=[],et=!1;function tt(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function nt(){clearInterval(Ze)}var rt,it=L((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,u=I(),c=!1;We!==n&&(We=n,tt(),Ke=t.scroll,i=t.scrollFn,!0===Ke&&(Ke=q(n,!0)));var d=0,f=Ke;do{var h=f,p=D(h),g=p.top,m=p.bottom,v=p.left,_=p.right,y=p.width,E=p.height,b=void 0,T=void 0,S=h.scrollWidth,w=h.scrollHeight,C=R(h),A=h.scrollLeft,M=h.scrollTop;h===u?(b=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(b=y<S&&("auto"===C.overflowX||"scroll"===C.overflowX),T=E<w&&("auto"===C.overflowY||"scroll"===C.overflowY));var x=b&&(Math.abs(_-o)<=s&&A+y<S)-(Math.abs(v-o)<=s&&!!A),N=T&&(Math.abs(m-a)<=s&&M+E<w)-(Math.abs(g-a)<=s&&!!M);if(!Je[d])for(var O=0;O<=d;O++)Je[O]||(Je[O]={});Je[d].vx==x&&Je[d].vy==N&&Je[d].el===h||(Je[d].el=h,Je[d].vx=x,Je[d].vy=N,clearInterval(Je[d].pid),0==x&&0==N||(c=!0,Je[d].pid=setInterval(function(){r&&0===this.layer&&Be.active._onTouchMove($e);var t=Je[this.layer].vy?Je[this.layer].vy*l:0,n=Je[this.layer].vx?Je[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Be.dragged.parentNode[G],n,t,e,$e,Je[this.layer].el)||k(Je[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=q(f,!1)));et=c}}),30),ot=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);s(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function at(){}function st(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;rt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,a=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var u=rt;!1!==r(n)?(w(n,l.swapClass,!0),rt=n):rt=null,u&&u!==rt&&w(u,l.swapClass,!1)}o(),t(!0),a()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;rt&&w(rt,o.swapClass,!1),rt&&(o.swap||n&&n.options.swap)&&r!==rt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,r,i=e.parentNode,o=t.parentNode;if(!i||!o||i.isEqualNode(t)||o.isEqualNode(e))return;n=O(e),r=O(t),i.isEqualNode(o)&&n<r&&r++;i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r])}(r,rt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){rt=null}},o(e,{pluginName:"swap",eventProperties:function(){return{swapItem:rt}}})}at.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=x(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ot},o(at,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:ot},o(st,{pluginName:"removeOnSpill"});var ut,ct,dt,ft,ht,pt=[],gt=[],mt=!1,vt=!1,_t=!1;function yt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";pt.length&&ct===e?pt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dt=t},delayEnded:function(){this.isMultiDrag=~pt.indexOf(dt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<pt.length;r++)gt.push(U(pt[r])),gt[r].sortableIndex=pt[r].sortableIndex,gt[r].draggable=!1,gt[r].style["will-change"]="",w(gt[r],this.options.selectedClass,!1),pt[r]===dt&&w(gt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pt.length&&ct===t&&(Et(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Et(!1,n),gt.forEach((function(e){R(e,"display","")})),t(),ht=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(gt.forEach((function(e){R(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),ht=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ct&&ct.multiDrag._deselectMultiDrag(),pt.forEach((function(e){e.sortableIndex=O(e)})),pt=pt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),_t=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){pt.forEach((function(e){e!==dt&&R(e,"position","absolute")}));var r=D(dt,!1,!0,!0);pt.forEach((function(e){e!==dt&&B(e,r)})),vt=!0,mt=!0}n.animateAll((function(){vt=!1,mt=!1,t.options.animation&&pt.forEach((function(e){H(e)})),t.options.sort&&bt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;vt&&~pt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;pt.length>1&&(pt.forEach((function(e){r.addAnimationState({target:e,rect:vt?D(e):i}),H(e),e.fromRect=i,t.removeAnimationState(e)})),vt=!1,function(e,t){pt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,a=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),mt=!1,s.animation&&pt.length>1&&(vt||!n&&!i.options.sort&&!a)){var l=D(dt,!1,!0,!0);pt.forEach((function(e){e!==dt&&(B(e,l),o.appendChild(e))})),vt=!0}if(!n)if(vt||bt(),pt.length>1){var u=ht;i._showClone(t),i.options.animation&&!ht&&u&&gt.forEach((function(e){i.addAnimationState({target:e,rect:ft}),e.fromRect=ft,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(pt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ft=o({},t);var i=C(dt,!0);ft.top-=i.f,ft.left-=i.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,bt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,a=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var u=this.options,c=r.children;if(!_t)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(dt,u.selectedClass,!~pt.indexOf(dt)),~pt.indexOf(dt))pt.splice(pt.indexOf(dt),1),ut=null,K({sortable:i,rootEl:n,name:"deselect",targetEl:dt,originalEvt:t});else{if(pt.push(dt),K({sortable:i,rootEl:n,name:"select",targetEl:dt,originalEvt:t}),t.shiftKey&&ut&&i.el.contains(ut)){var d,f,h=O(ut),p=O(dt);if(~h&&~p&&h!==p)for(p>h?(f=h,d=p):(f=p,d=h+1);f<d;f++)~pt.indexOf(c[f])||(w(c[f],u.selectedClass,!0),pt.push(c[f]),K({sortable:i,rootEl:n,name:"select",targetEl:c[f],originalEvt:t}))}else ut=dt;ct=l}if(_t&&this.isMultiDrag){if((r[G].options.sort||r!==n)&&pt.length>1){var g=D(dt),m=O(dt,":not(."+this.options.selectedClass+")");if(!mt&&u.animation&&(dt.thisAnimationDuration=null),l.captureAnimationState(),!mt&&(u.animation&&(dt.fromRect=g,pt.forEach((function(e){if(e.thisAnimationDuration=null,e!==dt){var t=vt?D(e):g;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),bt(),pt.forEach((function(e){c[m]?r.insertBefore(e,c[m]):r.appendChild(e),m++})),a===O(dt))){var v=!1;pt.forEach((function(e){e.sortableIndex===O(e)||(v=!0)})),v&&o("update")}pt.forEach((function(e){H(e)})),l.animateAll()}ct=l}(n===r||s&&"clone"!==s.lastPutMode)&&gt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=_t=!1,gt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==_t&&_t||ct!==this.sortable||e&&b(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;pt.length;){var t=pt[0];w(t,this.options.selectedClass,!1),pt.shift(),K({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},o(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[G];t&&t.options.multiDrag&&!~pt.indexOf(e)&&(ct&&ct!==t&&(ct.multiDrag._deselectMultiDrag(),ct=t),w(e,t.options.selectedClass,!0),pt.push(e))},deselect:function(e){var t=e.parentNode[G],n=pt.indexOf(e);t&&t.options.multiDrag&&~n&&(w(e,t.options.selectedClass,!1),pt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return pt.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=vt&&r!==dt?-1:vt?O(r,":not(."+e.options.selectedClass+")"):O(r),n.push({multiDragElement:r,index:i})})),{items:l(pt),clones:[].concat(gt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Et(e,t){gt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function bt(){pt.forEach((function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)}))}Be.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),nt(),tt(),clearTimeout(T),T=void 0},nulling:function(){$e=We=Ke=et=Ze=Xe=Qe=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if($e=e,t||d||c||h){it(e,this.options,o,t);var a=q(o,!0);!et||Ze&&r===Xe&&i===Qe||(Ze&&nt(),Ze=setInterval((function(){var o=q(document.elementFromPoint(r,i),!0);o!==a&&(a=o,tt()),it(e,n.options,o,t)}),10),Xe=r,Qe=i)}else{if(!this.options.bubbleScroll||q(o,!0)===I())return void tt();it(e,this.options,q(o,!1),!1)}}},o(e,{pluginName:"scroll",initializeByDefault:!0})}),Be.mount(st,at),t.default=Be},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(183),o=r(n(302)),a=r(n(321)),s=r(n(336)),l=r(n(4));dashjs.Protection=a.default,dashjs.MetricsReporting=o.default,dashjs.MediaPlayerFactory=s.default,dashjs.Debug=l.default,t.default=dashjs,t.MediaPlayer=i.MediaPlayer,t.Protection=a.default,t.MetricsReporting=o.default,t.MediaPlayerFactory=s.default,t.Debug=l.default},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(94)),o=r(n(1)),a=r(n(4)),s=n(118),l="undefined"!=typeof window&&window||e,u=l.dashjs;u||(u=l.dashjs={}),u.MediaPlayer=i.default,u.FactoryMaker=o.default,u.Debug=a.default,u.Version=(0,s.getVersionString)(),t.default=u,t.MediaPlayer=i.default,t.FactoryMaker=o.default,t.Debug=a.default}).call(this,n(14))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(19)),a=r(n(3)),s=r(n(5)),l=r(n(1)),u=r(n(4));function c(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0;function O(e){!S&&e.fromStreamInfo&&void 0!==y[e.fromStreamInfo.id]&&(delete b[e.fromStreamInfo.id],delete y[e.fromStreamInfo.id])}function P(){return parseFloat((q()-H()).toFixed(5))}function q(){var e=X(!0),t=S&&T?e-T.start:0;return e+(T?T.duration-t:t)}function F(){T&&g&&g.getElement()?g.play():R=!0}function L(){return T&&g?g.isPaused():null}function k(){T&&g&&g.pause()}function U(){return T&&g?g.isSeeking():null}function B(e,n,i){T&&g&&(!0===i?e!==g.getTime()&&(g.removeEventListener("seeking",oe),r.info("Requesting seek to time: "+e),g.setCurrentTime(e,n)):(t.trigger(s.default.PLAYBACK_SEEK_ASKED),r.info("Requesting seek to time: "+e),g.setCurrentTime(e,n)))}function H(){return T&&g?g.getTime():null}function G(){var e=H();if(S&&!isNaN(A)){var t=A/1e3;e>t&&(e-=t)}return e}function j(){return T&&g?g.getPlaybackRate():null}function z(){return T&&g?g.getEnded():null}function Y(){return S}function V(){if(!S||isNaN(A))return NaN;var e=G();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*m.getClientTimeOffset();return Math.max(((t-A-1e3*e)/1e3).toFixed(3),0)}function K(){v=NaN,R=!1,y={},E=0,A=0,b={},g&&(t.off(s.default.DATA_UPDATE_COMPLETED,J,this),t.off(s.default.BUFFER_LEVEL_STATE_CHANGED,_e,this),t.off(s.default.BYTES_APPENDED_END_FRAGMENT,me,this),t.off(s.default.LOADING_PROGRESS,ve,this),t.off(s.default.PERIOD_SWITCH_STARTED,O,this),t.off(s.default.PLAYBACK_PROGRESS,pe,this),t.off(s.default.PLAYBACK_TIME_UPDATED,pe,this),t.off(s.default.PLAYBACK_ENDED,fe,this),$(),g.removeEventListener("canplay",ee),g.removeEventListener("play",te),g.removeEventListener("waiting",ne),g.removeEventListener("playing",re),g.removeEventListener("pause",ie),g.removeEventListener("error",he),g.removeEventListener("seeking",oe),g.removeEventListener("seeked",ae),g.removeEventListener("timeupdate",se),g.removeEventListener("progress",le),g.removeEventListener("ratechange",ue),g.removeEventListener("loadedmetadata",ce),g.removeEventListener("stalled",ye),g.removeEventListener("ended",de)),_=null,g=null,T=null,S=null}function W(){var e=N.getURIFragmentData(),t=void 0;if(e){t={};var n=parseInt(e.r,10);n>=0&&T&&n<T.manifestInfo.DVRWindowSize&&null===e.t&&(e.t=Math.max(Math.floor(Date.now()/1e3)-T.manifestInfo.DVRWindowSize,T.manifestInfo.availableFrom.getTime()/1e3+T.start)+n),t.fragS=parseFloat(e.s),t.fragT=parseFloat(e.t)}return t}function X(e,t){var n=void 0,r=NaN;if(e)r=T?T.start:r;else{var i=W();r=i?isNaN(i.fragS)?i.fragT:i.fragS:0}if(S)!isNaN(r)&&T&&((n=r-T.manifestInfo.availableFrom.getTime()/1e3)>v||n<(isNaN(t)?NaN:t-T.manifestInfo.DVRWindowSize))&&(n=null),n=n||v;else if(T)if(!isNaN(r)&&r<Math.max(T.manifestInfo.duration,T.duration)&&r>=0)n=r;else{var o=y[T.id];n=void 0!==o?Math.max(void 0!==o.audio?o.audio:0,void 0!==o.video?o.video:0,T.start):T.start}return n}function Q(){if(null===_){_=setInterval((function(){var e;t.trigger(s.default.WALLCLOCK_TIME_UPDATED,{isDynamic:S,time:new Date}),Y()&&L()&&(e=Date.now(),(!C||e>C+500)&&(C=e,se()))}),w.getWallclockTimeUpdateInterval())}}function $(){clearInterval(_),_=null}function Z(){if(!L()&&S&&0!==g.getReadyState()){var e=G(),t=function(e){var t=c.getReadOnlyMetricsFor(i.default.VIDEO)||c.getReadOnlyMetricsFor(i.default.AUDIO),n=d.getCurrentDVRInfo(t),r=n?n.range:null,o=void 0;if(!r)return NaN;if(e>r.end)o=Math.max(r.end-2*T.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;o=r.start}return o}(e);!isNaN(t)&&t!==e&&B(t)}}function J(e){if(!e.error){var t=p.convertDataToRepresentationInfo(e.currentRepresentation).mediaInfo.streamInfo;T.id===t.id&&(T=t,Z())}}function ee(){t.trigger(s.default.CAN_PLAY)}function te(){r.info("Native video element event: play"),Z(),Q(),t.trigger(s.default.PLAYBACK_STARTED,{startTime:H()})}function ne(){r.info("Native video element event: waiting"),t.trigger(s.default.PLAYBACK_WAITING,{playingTime:H()})}function re(){r.info("Native video element event: playing"),t.trigger(s.default.PLAYBACK_PLAYING,{playingTime:H()})}function ie(){r.info("Native video element event: pause"),t.trigger(s.default.PLAYBACK_PAUSED,{ended:z()})}function oe(){var e=H();r.info("Seeking to: "+e),Q(),t.trigger(s.default.PLAYBACK_SEEKING,{seekTime:e})}function ae(){r.info("Native video element event: seeked"),t.trigger(s.default.PLAYBACK_SEEKED),g.addEventListener("seeking",oe)}function se(){T&&t.trigger(s.default.PLAYBACK_TIME_UPDATED,{timeToEnd:P(),time:H()})}function le(){t.trigger(s.default.PLAYBACK_PROGRESS)}function ue(){var e=j();r.info("Native video element event: ratechange: ",e),t.trigger(s.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function ce(){r.info("Native video element event: loadedmetadata"),t.trigger(s.default.PLAYBACK_METADATA_LOADED),Q()}function de(){r.info("Native video element event: ended"),k(),$(),t.trigger(s.default.PLAYBACK_ENDED,{isLast:l.getActiveStreamInfo().isLast})}function fe(e){_&&e.isLast&&(r.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),g.setCurrentTime(q()),k(),$())}function he(e){var n=e.target||e.srcElement;t.trigger(s.default.PLAYBACK_ERROR,{error:n.error})}function pe(){S&&w.getLowLatencyEnabled()&&w.getCatchUpPlaybackRate()>0&&!L()&&!U()&&(w.getCatchUpPlaybackRate()>0&&H()>0&&Math.abs(V()-w.getLiveDelay())>w.getLowLatencyMinDrift()?function(){if(g){var e=w.getCatchUpPlaybackRate(),t=w.getLiveDelay(),n=V()-t,o=5*n,a=2*e/(1+Math.pow(Math.E,-o)),s=1-e+a;if(M)(function(){var e=null;return l.getActiveStreamProcessors().forEach((function(t){var n=t.getBufferLevel();e=null===e?n:Math.min(e,n)})),e})()>t/2?M=!1:n>0&&(s=1);Math.abs(g.getPlaybackRate()-s)>x&&g.setPlaybackRate(s),w.getLowLatencyMaxDriftBeforeSeeking()>0&&!D&&n>w.getLowLatencyMaxDriftBeforeSeeking()?(r.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),D=!0,u=c.getReadOnlyMetricsFor(i.default.VIDEO)||c.getReadOnlyMetricsFor(i.default.AUDIO),B(((f=d.getCurrentDVRInfo(u))?f.range:null).end-w.getLiveDelay(),!0,!1)):D=!1}var u,f}():ge())}function ge(){g&&g.setPlaybackRate(1)}function me(e){var t,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!y[T.id]||!0!==y[T.id].started)){var o=e.sender.getType();void 0===b[T.id]&&(b[T.id]=[]),b[T.id][o]=r,void 0===y[T.id]&&(y[T.id]=[],y[T.id].started=!1),void 0===y[T.id][o]&&(y[T.id][o]=Math.max(r.start(0),T.start));var a=l.isTrackTypePresent(i.default.VIDEO),s=l.isTrackTypePresent(i.default.AUDIO);t=X(!1),s&&a?isNaN(y[T.id].audio)||isNaN(y[T.id].video)||(y[T.id].audio<y[T.id].video?(n=y[T.id].video>t?y[T.id].video:t,r=b[T.id].audio):(n=y[T.id].audio>t?y[T.id].audio:t,r=b[T.id].video),function(e,t){if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)if(e>=t.start(n)&&e<t.end(n))return!0;return!1}(n,r)&&(U()||I||0===n||B(n,!0,!0),y[T.id].started=!0)):y[T.id][o]&&(n=y[T.id][o]>t?y[T.id][o]:t,U()||I||B(n,!1,!0),y[T.id].started=!0)}}function ve(e){if(!1===e.stream&&w.getLowLatencyEnabled()&&!isNaN(e.request.duration)){var t=1.2*e.request.duration;t>w.getLiveDelay()&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),w.setLiveDelay(t))}}function _e(e){e.streamInfo.id===T.id&&(w.getLowLatencyEnabled()?e.state!==o.default.BUFFER_EMPTY||U()||M||(M=!0,ge()):g.setStallState(e.mediaType,e.state===o.default.BUFFER_EMPTY))}function ye(e){t.trigger(s.default.PLAYBACK_STALLED,{e:e})}return n={initialize:function(e,n){T=e,g.addEventListener("canplay",ee),g.addEventListener("play",te),g.addEventListener("waiting",ne),g.addEventListener("playing",re),g.addEventListener("pause",ie),g.addEventListener("error",he),g.addEventListener("seeking",oe),g.addEventListener("seeked",ae),g.addEventListener("timeupdate",se),g.addEventListener("progress",le),g.addEventListener("ratechange",ue),g.addEventListener("loadedmetadata",ce),g.addEventListener("stalled",ye),g.addEventListener("ended",de),S=T.manifestInfo.isDynamic,D=!1,M=!1,v=T.start,I=n;var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=/safari/.test(r)&&!/chrome/.test(r);x=i?.25:.02,t.on(s.default.DATA_UPDATE_COMPLETED,J,this),t.on(s.default.BYTES_APPENDED_END_FRAGMENT,me,this),t.on(s.default.LOADING_PROGRESS,ve,this),t.on(s.default.BUFFER_LEVEL_STATE_CHANGED,_e,this),t.on(s.default.PERIOD_SWITCH_STARTED,O,this),t.on(s.default.PLAYBACK_PROGRESS,pe,this),t.on(s.default.PLAYBACK_TIME_UPDATED,pe,this),t.on(s.default.PLAYBACK_ENDED,fe,this),R&&(R=!1,F())},setConfig:function(e){e&&(e.streamController&&(l=e.streamController),e.metricsModel&&(c=e.metricsModel),e.dashMetrics&&(d=e.dashMetrics),e.manifestModel&&(f=e.manifestModel),e.dashManifestModel&&(h=e.dashManifestModel),e.mediaPlayerModel&&(w=e.mediaPlayerModel),e.adapter&&(p=e.adapter),e.videoModel&&(g=e.videoModel),e.timelineConverter&&(m=e.timelineConverter),e.uriFragmentModel&&(N=e.uriFragmentModel))},getStartTimeFromUriParameters:W,getStreamStartTime:X,getTimeToStreamEnd:P,getTime:H,getNormalizedTime:G,getPlaybackRate:j,getPlayedRanges:function(){return T&&g?g.getPlayedRanges():null},getEnded:z,getIsDynamic:Y,getStreamController:function(){return l},setLiveStartTime:function(e){v=e},getLiveStartTime:function(){return v},computeLiveDelay:function(e,t){var n=h.getMpd(f.getValue()),r=void 0,o=void 0;if(r=w.getUseSuggestedPresentationDelay()&&n.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)?n.suggestedPresentationDelay:w.getLowLatencyEnabled()?0:w.getLiveDelay()?w.getLiveDelay():isNaN(e)?2*T.manifestInfo.minBufferTime:e*w.getLiveDelayFragmentCount(),n.availabilityStartTime&&(A=n.availabilityStartTime.getTime()),t>0){var a=Math.max(t-10,t/2);o=Math.min(r,a)}else o=r;return E=o,o},getLiveDelay:function(){return E},getCurrentLiveLatency:V,play:F,isPaused:L,pause:k,isSeeking:U,seek:B,reset:K},r=(0,u.default)(e).getInstance().getLogger(n),K(),n}c.__dashjs_factory_name="PlaybackController",t.default=l.default.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39),o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=n(9),a=r(n(187)),s=r(n(34)),l=r(n(96)),u=r(n(1)),c=r(n(4)),d=r(n(60)),f=r(n(209)),h=r(n(59)),p=r(n(103)),g=r(n(3)),m=r(n(5)),v=r(n(6)),_=r(n(7));function y(){var e=this.context,t=(0,g.default)(e).getInstance(),n=!1,r=void 0,u=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0;function z(){D=null,x=NaN,N=[],q=null,M=!1,A=[],w=null}function Y(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&X(t.bytes,t)}function V(){L=[],(I=(0,d.default)(e).getInstance()).setConfig({videoModel:O}),I.initialize(),y=(0,s.default)(e).getInstance(),F=null,!1,k=0,H=[],B=[],U=null,n=!0,G=(0,f.default)(e).getInstance();var r=P.getActiveStreamProcessors();for(var i in r)if("video"===r[i].getType()){j=r[i].getRepresentationInfo().MSETimeOffset;break}t.on(m.default.VIDEO_CHUNK_RECEIVED,Y,this)}function K(e){F=e}function W(e,t){var n,r,o=new a.default,s={subtitle:"subtitles",caption:"captions"};o.captionData=e,o.lang=t.lang,o.labels=t.labels,o.id=t.id?t.id:t.index,o.index=t.index,o.isTTML=(n=!1,t.codec&&t.codec.search(i.default.STPP)>=0&&(n=!0),t.mimeType&&t.mimeType.search(i.default.TTML)>=0&&(n=!0),n),o.defaultTrack=function(e){var t=!1;L.length>1&&e.isEmbedded?t=e.id&&e.id===i.default.CC1:1===L.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===L.length&&(t=e.index===A[0].index);return t}(t),o.isFragmented=!b.getIsTextTrack(t.mimeType),o.isEmbedded=!!t.isEmbedded,o.kind=r=(r=t.roles.length>0?s[t.roles[0]]:s.caption)===s.caption||r===s.subtitle?r:s.caption,o.roles=t.roles,o.accessibility=t.accessibility;var l=(A?A.length:0)+L.length;I.addTextTrack(o,l)}function X(e,t){var n=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,f=t.mediaInfo,g=f.type,m=f.mimeType,b=f.codec||m;if(b){if(g===i.default.FRAGMENTED_TEXT)if(M)if(r=(c=y.getSamplesInfo(e)).sampleList,null===q&&r.length>0&&(q=r[0].cts-t.start*x),b.search(i.default.STPP)>=0)for(w=null!==w?w:Q(b),a=0;a<r.length;a++){var S=(K=r[a]).cts,R=S-q;this.buffered.add(R/x,(R+K.duration)/x);var C=new DataView(e,K.offset,K.subSizes[0]);d=h.default.Utils.dataViewToString(C,i.default.UTF8);var A=[],N=K.offset+K.subSizes[0];for(s=1;s<K.subSizes.length;s++){var P=new Uint8Array(e,N,K.subSizes[s]),z=String.fromCharCode.apply(null,P);A.push(z),N+=K.subSizes[s]}try{var Y=T.getValue().ttmlTimeIsRelative?S/x:0;n=w.parse(d,Y,S/x,(S+K.duration)/x,A),I.addCaptions(F,q/x,n)}catch(e){D.removeExecutedRequestsBeforeTime(),this.remove(),u.error("TTML parser error: "+e.message)}}else{var V=[];for(a=0;a<r.length;a++){var K;(K=r[a]).cts-=q,this.buffered.add(K.cts/x,(K.cts+K.duration)/x);var X=e.slice(K.offset,K.offset+K.size),$=h.default.parseBuffer(X);for(s=0;s<$.boxes.length;s++){var Z=$.boxes[s];if(u.debug("VTT box1: "+Z.type),"vtte"!==Z.type&&"vttc"===Z.type)for(u.debug("VTT vttc boxes.length = "+Z.boxes.length),l=0;l<Z.boxes.length;l++){var J=Z.boxes[l];if(u.debug("VTT box2: "+J.type),"payl"===J.type){var ee=J.cue_text;u.debug("VTT cue_text = "+ee);var te=K.cts/x,ne=(K.cts+K.duration)/x;V.push({start:te,end:ne,data:ee,styles:{}}),u.debug("VTT "+te+"-"+ne+" : "+ee)}}}}V.length>0&&I.addCaptions(F,0,V)}else M=!0,x=y.getMediaTimescaleFromMoov(e);else if(g===i.default.TEXT){C=new DataView(e,0,e.byteLength);d=h.default.Utils.dataViewToString(C,i.default.UTF8);try{n=Q(b).parse(d,0),I.addCaptions(I.getCurrentTrackIdx(),0,n)}catch(e){E.timedTextError(e,"parse",d),E.error(new v.default(_.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,_.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,d))}}else if(g===i.default.VIDEO)if(t.segmentType===o.HTTPRequest.INIT_SEGMENT_TYPE){if(0===k)for(k=y.getMediaTimescaleFromMoov(e),a=0;a<L.length;a++)W(null,L[a])}else{if(0===k)return void u.warn("CEA-608: No timescale for embeddedTextTrack yet");var re=function(e,t){return function(e,n,r){var i=null;i=O.getTTMLRenderingDiv()?G.createHTMLCaptionsFromScreen(O.getElement(),e,n,r):[{start:e,end:n,data:r.getDisplayText(),styles:{}}],i&&I.addCaptions(t,0,i)}},ie=(c=y.getSamplesInfo(e)).lastSequenceNumber;if(!H[0]&&!H[1]){var oe=void 0,ae=void 0;for(a=0;a<L.length;a++){if(L[a].id===i.default.CC1?(0,ae=I.getTrackIdxForId(i.default.CC1)):L[a].id===i.default.CC3&&(1,ae=I.getTrackIdxForId(i.default.CC3)),-1===ae)return void u.warn("CEA-608: data before track is ready.");oe=re(0,ae),H[a]=new p.default.Cea608Parser(a+1,{newCue:oe},null)}}if(k&&-1==B.indexOf(ie)){if(null!==U&&ie!==U+c.numSequences)for(a=0;a<H.length;a++)H[a]&&H[a].reset();for(var se=function(e,t){if(0===t.length)return null;for(var n={splits:[],fields:[[],[]]},r=new DataView(e),i=0;i<t.length;i++)for(var o=t[i],a=p.default.findCea608Nalus(r,o.offset,o.size),s=null,l=0,u=0;u<a.length;u++)for(var c=p.default.extractCea608DataFromRange(r,a[u]),d=0;d<2;d++)c[d].length>0&&(o.cts!==s?l=0:l+=1,n.fields[d].push([o.cts+j*k,c[d],l]),s=o.cts);return n.fields.forEach((function(e){e.sort((function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]}))})),n}(e,c.sampleList),le=0;le<H.length;le++){var ue=se.fields[le],ce=H[le];if(ce)for(a=0;a<ue.length;a++)ce.addData(ue[a][0]/k,ue[a][1])}U=ie,B.push(ie)}}}else u.error("No text type defined")}function Q(e){var t=void 0;return e.search(i.default.VTT)>=0?t=R:(e.search(i.default.TTML)>=0||e.search(i.default.STPP)>=0)&&(t=C),t}return r={initialize:function(t,o){n||V(),I.setConfig({videoModel:O}),I.initialize(),y||(y=(0,s.default)(e).getInstance()),function(t,n){var o=!b.getIsTextTrack(t);if(n){if(A=A.concat(n.getMediaInfoArr()),o){D=n.getFragmentModel(),r.buffered=(0,l.default)(e).create(),N=S.getTracksFor(i.default.FRAGMENTED_TEXT,P.getActiveStreamInfo());for(var a=S.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,P.getActiveStreamInfo()),s=0;s<N.length;s++)if(N[s]===a){K(s);break}}for(s=0;s<A.length;s++)W(null,A[s])}}(t,o)},append:X,abort:function(){I.deleteAllTextTracks(),y=null,A=[],D=null,M=!1,N=[]},addEmbeddedTrack:function(e){if(n||V(),e)if(e.id===i.default.CC1||e.id===i.default.CC3){for(var t=0;t<L.length;t++)if(L[t].id===e.id)return;L.push(e)}else u.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){t.off(m.default.VIDEO_CHUNK_RECEIVED,Y,this),I&&I.deleteAllTextTracks(),n=!1,L=[],H=[null,null],B=[],U=null},setConfig:function(e){e&&(e.errHandler&&(E=e.errHandler),e.dashManifestModel&&(b=e.dashManifestModel),e.manifestModel&&(T=e.manifestModel),e.mediaController&&(S=e.mediaController),e.videoModel&&(O=e.videoModel),e.streamController&&(P=e.streamController),e.textTracks&&(I=e.textTracks),e.vttParser&&(R=e.vttParser),e.ttmlParser&&(C=e.ttmlParser))},getConfig:function(){return{fragmentModel:D,fragmentedTracks:N,videoModel:O}},setCurrentFragmentedTrackIdx:K,remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function(){z(),P=null,O=null,I=null}},u=(0,c.default)(e).getInstance().getLogger(r),z(),r}y.__dashjs_factory_name="TextSourceBuffer",t.default=u.default.getSingletonFactory(y),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(189)),o=r(n(1));function a(){var e=void 0;function t(t){var r=[];if(!t||!e||"function"!=typeof e.fetchAll)return r;for(var i=e.fetchAll(t),o=void 0,a=0,s=i.length;a<s;a++)(o=n(i[a]))&&r.push(o);return r}function n(e){if(!e)return null;var t=new i.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?n(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var n=t(e.boxes[e.boxes.length-1].type);return n.length>0?n[n.length-1]:null}}}a.__dashjs_factory_name="IsoFile",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var n=0;n<t.boxes.length;n++)this.boxes.push(new e(t.boxes[n]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(n=0;n<t.references.length;n++){var r={reference_type:t.references[n].reference_type,referenced_size:t.references[n].referenced_size,subsegment_duration:t.references[n].subsegment_duration};this.references.push(r)}}break;case"emsg":this.id=t.id,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];n=0;for(var i=t.samples.length;n<i;n++){var o={sample_size:t.samples[n].sample_size,sample_duration:t.samples[n].sample_duration,sample_composition_time_offset:t.samples[n].sample_composition_time_offset};this.samples.push(o)}}}}return r(e,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=n,this.size=r},e.exports=t.default},function(e,t,n){!function(e,t,n,r){e.generateISD=function(e,t,n){var r=new a(e),i={};for(var s in e.head.layout.regions){var l=o(e,t,e.head.layout.regions[s],e.body,null,"",e.head.layout.regions[s],n,i);null!==l&&r.contents.push(l.element)}return r};var i=[n.byName.color.qname,n.byName.textCombine.qname,n.byName.textDecoration.qname,n.byName.textEmphasis.qname,n.byName.textOutline.qname,n.byName.textShadow.qname];function o(e,t,a,u,c,d,f,h,p){if(t<f.begin||t>=f.end)return null;var g="regionID"in f&&""!==f.regionID?f.regionID:d;if(null!==c&&g!==a.id&&(!("contents"in f)||"contents"in f&&0===f.contents.length||""!==g))return null;var m=new s(f);for(var v in f.sets)t<f.sets[v].begin||t>=f.sets[v].end||(m.styleAttrs[f.sets[v].qname]=f.sets[v].value);var _,y={};for(var E in m.styleAttrs)if(y[E]=!0,"region"===m.kind&&E===n.byName.writingMode.qname&&!(n.byName.direction.qname in m.styleAttrs)){var b=m.styleAttrs[E];"lrtb"===b||"lr"===b?m.styleAttrs[n.byName.direction.qname]="ltr":"rltb"!==b&&"rl"!==b||(m.styleAttrs[n.byName.direction.qname]="rtl")}if(null!==c)for(var T in n.all){var S=n.all[T];if(S.qname===n.byName.textDecoration.qname){var w=c.styleAttrs[S.qname],R=m.styleAttrs[S.qname],C=[];void 0===R?C=w:-1===R.indexOf("none")?((-1===R.indexOf("noUnderline")&&-1!==w.indexOf("underline")||-1!==R.indexOf("underline"))&&C.push("underline"),(-1===R.indexOf("noLineThrough")&&-1!==w.indexOf("lineThrough")||-1!==R.indexOf("lineThrough"))&&C.push("lineThrough"),(-1===R.indexOf("noOverline")&&-1!==w.indexOf("overline")||-1!==R.indexOf("overline"))&&C.push("overline")):C.push("none"),m.styleAttrs[S.qname]=C}else if(S.qname!==n.byName.fontSize.qname||S.qname in m.styleAttrs||"span"!==m.kind||"textContainer"!==m.styleAttrs[n.byName.ruby.qname])if(S.qname!==n.byName.fontSize.qname||S.qname in m.styleAttrs||"span"!==m.kind||"text"!==m.styleAttrs[n.byName.ruby.qname])S.inherit&&S.qname in c.styleAttrs&&!(S.qname in m.styleAttrs)&&(m.styleAttrs[S.qname]=c.styleAttrs[S.qname]);else{var A=c.styleAttrs[n.byName.fontSize.qname];"textContainer"===c.styleAttrs[n.byName.ruby.qname]?m.styleAttrs[S.qname]=A:m.styleAttrs[S.qname]=new r.ComputedLength(.5*A.rw,.5*A.rh)}else{var I=c.styleAttrs[n.byName.fontSize.qname];m.styleAttrs[S.qname]=new r.ComputedLength(.5*I.rw,.5*I.rh)}}for(var D in n.all){var M=n.all[D];if(!(M.qname in m.styleAttrs)&&!(M.qname===n.byName.position.qname&&n.byName.origin.qname in m.styleAttrs||M.qname===n.byName.origin.qname&&n.byName.position.qname in m.styleAttrs)){var x=e.head.styling.initials[M.qname]||M.initial;if(null!==x&&("region"===m.kind||!1===M.inherit&&null!==x)){var N=M.parse(x);null!==N?(m.styleAttrs[M.qname]=N,y[M.qname]=!0):l(h,"Invalid initial value for '"+M.qname+"' on element '"+m.kind)}}}for(var O in n.all){var P=n.all[O];if(P.qname in y&&null!==P.compute){var q=P.compute(e,c,m,m.styleAttrs[P.qname],p);null!==q?m.styleAttrs[P.qname]=q:(m.styleAttrs[P.qname]=P.compute(e,c,m,P.parse(P.initial),p),l(h,"Style '"+P.qname+"' on element '"+m.kind+"' cannot be computed"))}}if("none"===m.styleAttrs[n.byName.display.qname])return null;for(var F in null===c?_=null===u?[]:[u]:"contents"in f&&(_=f.contents),_){var L=o(e,t,a,u,m,g,_[F],h,p);null!==L&&m.contents.push(L.element)}for(var k in m.styleAttrs){var U=!1;if("span"===m.kind){var B=m.styleAttrs[n.byName.ruby.qname];(U=("container"===B||"textContainer"===B||"baseContainer"===B)&&-1!==i.indexOf(k))||(U="container"!==B&&k===n.byName.rubyAlign.qname),U||(U=!("textContainer"===B||"text"===B)&&k===n.byName.rubyPosition.qname)}if(!U)U=-1===n.byQName[k].applies.indexOf(m.kind);U&&delete m.styleAttrs[k]}var H=m.styleAttrs[n.byName.ruby.qname];if("p"===m.kind||"span"===m.kind&&("textContainer"===H||"text"===H)){var G=[];!function e(t,r){for(var i in t.contents){var o=t.contents[i],a=o.styleAttrs[n.byName.ruby.qname];("span"!==o.kind||"textContainer"!==a&&"text"!==a)&&("contents"in o?e(o,r):("span"===o.kind&&0!==o.text.length||"br"===o.kind)&&r.push(o))}}(m,G),function(e){for(var t,n=0;n<e.length;)if("br"!==(t=e[n]).kind&&"preserve"!==t.space){var r=t.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(r)&&(0===n||("br"===(i=e[n-1]).kind||/[\r\n\t ]$/.test(i.text)))&&(r=r.substring(1)),t.text=r,0===r.length?e.splice(n,1):n++}else n++;var i;for(n=0;n<e.length;n++)"br"!==(t=e[n]).kind&&"preserve"!==t.space?/[ ]$/.test(t.text)&&(n===e.length-1||("br"===(o=e[n+1]).kind||"preserve"===o.space&&/^[\r\n]/.test(o.text)))&&(t.text=t.text.slice(0,-1)):n++;var o}(G),function e(t){if("br"===t.kind)return!1;if("text"in t)return 0===t.text.length;if("contents"in t){for(var n=t.contents.length;n--;)e(t.contents[n])&&t.contents.splice(n,1);return 0===t.contents.length}}(m)}return"div"===m.kind&&n.byName.backgroundImage.qname in m.styleAttrs||"br"===m.kind||"image"===m.kind||"contents"in m&&m.contents.length>0||"span"===m.kind&&null!==m.text||"region"===m.kind&&"always"===m.styleAttrs[n.byName.showBackground.qname]?{region_id:g,element:m}:null}function a(e){this.contents=[],this.aspectRatio=e.aspectRatio,this.lang=e.lang}function s(e){for(var t in this.kind=e.kind||"region",this.lang=e.lang,e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"src"in e&&(this.src=e.src),"type"in e&&(this.type=e.type),"text"in e?this.text=e.text:("region"===this.kind||"contents"in e)&&(this.contents=[]),"space"in e&&(this.space=e.space)}function l(e,t){if(e&&e.error&&e.error(t))throw t}}(t,"undefined"==typeof imscNames?n(40):imscNames,"undefined"==typeof imscStyles?n(61):imscStyles,"undefined"==typeof imscUtils?n(41):imscUtils)},function(e,t,n){!function(e,t,n,r,i){function o(e,t,n,r){var i=r&&"seq"===r.timeContainer,a=0;r&&(a=i&&n?n.end:r.begin),t.begin=t.explicit_begin?t.explicit_begin+a:a;var s=t.begin,l=null;for(var u in t.sets)o(e,t.sets[u],l,t),s="seq"===t.timeContainer?t.sets[u].end:Math.max(s,t.sets[u].end),l=t.sets[u];if("contents"in t)for(var c in t.contents)o(e,t.contents[c],l,t),s="seq"===t.timeContainer?t.contents[c].end:Math.max(s,t.contents[c].end),l=t.contents[c];else s=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,a+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=a+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function a(e){this.node=e}function s(){this.events=[],this.head=new l,this.body=null}function l(){this.styling=new u,this.layout=new f}function u(){this.styles={},this.initials={}}function c(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function d(){this.styleAttrs=null}function f(){this.regions={}}function h(e,t){p.call(this,"image"),this.src=e,this.type=t}function p(e){this.kind=e}function g(e){this.id=e}function m(e){this.regionID=e}function v(e){this.styleAttrs=e}function _(e){this.sets=e}function y(e){this.contents=e}function E(e,t,n){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=n}function b(){p.call(this,"body")}function T(){p.call(this,"div")}function S(){p.call(this,"p")}function w(){p.call(this,"span")}function R(){p.call(this,"span")}function C(){p.call(this,"br")}function A(){}function I(){}function D(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function M(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function x(e,t){var n={};if(null!==e)for(var i in e.attributes){var o=e.attributes[i].uri+" "+e.attributes[i].local,a=r.byQName[o];if(void 0!==a){var s=a.parse(e.attributes[i].value);null!==s?(n[o]=s,a===r.byName.zIndex&&L(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):k(t,"Cannot parse styling attribute "+o+" --\x3e "+e.attributes[i].value)}}return n}function N(e,t,n){for(var r in e.attributes)if(e.attributes[r].uri===t&&e.attributes[r].local===n)return e.attributes[r].value;return null}function O(e,t,n){var r,i=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(i=parseFloat(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(i=parseFloat(r[1])/e):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(n))?i=parseFloat(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(n))?i=parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(n))?i=3600*parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(n))?i=60*parseFloat(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?i=3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(i=3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)),i}function P(e,t,n){for(;t.styleRefs.length>0;){var r=t.styleRefs.pop();r in e.styles?(P(e,e.styles[r],n),F(e.styles[r].styleAttrs,t.styleAttrs)):k(n,"Non-existant style id referenced")}}function q(e,t,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i];o in e.styles?F(e.styles[o].styleAttrs,n):k(r,"Non-existant style id referenced")}}function F(e,t){for(var n in e)n in t||(t[n]=e[n])}function L(e,t){if(e&&e.warn&&e.warn(t))throw t}function k(e,t){if(e&&e.error&&e.error(t))throw t}function U(e,t){throw e&&e.fatal&&e.fatal(t),t}function B(e,t){for(var n,r=0,i=e.length-1;r<=i;){var o=e[n=Math.floor((r+i)/2)];if(o<t)r=n+1;else{if(!(o>t))return{found:!0,index:n};i=n-1}}return{found:!1,index:r}}e.fromXML=function(e,i,p){var g=t.parser(!0,{xmlns:!0}),m=[],v=[],_=[],y=0,E=null;g.onclosetag=function(e){if(m[0]instanceof A)null!==E.head&&null!==E.head.styling&&q(E.head.styling,m[0].styleRefs,m[0].styleAttrs,i),delete m[0].styleRefs;else if(m[0]instanceof u)for(var t in m[0].styles)P(m[0],m[0].styles[t],i);else if(m[0]instanceof S||m[0]instanceof w){if(m[0].contents.length>1){var r,o=[m[0].contents[0]];for(r=1;r<m[0].contents.length;r++)m[0].contents[r]instanceof R&&o[o.length-1]instanceof R?o[o.length-1].text+=m[0].contents[r].text:o.push(m[0].contents[r]);m[0].contents=o}m[0]instanceof w&&1===m[0].contents.length&&m[0].contents[0]instanceof R&&(m[0].text=m[0].contents[0].text,delete m[0].contents)}else m[0]instanceof a&&(m[0].node.uri===n.ns_tt&&"metadata"===m[0].node.local?y--:y>0&&p&&"onCloseTag"in p&&p.onCloseTag());_.shift(),v.shift(),m.shift()},g.ontext=function(e){if(void 0===m[0]);else if(m[0]instanceof w||m[0]instanceof S){if(m[0]instanceof w){var t=m[0].styleAttrs[r.byName.ruby.qname];if("container"===t||"textContainer"===t||"baseContainer"===t)return}var n=new R;n.initFromText(E,m[0],e,v[0],_[0],i),m[0].contents.push(n)}else m[0]instanceof a&&y>0&&p&&"onText"in p&&p.onText(e)},g.onopentag=function(e){var t=e.attributes["xml:space"];t?_.unshift(t.value):0===_.length?_.unshift("default"):_.unshift(_[0]);var o=e.attributes["xml:lang"];if(o?v.unshift(o.value):0===v.length?v.unshift(""):v.unshift(v[0]),e.uri===n.ns_tt)if("tt"===e.local)null!==E&&U(i,"Two <tt> elements at ("+this.line+","+this.column+")"),(E=new s).initFromNode(e,v[0],i),m.unshift(E);else if("head"===e.local)m[0]instanceof s||U(i,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),m.unshift(E.head);else if("styling"===e.local)m[0]instanceof l||U(i,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),m.unshift(E.head.styling);else if("style"===e.local){var g;m[0]instanceof u?((g=new c).initFromNode(e,i),g.id?E.head.styling.styles[g.id]=g:k(i,"<style> element missing @id attribute"),m.unshift(g)):m[0]instanceof A?((g=new c).initFromNode(e,i),F(g.styleAttrs,m[0].styleAttrs),m.unshift(g)):U(i,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===e.local){var R;if(m[0]instanceof u){for(var D in(R=new d).initFromNode(e,i),R.styleAttrs)E.head.styling.initials[D]=R.styleAttrs[D];m.unshift(R)}else U(i,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===e.local)m[0]instanceof l||U(i,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),m.unshift(E.head.layout);else if("region"===e.local){m[0]instanceof f||U(i,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var M=new A;M.initFromNode(E,e,v[0],i),!M.id||M.id in E.head.layout.regions?k(i,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):E.head.layout.regions[M.id]=M,m.unshift(M)}else if("body"===e.local){m[0]instanceof s||U(i,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==E.body&&U(i,"Second <body> element at "+this.line+","+this.column+")");var x=new b;x.initFromNode(E,e,v[0],i),E.body=x,m.unshift(x)}else if("div"===e.local){m[0]instanceof T||m[0]instanceof b||U(i,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var N=new T;N.initFromNode(E,m[0],e,v[0],i);var O=N.styleAttrs[r.byName.backgroundImage.qname];O&&(N.contents.push(new h(O)),delete N.styleAttrs[r.byName.backgroundImage.qname]),m[0].contents.push(N),m.unshift(N)}else if("image"===e.local){m[0]instanceof T||U(i,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var P=new h;P.initFromNode(E,m[0],e,v[0],i),m[0].contents.push(P),m.unshift(P)}else if("p"===e.local){m[0]instanceof T||U(i,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var q=new S;q.initFromNode(E,m[0],e,v[0],i),m[0].contents.push(q),m.unshift(q)}else if("span"===e.local){m[0]instanceof w||m[0]instanceof S||U(i,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var L=new w;L.initFromNode(E,m[0],e,v[0],_[0],i),m[0].contents.push(L),m.unshift(L)}else if("br"===e.local){m[0]instanceof w||m[0]instanceof S||U(i,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var B=new C;B.initFromNode(E,m[0],e,v[0],i),m[0].contents.push(B),m.unshift(B)}else if("set"===e.local){m[0]instanceof w||m[0]instanceof S||m[0]instanceof T||m[0]instanceof b||m[0]instanceof A||m[0]instanceof C||U(i,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var H=new I;H.initFromNode(E,m[0],e,i),m[0].sets.push(H),m.unshift(H)}else m.unshift(new a(e));else m.unshift(new a(e));if(m[0]instanceof a)if(e.uri===n.ns_tt&&"metadata"===e.local)y++;else if(y>0&&p&&"onOpenTag"in p){var G=[];for(var j in e.attributes)G[e.attributes[j].uri+" "+e.attributes[j].local]={uri:e.attributes[j].uri,local:e.attributes[j].local,value:e.attributes[j].value};p.onOpenTag(e.uri,e.local,G)}},g.write(e).close(),delete E.head.styling.styles;var D=!1;for(var M in E.head.layout.regions){D=!0;break}if(!D){var x=A.prototype.createDefaultRegion(E.lang);E.head.layout.regions[x.id]=x}for(var N in E.head.layout.regions)o(E,E.head.layout.regions[N],null,null);return E.body&&o(E,E.body,null,null),E.body&&function e(t){if(!("contents"in t))return;for(var n=("styleAttrs"in t?t.styleAttrs[r.byName.ruby.qname]:null),i="span"===t.kind&&("container"===n||"textContainer"===n||"baseContainer"===n),o=t.contents.length-1;o>=0;o--)!i||"styleAttrs"in t.contents[o]&&r.byName.ruby.qname in t.contents[o].styleAttrs?e(t.contents[o]):delete t.contents[o]}(E.body),E},s.prototype.initFromNode=function(e,t,r){var o=function(e,t){var r=N(e,n.ns_ttp,"cellResolution"),i=15,o=32;if(null!==r){var a=/(\d+) (\d+)/.exec(r);null!==a?(o=parseInt(a[1]),i=parseInt(a[2])):L(t,"Malformed cellResolution value (using initial value instead)")}return{w:o,h:i}}(e,r);this.cellLength={h:new i.ComputedLength(0,1/o.h),w:new i.ComputedLength(1/o.w,0)};var a=function(e,t){var r,i=N(e,n.ns_ttp,"frameRate"),o=30;if(null!==i){null!==(r=/(\d+)/.exec(i))?o=parseInt(r[1]):L(t,"Malformed frame rate attribute (using initial value instead)")}var a=N(e,n.ns_ttp,"frameRateMultiplier"),s=1;if(null!==a){null!==(r=/(\d+) (\d+)/.exec(a))?s=parseInt(r[1])/parseInt(r[2]):L(t,"Malformed frame rate multiplier attribute (using initial value instead)")}var l=s*o,u=1,c=N(e,n.ns_ttp,"tickRate");if(null===c)null!==i&&(u=l);else{null!==(r=/(\d+)/.exec(c))?u=parseInt(r[1]):L(t,"Malformed tick rate attribute (using initial value instead)")}return{effectiveFrameRate:l,tickRate:u}}(e,r);this.effectiveFrameRate=a.effectiveFrameRate,this.tickRate=a.tickRate,this.aspectRatio=function(e,t){var r=N(e,n.ns_ittp,"aspectRatio");null===r&&(r=N(e,n.ns_ttp,"displayAspectRatio"));var i=null;if(null!==r){var o=/(\d+)\s+(\d+)/.exec(r);if(null!==o){var a=parseInt(o[1]),s=parseInt(o[2]);0!==a&&0!==s?i=a/s:k(t,"Illegal aspectRatio values (ignoring)")}else k(t,"Malformed aspectRatio attribute (ignoring)")}return i}(e,r);var s=N(e,n.ns_ttp,"timeBase");null!==s&&"media"!==s&&U(r,"Unsupported time base");var l=function(e,t){var r=N(e,n.ns_tts,"extent");if(null===r)return null;var o=r.split(" ");if(2!==o.length)return L(t,"Malformed extent (ignoring)"),null;var a=i.parseLength(o[0]),s=i.parseLength(o[1]);if(!s||!a)return L(t,"Malformed extent values (ignoring)"),null;return{h:s,w:a}}(e,r);null===l?this.pxLength={h:null,w:null}:("px"===l.h.unit&&"px"===l.w.unit||U(r,"Extent on TT must be in px or absent"),this.pxLength={h:new i.ComputedLength(0,1/l.h.value),w:new i.ComputedLength(1/l.w.value,0)}),this.dimensions={h:new i.ComputedLength(0,1),w:new i.ComputedLength(1,0)},this.lang=t},s.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=B(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var n=B(this.events,e.end);n.found||this.events.splice(n.index,0,e.end)}}},s.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},s.prototype.getMediaTimeEvents=function(){return this.events},c.prototype.initFromNode=function(e,t){this.id=D(e),this.styleAttrs=x(e,t),this.styleRefs=M(e)},d.prototype.initFromNode=function(e,t){for(var r in this.styleAttrs={},e.attributes)if(e.attributes[r].uri===n.ns_itts||e.attributes[r].uri===n.ns_ebutts||e.attributes[r].uri===n.ns_tts){var i=e.attributes[r].uri+" "+e.attributes[r].local;this.styleAttrs[i]=e.attributes[r].value}},h.prototype.initFromNode=function(e,t,n,r,i){this.src="src"in n.attributes?n.attributes.src.value:null,this.src||k(i,"Invalid image@src attribute"),this.type="type"in n.attributes?n.attributes.type.value:null,this.type||k(i,"Invalid image@type attribute"),v.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},g.prototype.initFromNode=function(e,t,n,r){this.id=D(n)},m.prototype.initFromNode=function(e,t,n,r){this.regionID=function(e){return e&&"region"in e.attributes?e.attributes.region.value:""}(n)},v.prototype.initFromNode=function(e,t,n,r){this.styleAttrs=x(n,r),null!==e.head&&null!==e.head.styling&&q(e.head.styling,M(n),this.styleAttrs,r)},_.prototype.initFromNode=function(e,t,n,r){this.sets=[]},y.prototype.initFromNode=function(e,t,n,r){this.contents=[]},E.prototype.initFromNode=function(e,t,n,r){var i=function(e,t,n,r){var i=null;n&&"begin"in n.attributes&&null===(i=O(e.tickRate,e.effectiveFrameRate,n.attributes.begin.value))&&L(r,"Malformed begin value "+n.attributes.begin.value+" (using 0)");var o=null;n&&"dur"in n.attributes&&null===(o=O(e.tickRate,e.effectiveFrameRate,n.attributes.dur.value))&&L(r,"Malformed dur value "+n.attributes.dur.value+" (ignoring)");var a=null;n&&"end"in n.attributes&&null===(a=O(e.tickRate,e.effectiveFrameRate,n.attributes.end.value))&&L(r,"Malformed end value (ignoring)");return{explicit_begin:i,explicit_end:a,explicit_dur:o}}(e,0,n,r);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=function(e,t){var n=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return n&&"par"!==n?"seq"===n?"seq":(k(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(n,r)},b.prototype.initFromNode=function(e,t,n,r){v.prototype.initFromNode.call(this,e,null,t,r),E.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),m.prototype.initFromNode.call(this,e,null,t,r),y.prototype.initFromNode.call(this,e,null,t,r),this.lang=n},T.prototype.initFromNode=function(e,t,n,r,i){v.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),y.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},S.prototype.initFromNode=function(e,t,n,r,i){v.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),_.prototype.initFromNode.call(this,e,t,n,i),m.prototype.initFromNode.call(this,e,t,n,i),y.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},w.prototype.initFromNode=function(e,t,n,r,i,o){v.prototype.initFromNode.call(this,e,t,n,o),E.prototype.initFromNode.call(this,e,t,n,o),_.prototype.initFromNode.call(this,e,t,n,o),m.prototype.initFromNode.call(this,e,t,n,o),y.prototype.initFromNode.call(this,e,t,n,o),this.space=i,this.lang=r},R.prototype.initFromText=function(e,t,n,r,i,o){E.prototype.initFromNode.call(this,e,t,null,o),this.text=n,this.space=i,this.lang=r},C.prototype.initFromNode=function(e,t,n,r,i){m.prototype.initFromNode.call(this,e,t,n,i),E.prototype.initFromNode.call(this,e,t,n,i),this.lang=r},A.prototype.createDefaultRegion=function(e){var t=new A;return g.call(t,""),v.call(t,{}),_.call(t,[]),E.call(t,0,Number.POSITIVE_INFINITY,null),this.lang=e,t},A.prototype.initFromNode=function(e,t,n,r){g.prototype.initFromNode.call(this,e,null,t,r),E.prototype.initFromNode.call(this,e,null,t,r),_.prototype.initFromNode.call(this,e,null,t,r),this.styleAttrs=x(t,r),this.styleRefs=M(t),this.lang=n},I.prototype.initFromNode=function(e,t,n,r){E.prototype.initFromNode.call(this,e,t,n,r);var i=x(n,r);for(var o in this.qname=null,this.value=null,i){if(this.qname){k(r,"More than one style specified on set");break}this.qname=o,this.value=i[o]}}}(t,"undefined"==typeof sax?n(193):sax,"undefined"==typeof imscNames?n(40):imscNames,"undefined"==typeof imscStyles?n(61):imscStyles,"undefined"==typeof imscUtils?n(41):imscUtils)},function(e,t,n){(function(e){!function(t){t.parser=function(e,t){return new o(e,t)},t.SAXParser=o,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,n){if(!(this instanceof o))return new o(e,n);!function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=R.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(p)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),A(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){N(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return x(this,"Cannot write after close. Assign an onready handler.");if(null===e)return N(this);"object"==typeof e&&(e=e.toString());var n=0,r="";for(;r=H(e,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case R.BEGIN:if(this.state=R.BEGIN_WHITESPACE,"\ufeff"===r)continue;B(this,r);continue;case R.BEGIN_WHITESPACE:B(this,r);continue;case R.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=H(e,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(!b(l,r)||this.sawRoot&&!this.closedRoot||O(this,"Text data outside of root node."),"&"===r?this.state=R.TEXT_ENTITY:this.textNode+=r):(this.state=R.OPEN_WAKA,this.startTagPosition=this.position);continue;case R.SCRIPT:"<"===r?this.state=R.SCRIPT_ENDING:this.script+=r;continue;case R.SCRIPT_ENDING:"/"===r?this.state=R.CLOSE_TAG:(this.script+="<"+r,this.state=R.SCRIPT);continue;case R.OPEN_WAKA:if("!"===r)this.state=R.SGML_DECL,this.sgmlDecl="";else if(E(l,r));else if(E(g,r))this.state=R.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=R.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=R.PROC_INST,this.procInstName=this.procInstBody="";else{if(O(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;r=new Array(a).join(" ")+r}this.textNode+="<"+r,this.state=R.TEXT}continue;case R.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(I(this,"onopencdata"),this.state=R.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=R.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=R.DOCTYPE,(this.doctype||this.sawRoot)&&O(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(I(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=R.TEXT):E(d,r)?(this.state=R.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case R.SGML_DECL_QUOTED:r===this.q&&(this.state=R.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case R.DOCTYPE:">"===r?(this.state=R.TEXT,I(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=R.DOCTYPE_DTD:E(d,r)&&(this.state=R.DOCTYPE_QUOTED,this.q=r));continue;case R.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=R.DOCTYPE:E(d,r)&&(this.state=R.DOCTYPE_DTD_QUOTED,this.q=r);continue;case R.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=R.DOCTYPE_DTD,this.q="");continue;case R.COMMENT:"-"===r?this.state=R.COMMENT_ENDING:this.comment+=r;continue;case R.COMMENT_ENDING:"-"===r?(this.state=R.COMMENT_ENDED,this.comment=M(this.opt,this.comment),this.comment&&I(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=R.COMMENT);continue;case R.COMMENT_ENDED:">"!==r?(O(this,"Malformed comment"),this.comment+="--"+r,this.state=R.COMMENT):this.state=R.TEXT;continue;case R.CDATA:"]"===r?this.state=R.CDATA_ENDING:this.cdata+=r;continue;case R.CDATA_ENDING:"]"===r?this.state=R.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=R.CDATA);continue;case R.CDATA_ENDING_2:">"===r?(this.cdata&&I(this,"oncdata",this.cdata),I(this,"onclosecdata"),this.cdata="",this.state=R.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=R.CDATA);continue;case R.PROC_INST:"?"===r?this.state=R.PROC_INST_ENDING:E(l,r)?this.state=R.PROC_INST_BODY:this.procInstName+=r;continue;case R.PROC_INST_BODY:if(!this.procInstBody&&E(l,r))continue;"?"===r?this.state=R.PROC_INST_ENDING:this.procInstBody+=r;continue;case R.PROC_INST_ENDING:">"===r?(I(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=R.TEXT):(this.procInstBody+="?"+r,this.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:E(m,r)?this.tagName+=r:(P(this),">"===r?L(this):"/"===r?this.state=R.OPEN_TAG_SLASH:(b(l,r)&&O(this,"Invalid character in tag name"),this.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:">"===r?(L(this,!0),k(this)):(O(this,"Forward-slash in opening tag not followed by >"),this.state=R.ATTRIB);continue;case R.ATTRIB:if(E(l,r))continue;">"===r?L(this):"/"===r?this.state=R.OPEN_TAG_SLASH:E(g,r)?(this.attribName=r,this.attribValue="",this.state=R.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case R.ATTRIB_NAME:"="===r?this.state=R.ATTRIB_VALUE:">"===r?(O(this,"Attribute without value"),this.attribValue=this.attribName,F(this),L(this)):E(l,r)?this.state=R.ATTRIB_NAME_SAW_WHITE:E(m,r)?this.attribName+=r:O(this,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=R.ATTRIB_VALUE;else{if(E(l,r))continue;O(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",I(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?L(this):E(g,r)?(this.attribName=r,this.state=R.ATTRIB_NAME):(O(this,"Invalid attribute name"),this.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(E(l,r))continue;E(d,r)?(this.q=r,this.state=R.ATTRIB_VALUE_QUOTED):(O(this,"Unquoted attribute value"),this.state=R.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case R.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=R.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}F(this),this.q="",this.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:E(l,r)?this.state=R.ATTRIB:">"===r?L(this):"/"===r?this.state=R.OPEN_TAG_SLASH:E(g,r)?(O(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=R.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(b(f,r)){"&"===r?this.state=R.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}F(this),">"===r?L(this):this.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(this.tagName)">"===r?k(this):E(m,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=R.SCRIPT):(b(l,r)&&O(this,"Invalid tagname in closing tag"),this.state=R.CLOSE_TAG_SAW_WHITE);else{if(E(l,r))continue;b(g,r)?this.script?(this.script+="</"+r,this.state=R.SCRIPT):O(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case R.CLOSE_TAG_SAW_WHITE:if(E(l,r))continue;">"===r?k(this):O(this,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var s,u;switch(this.state){case R.TEXT_ENTITY:s=R.TEXT,u="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:s=R.ATTRIB_VALUE_QUOTED,u="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:s=R.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(this[u]+=U(this),this.entity="",this.state=s):E(this.entity.length?_:v,r)?this.entity+=r:(O(this,"Invalid character in entity name"),this[u]+="&"+this.entity+r,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>n)switch(i[o]){case"textNode":D(e);break;case"cdata":I(e,"oncdata",e.cdata),e.cdata="";break;case"script":I(e,"onscript",e.script),e.script="";break;default:x(e,"Max buffer length exceeded: "+i[o])}r=Math.max(r,s)}var l=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=l+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;D(e=this),""!==e.cdata&&(I(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(I(e,"onscript",e.script),e.script="")}};try{r=n(196).Stream}catch(e){r=function(){}}var a=t.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);r.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var r=n(66).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),r.prototype.on.call(n,e,t)};var l="\r\n\t ",u="0124356789",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d="'\"",f=l+">",h="http://www.w3.org/XML/1998/namespace",p={xml:h,xmlns:"http://www.w3.org/2000/xmlns/"};l=y(l),u=y(u),c=y(c);var g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function y(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})}function E(e,t){return function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function b(e,t){return!E(e,t)}d=y(d),f=y(f);var T,S,w,R=0;for(var C in t.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r})),t.STATE)t.STATE[t.STATE[C]]=C;function A(e,t,n){e[t]&&e[t](n)}function I(e,t,n){e.textNode&&D(e),A(e,t,n)}function D(e){e.textNode=M(e.opt,e.textNode),e.textNode&&A(e,"ontext",e.textNode),e.textNode=""}function M(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function x(e,t){return D(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,A(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==R.BEGIN&&e.state!==R.BEGIN_WHITESPACE&&e.state!==R.TEXT&&x(e,"Unexpected end"),D(e),e.c="",e.closed=!0,A(e,"onend"),o.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&x(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,I(e,"onopentagstart",n)}function q(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=q(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==h)O(e,"xml: prefix must be bound to "+h+"\nActual: "+e.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)O(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,I(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function L(e,t){if(e.opt.xmlns){var n=e.tag,r=q(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){I(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],l=s[0],u=s[1],c=q(l,!0),d=c.prefix,f=c.local,h=""===d?"":n.ns[d]||"",p={name:l,value:u,prefix:d,local:f,uri:h};d&&"xmlns"!==d&&!h&&(O(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[l]=p,I(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),I(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=R.TEXT:e.state=R.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function k(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=R.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=R.SCRIPT);I(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;O(e,"Unexpected close tag")}if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=R.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,I(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==l.ns&&Object.keys(o.ns).forEach((function(t){var n=o.ns[t];I(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=R.TEXT}function U(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function B(e,t){"<"===t?(e.state=R.OPEN_WAKA,e.startTagPosition=e.position):b(l,t)&&(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=R.TEXT)}function H(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}R=t.STATE,String.fromCodePoint||(T=String.fromCharCode,S=Math.floor,w=function(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||S(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(i+1===o||r.length>n)&&(a+=T.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(t)}).call(this,n(62).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},function(e,t,n){e.exports=i;var r=n(63).EventEmitter;function i(){r.call(this)}n(30)(i,r),i.Readable=n(64),i.Writable=n(204),i.Duplex=n(205),i.Transform=n(206),i.PassThrough=n(207),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){"use strict";var r=n(43).Buffer,i=n(199);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(201),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(14))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},f.clearImmediate=h}function h(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(14),n(25))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(14))},function(e,t,n){"use strict";e.exports=o;var r=n(102),i=Object.create(n(35));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(30),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(65)},function(e,t,n){e.exports=n(21)},function(e,t,n){e.exports=n(64).Transform},function(e,t,n){e.exports=n(64).PassThrough},function(e,t,n){!function(e,t,n){function r(e,t,l,c){var d;if("region"===l.kind)(d=document.createElement("div")).style.position="absolute";else if("body"===l.kind)d=document.createElement("div");else if("div"===l.kind)d=document.createElement("div");else if("image"===l.kind){if(d=document.createElement("img"),null!==e.imgResolver&&null!==l.src){var p=e.imgResolver(l.src,d);p&&(d.src=p),d.height=e.regionH,d.width=e.regionW}}else if("p"===l.kind)d=document.createElement("p");else if("span"===l.kind)if("container"===l.styleAttrs[n.byName.ruby.qname])d=document.createElement("ruby"),e.ruby=!0;else if("base"===l.styleAttrs[n.byName.ruby.qname])d=document.createElement("rb");else if("text"===l.styleAttrs[n.byName.ruby.qname])d=document.createElement("rt");else if("baseContainer"===l.styleAttrs[n.byName.ruby.qname])d=document.createElement("rbc");else if("textContainer"===l.styleAttrs[n.byName.ruby.qname])d=document.createElement("rtc");else{if("delimiter"===l.styleAttrs[n.byName.ruby.qname])return;d=document.createElement("span")}else"br"===l.kind&&(d=document.createElement("br"));if(d){if(l.lang&&("region"!==l.kind&&l.lang===c.lang||(d.lang=l.lang)),t.appendChild(d),d.style.margin="0","region"===l.kind){var m=l.styleAttrs[n.byName.writingMode.qname];"lrtb"===m||"lr"===m?(e.ipd="lr",e.bpd="tb"):"rltb"===m||"rl"===m?(e.ipd="rl",e.bpd="tb"):"tblr"===m?(e.ipd="tb",e.bpd="lr"):"tbrl"!==m&&"tb"!==m||(e.ipd="tb",e.bpd="rl")}else if("p"===l.kind&&"tb"===e.bpd){var v=l.styleAttrs[n.byName.direction.qname];e.ipd="ltr"===v?"lr":"rl"}for(var _ in u){var y=u[_],E=l.styleAttrs[y.qname];void 0!==E&&null!==y.map&&y.map(e,d,l,E)}var b=d,T=l.styleAttrs[n.byName.linePadding.qname];if(T&&!T.isZero()){var S=T.toUsedLength(e.w,e.h);if(S>0){var w=Math.ceil(S)+"px";"tb"===e.bpd?(b.style.paddingLeft=w,b.style.paddingRight=w):(b.style.paddingTop=w,b.style.paddingBottom=w),e.lp=T}}var R=l.styleAttrs[n.byName.multiRowAlign.qname];if(R&&"auto"!==R){var C=document.createElement("span");C.style.display="inline-block",C.style.textAlign=R,d.appendChild(C),b=C,e.mra=R}var A=l.styleAttrs[n.byName.rubyReserve.qname];if(A&&"none"!==A[0]&&(e.rubyReserve=A),l.styleAttrs[n.byName.fillLineGap.qname]&&(e.flg=!0),"span"===l.kind&&l.text){var I=l.styleAttrs[n.byName.textEmphasis.qname];if(I&&"none"!==I.style&&(e.textEmphasis=!0),n.byName.textCombine.qname in l.styleAttrs&&"all"===l.styleAttrs[n.byName.textCombine.qname])d.textContent=l.text,I&&s(e,d,l,I);else for(var D="",M=0;M<l.text.length;M++){D+=l.text.charAt(M);var x=l.text.charCodeAt(M);if(x<55296||x>56319||M===l.text.length){var N=document.createElement("span");N.textContent=D,I&&s(e,N,l,I),d.appendChild(N),D=""}}}for(var O in l.contents)r(e,b,l.contents[O],l);var P=[];if((e.lp||e.mra||e.flg||e.ruby||e.textEmphasis||e.rubyReserve)&&"p"===l.kind&&(a(e,b,P,null),e.rubyReserve&&(!function(e,t){for(var n=0;n<e.length;n++){var r,i,o=document.createElement("ruby"),a=document.createElement("rb");a.textContent="​",o.appendChild(a);var s,l=t.rubyReserve[1].toUsedLength(t.w,t.h)+"px";if("both"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&1==e.length)(r=document.createElement("rtc")).style[h]=f?"after":"under",r.textContent="​",r.style.fontSize=l,(i=document.createElement("rtc")).style[h]=f?"before":"over",i.textContent="​",i.style.fontSize=l,o.appendChild(r),o.appendChild(i);else(r=document.createElement("rtc")).textContent="​",r.style.fontSize=l,s="after"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&n>0?f?"after":"tb"===t.bpd||"rl"===t.bpd?"under":"over":f?"before":"tb"===t.bpd||"rl"===t.bpd?"over":"under",r.style[h]=s,o.appendChild(r);for(var u=null,c=0;c<e[n].rbc.length;c++)if("ruby"===e[n].rbc[c].localName){u=e[n].rbc[c];for(var d=0;d<u.style.length;d++)o.style.setProperty(u.style.item(d),u.style.getPropertyValue(u.style.item(d)));break}(u=u||e[n].elements[0].node).parentElement.insertBefore(o,u)}}(P,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(!function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].rbc.length;r++){var i;if(!e[n].rbc[r].style[h])i=f?0===n?"before":"after":"tb"===t.bpd||"rl"===t.bpd?0===n?"over":"under":0===n?"under":"over",e[n].rbc[r].style[h]=i}}(P,e),e.ruby=null),e.textEmphasis&&(!function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].te.length;r++){var i;if(!e[n].te[r].style[g]||"none"===e[n].te[r].style[g])i="tb"===t.bpd?0===n?"left over":"left under":"rl"===t.bpd?0===n?"right under":"left under":0===n?"left under":"right under",e[n].te[r].style[g]=i}}(P,e),e.textEmphasis=null),e.mra&&(!function(e){for(var t=0;t<e.length-1;t++){var n=e[t].elements.length;if(0!==n&&!1===e[t].br){var r=document.createElement("br"),i=e[t].elements[n-1].node;i.parentElement.insertBefore(r,i.nextSibling)}}}(P),e.mra=null),e.lp&&(!function(e,t,n){for(var r in e){var i=e[r].elements.length,o=e[r].elements[e[r].start_elem],a=e[r].elements[e[r].end_elem],s=Math.ceil(t)+"px",l="-"+Math.ceil(t)+"px";0!==i&&("lr"===n.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=l):"rl"===n.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=l):"tb"===n.ipd&&(o.node.style.borderTopColor=o.bgcolor||"#00000000",o.node.style.borderTopStyle="solid",o.node.style.borderTopWidth=s,o.node.style.marginTop=l),"lr"===n.ipd?(a.node.style.borderRightColor=a.bgcolor||"#00000000",a.node.style.borderRightStyle="solid",a.node.style.borderRightWidth=s,a.node.style.marginRight=l):"rl"===n.ipd?(a.node.style.borderLeftColor=a.bgcolor||"#00000000",a.node.style.borderLeftStyle="solid",a.node.style.borderLeftWidth=s,a.node.style.marginLeft=l):"tb"===n.ipd&&(a.node.style.borderBottomColor=a.bgcolor||"#00000000",a.node.style.borderBottomStyle="solid",a.node.style.borderBottomWidth=s,a.node.style.marginBottom=l))}}(P,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),e.flg)){var q=o(b.getBoundingClientRect(),e);!function(e,t,n,r){for(var i=Math.sign(n-t),o=0;o<=e.length;o++){var a,s,l;if(a=0===o?t:o===e.length?n:(e[o].before+e[o-1].after)/2,o>0)for(var u=0;u<e[o-1].elements.length;u++)null!==e[o-1].elements[u].bgcolor&&(l=e[o-1].elements[u],i*(l.after-a)<0&&(s=Math.ceil(Math.abs(a-l.after))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===r.bpd?l.node.style.paddingRight=s:"rl"===r.bpd?l.node.style.paddingLeft=s:"tb"===r.bpd&&(l.node.style.paddingBottom=s)));if(o<e.length)for(var c=0;c<e[o].elements.length;c++)null!==(l=e[o].elements[c]).bgcolor&&i*(l.before-a)>0&&(s=Math.ceil(Math.abs(l.before-a))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===r.bpd?l.node.style.paddingLeft=s:"rl"===r.bpd?l.node.style.paddingRight=s:"tb"===r.bpd&&(l.node.style.paddingTop=s))}}(P,q.before,q.after,e),e.flg=null}if("region"===l.kind&&(a(e,b,P),"tb"===e.bpd&&e.enableRollUp&&l.contents.length>0&&"after"===l.styleAttrs[n.byName.displayAlign.qname])){var F=new i(""===l.id?"_":l.id,P);if(e.currentISDState[F.id]=F,e.previousISDState&&F.id in e.previousISDState&&e.previousISDState[F.id].plist.length>0&&F.plist.length>1&&F.plist[F.plist.length-2].text===e.previousISDState[F.id].plist[e.previousISDState[F.id].plist.length-1].text){var L=d.firstElementChild,k=F.plist[F.plist.length-1].after-F.plist[F.plist.length-1].before;L.style.bottom="-"+k+"px",L.style.transition="transform 0.4s",L.style.position="relative",L.style.transform="translateY(-"+k+"px)"}}}else!function(e,t){if(e&&e.error&&e.error(t))throw t}(e.errorHandler,"Error processing ISD element kind: "+l.kind)}function i(e,t){this.id=e,this.plist=t}function o(e,t){var n={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(n.before=e.top,n.after=e.bottom,"lr"===t.ipd?(n.start=e.left,n.end=e.right):(n.start=e.right,n.end=e.left)):"lr"===t.bpd?(n.before=e.left,n.after=e.right,n.start=e.top,n.end=e.bottom):"rl"===t.bpd&&(n.before=e.right,n.after=e.left,n.start=e.top,n.end=e.bottom),n}function a(e,t,n,r){if("rt"!==t.localName&&"rtc"!==t.localName){var i,s,l,u,c=t.style.backgroundColor||r;if(0===t.childElementCount)if("span"===t.localName||"rb"===t.localName){var d=t.getBoundingClientRect();if(0===d.height||0===d.width)return;var f=o(d,e);if(0!==n.length&&(i=f.before,s=f.after,l=n[n.length-1].before,u=n[n.length-1].after,s<u&&i>l||u<=s&&l>=i)){var h=Math.sign(f.after-f.before),g=Math.sign(f.end-f.start);h*(f.before-n[n.length-1].before)<0&&(n[n.length-1].before=f.before),h*(f.after-n[n.length-1].after)>0&&(n[n.length-1].after=f.after),g*(f.start-n[n.length-1].start)<0&&(n[n.length-1].start=f.start,n[n.length-1].start_elem=n[n.length-1].elements.length),g*(f.end-n[n.length-1].end)>0&&(n[n.length-1].end=f.end,n[n.length-1].end_elem=n[n.length-1].elements.length)}else n.push({before:f.before,after:f.after,start:f.start,end:f.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});n[n.length-1].text+=t.textContent,n[n.length-1].elements.push({node:t,bgcolor:c,before:f.before,after:f.after})}else"br"===t.localName&&0!==n.length&&(n[n.length-1].br=!0);else for(var m=t.firstChild;m;)m.nodeType===Node.ELEMENT_NODE&&(a(e,m,n,c),"ruby"===m.localName||"rtc"===m.localName?n.length>0&&n[n.length-1].rbc.push(m):"span"===m.localName&&m.style[p]&&"none"!==m.style[p]&&n.length>0&&n[n.length-1].te.push(m)),m=m.nextSibling}}function s(e,t,n,r){var i;"none"!==r.style&&("auto"===r.style?t.style[p]="filled":t.style[p]=r.style+" "+r.symbol,("before"===r.position||"after"===r.position)&&(i="tb"===e.bpd?"before"===r.position?"left over":"left under":"rl"===e.bpd?"before"===r.position?"right under":"left under":"before"===r.position?"left under":"right under",t.style[g]=i))}function l(e,t){this.qname=e,this.map=t}e.render=function(e,t,n,i,o,a,s,l,u){var c=i||t.clientHeight,d=o||t.clientWidth;if(null!==e.aspectRatio){var f=c*e.aspectRatio;f>d?c=Math.round(d/e.aspectRatio):d=f}var h=document.createElement("div");h.style.position="relative",h.style.width=d+"px",h.style.height=c+"px",h.style.margin="auto",h.style.top=0,h.style.bottom=0,h.style.left=0,h.style.right=0,h.style.zIndex=0;var p={h:c,w:d,regionH:null,regionW:null,imgResolver:n,displayForcedOnlyMode:a||!1,isd:e,errorHandler:s,previousISDState:l,enableRollUp:u||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};for(var g in t.appendChild(h),e.contents)r(p,h,e.contents[g],e);return p.currentISDState};var u=[new l("http://www.w3.org/ns/ttml#styling backgroundColor",(function(e,t,n,r){0!==r[3]&&(t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")")})),new l("http://www.w3.org/ns/ttml#styling color",(function(e,t,n,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"})),new l("http://www.w3.org/ns/ttml#styling direction",(function(e,t,n,r){t.style.direction=r})),new l("http://www.w3.org/ns/ttml#styling display",(function(e,t,n,r){})),new l("http://www.w3.org/ns/ttml#styling displayAlign",(function(e,t,n,r){t.style.display="flex",t.style.flexDirection="column","before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")})),new l("http://www.w3.org/ns/ttml#styling extent",(function(e,t,n,r){e.regionH=r.h.toUsedLength(e.w,e.h),e.regionW=r.w.toUsedLength(e.w,e.h);var i=0,o=0,a=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];a&&(i=a[0].toUsedLength(e.w,e.h)+a[2].toUsedLength(e.w,e.h),o=a[1].toUsedLength(e.w,e.h)+a[3].toUsedLength(e.w,e.h)),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-o+"px"})),new l("http://www.w3.org/ns/ttml#styling fontFamily",(function(e,t,n,r){var i=[];for(var o in r)"monospaceSerif"===r[o]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===r[o]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===r[o]?i.push("monospace"):"sansSerif"===r[o]?i.push("sans-serif"):"serif"===r[o]?i.push("serif"):"monospaceSansSerif"===r[o]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===r[o]?i.push("serif"):i.push(r[o]);t.style.fontFamily=i.join(",")})),new l("http://www.w3.org/ns/ttml#styling shear",(function(e,t,n,r){if(0!==r){var i=-.9*r;"tb"===e.bpd?t.style.transform="skewX("+i+"deg)":t.style.transform="skewY("+i+"deg)"}})),new l("http://www.w3.org/ns/ttml#styling fontSize",(function(e,t,n,r){t.style.fontSize=r.toUsedLength(e.w,e.h)+"px"})),new l("http://www.w3.org/ns/ttml#styling fontStyle",(function(e,t,n,r){t.style.fontStyle=r})),new l("http://www.w3.org/ns/ttml#styling fontWeight",(function(e,t,n,r){t.style.fontWeight=r})),new l("http://www.w3.org/ns/ttml#styling lineHeight",(function(e,t,n,r){t.style.lineHeight="normal"===r?"normal":r.toUsedLength(e.w,e.h)+"px"})),new l("http://www.w3.org/ns/ttml#styling opacity",(function(e,t,n,r){t.style.opacity=r})),new l("http://www.w3.org/ns/ttml#styling origin",(function(e,t,n,r){t.style.top=r.h.toUsedLength(e.w,e.h)+"px",t.style.left=r.w.toUsedLength(e.w,e.h)+"px"})),new l("http://www.w3.org/ns/ttml#styling overflow",(function(e,t,n,r){t.style.overflow=r})),new l("http://www.w3.org/ns/ttml#styling padding",(function(e,t,n,r){var i=[];i[0]=r[0].toUsedLength(e.w,e.h)+"px",i[1]=r[3].toUsedLength(e.w,e.h)+"px",i[2]=r[2].toUsedLength(e.w,e.h)+"px",i[3]=r[1].toUsedLength(e.w,e.h)+"px",t.style.padding=i.join(" ")})),new l("http://www.w3.org/ns/ttml#styling position",(function(e,t,n,r){t.style.top=r.h.toUsedLength(e.w,e.h)+"px",t.style.left=r.w.toUsedLength(e.w,e.h)+"px"})),new l("http://www.w3.org/ns/ttml#styling rubyAlign",(function(e,t,n,r){t.style.rubyAlign="spaceAround"===r?"space-around":"center"})),new l("http://www.w3.org/ns/ttml#styling rubyPosition",(function(e,t,n,r){var i;"before"!==r&&"after"!==r||(i=f?r:"tb"===e.bpd||"rl"===e.bpd?"before"===r?"over":"under":"before"===r?"under":"over",t.parentElement.style[h]=i)})),new l("http://www.w3.org/ns/ttml#styling showBackground",null),new l("http://www.w3.org/ns/ttml#styling textAlign",(function(e,t,n,r){var i;i="start"===r?"rl"===e.ipd?"right":"left":"end"===r?"rl"===e.ipd?"left":"right":r,t.style.textAlign=i})),new l("http://www.w3.org/ns/ttml#styling textDecoration",(function(e,t,n,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")})),new l("http://www.w3.org/ns/ttml#styling textOutline",(function(e,t,n,r){})),new l("http://www.w3.org/ns/ttml#styling textShadow",(function(e,t,r,i){var o=r.styleAttrs[n.byName.textOutline.qname];if("none"===i&&"none"===o)t.style.textShadow="";else{var a=[];if("none"!==o){var s="rgba("+o.color[0].toString()+","+o.color[1].toString()+","+o.color[2].toString()+","+(o.color[3]/255).toString()+")";a.push("1px 1px 1px "+s),a.push("-1px 1px 1px "+s),a.push("1px -1px 1px "+s),a.push("-1px -1px 1px "+s)}if("none"!==i)for(var l in i)a.push(i[l].x_off.toUsedLength(e.w,e.h)+"px "+i[l].y_off.toUsedLength(e.w,e.h)+"px "+i[l].b_radius.toUsedLength(e.w,e.h)+"px rgba("+i[l].color[0].toString()+","+i[l].color[1].toString()+","+i[l].color[2].toString()+","+(i[l].color[3]/255).toString()+")");t.style.textShadow=a.join(",")}})),new l("http://www.w3.org/ns/ttml#styling textCombine",(function(e,t,n,r){t.style.textCombineUpright=r})),new l("http://www.w3.org/ns/ttml#styling textEmphasis",(function(e,t,n,r){})),new l("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(e,t,n,r){var i;i="bidiOverride"===r?"bidi-override":r,t.style.unicodeBidi=i})),new l("http://www.w3.org/ns/ttml#styling visibility",(function(e,t,n,r){t.style.visibility=r})),new l("http://www.w3.org/ns/ttml#styling wrapOption",(function(e,t,n,r){"wrap"===r?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"})),new l("http://www.w3.org/ns/ttml#styling writingMode",(function(e,t,n,r){"lrtb"===r||"lr"===r||"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")})),new l("http://www.w3.org/ns/ttml#styling zIndex",(function(e,t,n,r){t.style.zIndex=r})),new l("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(e,t,n,r){e.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")}))],c={};for(var d in u)c[u[d].qname]=u[d];var f="webkitRubyPosition"in window.getComputedStyle(document.documentElement),h=f?"webkitRubyPosition":"rubyPosition",p="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",g="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(t,"undefined"==typeof imscNames?n(40):imscNames,"undefined"==typeof imscStyles?n(61):imscStyles,"undefined"==typeof imscUtils?n(41):imscUtils)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e=0;function t(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function n(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function r(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function i(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?r(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?r(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function o(e){return e.replace(/^\s+/g,"")}function a(e){return e.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(r,s,l,u){var c=null,d=!1,f=-1,h={start:s,end:l,spans:[]},p="style_cea608_white_black",g={},m={},v=[],_=void 0,y=void 0;for(_=0;_<15;++_){var E=u.rows[_],b="",T=null;if(!1===E.isEmpty()){var S=t(E.chars);null===c&&(c={x:S,y1:_,y2:_+1,p:[]}),S!==f&&d&&(c.p.push(h),h={start:s,end:l,spans:[]},c.y2=_,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(v.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c={x:S,y1:_,y2:_+1,p:[]});for(var w=0;w<E.chars.length;++w){var R=E.chars[w],C=R.penState;if(null===T||!C.equals(T)){b.trim().length>0&&(h.spans.push({name:p,line:b,row:_}),b="");var A="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(A+="_underline"),C.italics&&(A+="_italics"),m.hasOwnProperty(A)||(m[A]=JSON.parse(JSON.stringify(C))),T=C,p=A}b+=R.uchar}b.trim().length>0&&h.spans.push({name:p,line:b,row:_}),d=!0,f=S}else d=!1,f=-1,c&&(c.p.push(h),h={start:s,end:l,spans:[]},c.y2=_,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(v.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c=null)}c&&(c.p.push(h),c.y2=_+1,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===g.hasOwnProperty(c.name)?(v.push(c),g[c.name]=c):g[c.name].p.contat(c.p),c=null);var I=[];for(_=0;_<v.length;++_){var D=v[_],M="sub_cea608_"+e++,x=document.createElement("div");x.id=M;var N=n(D);x.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+N;var O=document.createElement("div");O.className="paragraph bodyStyle",O.style.cssText=i(r);var P=document.createElement("div");P.className="cueUniWrapper",P.style.cssText="unicode-bidi: normal; direction: ltr;";for(var q=0;q<D.p.length;++q){var F=D.p[q],L=0;for(y=0;y<F.spans.length;++y){var k=F.spans[y];if(k.line.length>0){if(0!==y&&L!=k.row){var U=document.createElement("br");U.className="lineBreak",P.appendChild(U)}var B=!1;L===k.row&&(B=!0),L=k.row;var H=m[k.name],G=document.createElement("span");G.className="spanPadding "+k.name+" customSpanColor",G.style.cssText=i(r,H),0!==y&&B?y===F.spans.length-1?G.textContent=a(k.line):G.textContent=k.line:F.spans.length>1&&y<F.spans.length-1&&k.row===F.spans[y+1].row?G.textContent=o(k.line):G.textContent=k.line.trim(),P.appendChild(G)}}}O.appendChild(P),x.appendChild(O);var j={bodyStyle:["%",90]};for(var z in m)m.hasOwnProperty(z)&&(j[z]=["%",90]);I.push({type:"html",start:s,end:l,cueHTMLElement:x,cueID:M,cellResolution:[32,15],isFromCEA608:!0,fontSize:j,lineHeight:{},linePadding:{}})}return I}}}a.__dashjs_factory_name="EmbeddedTextHtmlRender",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4));function a(){var e=this.context,t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,s=void 0;function l(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function u(e){var t=e.split(i),n=t[1].split(s);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:c(n)}}function c(e){var t={};return e.forEach((function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}})),t}function d(e,t){for(var n,r=t,o="",a="";""!==e[r]&&r<e.length;)r++;if((n=r-t)>1)for(var s=0;s<n;s++){if((a=e[t+s]).match(i)){o="";break}o+=a,s!==n-1&&(o+="\n")}else(a=e[t]).match(i)||(o=a);return o}return t={parse:function(e){var t,o=[],s=void 0;if(!e)return o;t=(e=e.split(r)).length,s=-1;for(var c=0;c<t;c++){var f=e[c];if(f.length>0&&"WEBVTT"!==f&&f.match(i)){var h=u(f),p=h.cuePoints,g=h.styles,m=d(e,c+1),v=l(p[0].replace(a,"")),_=l(p[1].replace(a,""));!isNaN(v)&&!isNaN(_)&&v>=s&&_>v?""!==m?(s=v,o.push({start:v,end:_,data:m,styles:g})):n.error("Skipping cue due to empty/malformed cue text"):n.error("Skipping cue due to incorrect cue timing")}}return o}},n=(0,o.default)(e).getInstance().getLogger(t),r=/(?:\r\n|\r|\n)/gm,i=/-->/,a=/(^[\s]+|[\s]+$)/g,s=/\s\b/g,t}a.__dashjs_factory_name="VTTParser",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4)),a=r(n(3)),s=r(n(5)),l=n(97);function u(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,i=0;return n={parse:function(e,n,o,a,u){var c="",d=[],f=void 0,h=void 0,p=void 0,g={},m={},v="",_="",y={onOpenTag:function(e,t,n){if("image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!n[" imagetype"]||"PNG"!==n[" imagetype"].value)return void r.warn("smpte-tt imagetype != PNG. Discarded");v=n["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(m[v]=_.trim()),_="",v=""},onText:function(e){v&&(_+=e)}};if(!e)throw c="no ttml data to parse",new Error(c);g.data=e,t.trigger(s.default.TTML_TO_PARSE,g);var E=(0,l.fromXML)(g.data,(function(e){c=e}),y);t.trigger(s.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:E});var b,T=E.getMediaTimeEvents();for(p=0;p<T.length;p++){var S=(0,l.generateISD)(E,T[p],(function(e){c=e}));S.contents.some((function(e){return e.contents.length}))&&(f=T[p]+n<o?o:T[p]+n)<(h=T[p+1]+n>a?a:T[p+1]+n)&&d.push({start:f,end:h,type:"html",cueID:(b=void 0,b="cue_TTML_"+i,i++,b),isd:S,images:u,embeddedImages:m})}if(""!==c)throw r.error(c),new Error(c);return d}},r=(0,o.default)(e).getInstance().getLogger(n),n}u.__dashjs_factory_name="TTMLParser",t.default=i.default.getSingletonFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),o=r(n(1));function a(e){var t=this.context,n=void 0,r=void 0,o=void 0,a=[],s=e;function l(e,t){a=a.filter((function(n){return!((isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e))}))}return n={getAllBufferRanges:function(){for(var e=[],t=0;t<a.length;t++){var n=a[t];0===e.length||n.start>e[e.length-1].end?e.push({start:n.start,end:n.end}):e[e.length-1].end=n.end}var r={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(r,"length",{get:function(){return e.length}}),r},append:function(e){"InitializationSegment"!==e.segmentType?(a.push(e),a.sort((function(e,t){return e.start-t.start})),o=null):o=e,r.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e})},remove:l,abort:function(){},discharge:function(e,t){var n=function(e,t){return a.filter((function(n){return(isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e)}))}(e,t);return o&&(n.push(o),o=null),l(e,t),n},reset:function(){a=[],o=null,s=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1}},r=(0,i.default)(t).getInstance().getLogger(n),n}a.__dashjs_factory_name="PreBufferSink";var s=o.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(19)),o=r(n(44)),a=r(n(1)),s=r(n(4)),l=r(n(17)),u=r(n(2));function c(e){e=e||{};var t=this.context,n=e.metricsModel,r=void 0,a=void 0;return r={getMaxIndex:function(e){var r=(0,l.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return r;!function(){if(!n||!n.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error(u.default.MISSING_CONFIG_ERROR)}();var s=e.getMediaInfo(),c=e.getMediaType(),d=n.getReadOnlyMetricsFor(c),f=e.getScheduleController(),h=e.getAbrController(),p=e.getStreamInfo(),g=p&&p.manifestInfo?p.manifestInfo.isDynamic:null,m=h.getThroughputHistory(),v=m.getSafeAverageThroughput(c,g),_=m.getAverageLatency(c),y=d.BufferState.length>0?d.BufferState[d.BufferState.length-1]:null,E=e.useBufferOccupancyABR();return!d||isNaN(v)||!y||E||h.getAbandonmentStateFor(c)!==o.default.ABANDON_LOAD&&(y.state===i.default.BUFFER_LOADED||g)&&(r.quality=h.getQualityForBitrate(s,v,_),f.setTimeToLoadDelay(0),a.debug("requesting switch to index: ",r.quality,"type: ",c,"Average throughput",Math.round(v),"kbps"),r.reason={throughput:v,latency:_}),r},reset:function(){}},a=(0,s.default)(t).getInstance().getLogger(r),r}c.__dashjs_factory_name="ThroughputRule",t.default=a.default.getClassFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(19)),o=r(n(3)),a=r(n(5)),s=r(n(1)),l=r(n(4)),u=r(n(17)),c=r(n(2));function d(e){e=e||{};var t=this.context,n=(0,o.default)(t).getInstance(),r=e.metricsModel,s=e.dashMetrics,d=void 0,f=void 0,h=void 0;function p(){h={}}function g(){p()}return d={getMaxIndex:function(e){var n=(0,u.default)(t).create();if(!e||!e.hasOwnProperty("getMediaType"))return n;!function(){if(!(r&&r.hasOwnProperty("getReadOnlyMetricsFor")&&s&&s.hasOwnProperty("getCurrentBufferLevel")))throw new Error(c.default.MISSING_CONFIG_ERROR)}();var o=e.getMediaType(),a=r.getReadOnlyMetricsFor(o),l=a.BufferState.length>0?a.BufferState[a.BufferState.length-1]:null,d=e.getRepresentationInfo().fragmentDuration;if(!l||!function(e,t){h[e]=h[e]||{};var n=!1;h[e].firstBufferLoadedEvent?n=!0:t&&t.state===i.default.BUFFER_LOADED&&(h[e].firstBufferLoadedEvent=!0,n=!0);return n}(o,l)||!d)return n;if(l.state===i.default.BUFFER_EMPTY)f.debug("Switch to index 0; buffer is empty."),n.quality=0,n.reason="InsufficientBufferRule: Buffer is empty";else{var p=e.getMediaInfo(),g=e.getAbrController(),m=g.getThroughputHistory(),v=s.getCurrentBufferLevel(a),_=m.getAverageThroughput(o),y=m.getAverageLatency(o),E=_*(v/d)*.5;n.quality=g.getQualityForBitrate(p,E,y),n.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return n},reset:function(){p(),n.off(a.default.PLAYBACK_SEEKING,g,d)}},f=(0,l.default)(t).getInstance().getLogger(d),p(),n.on(a.default.PLAYBACK_SEEKING,g,d),d}d.__dashjs_factory_name="InsufficientBufferRule",t.default=s.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(17)),o=r(n(1)),a=r(n(4));function s(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.metricsModel,o=e.dashMetrics,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0;function h(){c={},d={},f=[]}return l={shouldAbandon:function(e){var a=(0,i.default)(t).create(i.default.NO_CHANGE,{name:s.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return a;var l,h,p=e.getMediaInfo(),g=e.getMediaType(),m=e.getCurrentRequest();if(!isNaN(m.index)){l=g,h=m.index,c[l]=c[l]||{},c[l][h]=c[l][h]||{};var v=n.getStableBufferTime();if(o.getCurrentBufferLevel(r.getReadOnlyMetricsFor(g))>v)return a;var _=c[g][m.index];if(null===_||null===m.firstByteDate||d.hasOwnProperty(_.id))return a;if(void 0===_.firstByteTime&&(f[g]=[],_.firstByteTime=m.firstByteDate.getTime(),_.segmentDuration=m.duration,_.bytesTotal=m.bytesTotal,_.id=m.index),_.bytesLoaded=m.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&function(e,t){f[e]=f[e]||[],f[e].push(t)}(g,Math.round(8*_.bytesLoaded/_.elapsedTime)),f[g].length>=5&&_.elapsedTime>500&&_.bytesLoaded<_.bytesTotal){var y=f[g].reduce((function(e,t){return e+t}),0);if(_.measuredBandwidthInKbps=Math.round(y/f[g].length),_.estimatedTimeOfDownload=+(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<1.8*_.segmentDuration||0===e.getRepresentationInfo().quality)return a;if(!d.hasOwnProperty(_.id)){var E=e.getAbrController(),b=_.bytesTotal-_.bytesLoaded,T=E.getBitrateList(p),S=E.getQualityForBitrate(p,_.measuredBandwidthInKbps*n.getBandwidthSafetyFactor());b>_.bytesTotal*T[S].bitrate/T[E.getQualityFor(g,p.streamInfo)].bitrate&&(a.quality=S,a.reason.throughput=_.measuredBandwidthInKbps,a.reason.fragmentID=_.id,d[_.id]=_,u.debug("( ",g,"frag id",_.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",_.measuredBandwidthInKbps),delete c[g][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete c[g][_.id]}return a},reset:h},u=(0,a.default)(t).getInstance().getLogger(l),h(),l}s.__dashjs_factory_name="AbandonRequestsRule",t.default=o.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(17)),a=r(n(4));function s(){var e=this.context,t=void 0,n=void 0;return t={getMaxIndex:function(t){var r=t.getDroppedFramesHistory();if(r){for(var i=r.getFrameHistory(),a=0,s=0,l=o.default.NO_CHANGE,u=1;u<i.length;u++)if(i[u]&&(a=i[u].droppedVideoFrames,(s=i[u].totalVideoFrames)>375&&a/s>.15)){l=u-1,n.debug("index: "+l+" Dropped Frames: "+a+" Total Frames: "+s);break}return(0,o.default)(e).create(l,{droppedFrames:a})}return(0,o.default)(e).create()}},n=(0,a.default)(e).getInstance().getLogger(t),t}s.__dashjs_factory_name="DroppedFramesRule",t.default=i.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4)),a=r(n(17));function s(){var e=this.context,t=void 0,n=void 0;return t={getMaxIndex:function(t){for(var r=t?t.getSwitchHistory():null,i=r?r.getSwitchRequests():[],o=0,s=0,l=0,u=(0,a.default)(e).create(),c=0;c<i.length;c++)if(void 0!==i[c]&&(o+=i[c].drops,s+=i[c].noDrops,l+=i[c].dropSize,o+s>=6&&o/s>.075)){u.quality=c>0&&i[c].drops>0?c-1:c,u.reason={index:u.quality,drops:o,noDrops:s,dropSize:l},n.debug("Switch history rule index: "+u.quality+" samples: "+(o+s)+" drops: "+o);break}return u}},n=(0,o.default)(e).getInstance().getLogger(t),t}s.__dashjs_factory_name="SwitchHistoryRule",t.default=i.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(28)),o=r(n(17)),a=r(n(1)),s=n(9),l=r(n(3)),u=r(n(5)),c=r(n(4));function d(e){e=e||{};var t=this.context,n=e.dashMetrics,r=e.metricsModel,a=e.mediaPlayerModel,d=(0,l.default)(t).getInstance(),f=void 0,h=void 0,p=void 0;function g(e,t,n){var r=n.reduce((function(e,t,r){return t>n[e]?r:e}),0);if(0===r)return null;var i=Math.max(e,10+2*t.length),o=(n[r]-1)/(i/10-1);return{gp:o,Vp:10/o}}function m(e){var t={},n=e.getMediaInfo().bitrateList.map((function(e){return e.bandwidth})),r=function(e){return e.map((function(e){return Math.log(e)}))}(n);r=r.map((function(e){return e-r[0]+1}));var i=a.getStableBufferTime(),o=g(i,n,r);return o?(t.state=1,t.bitrates=n,t.utilities=r,t.stableBufferTime=i,t.Vp=o.Vp,t.gp=o.gp,t.lastQuality=0,v(t)):t.state=0,t}function v(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function _(e,t){var i=a.getStableBufferTime();if(e.stableBufferTime!==i){var o=g(i,e.bitrates,e.utilities);if(o.Vp!==e.Vp||o.gp!==e.gp){var s=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(t)),l=s+e.placeholderBuffer;l-=10,l*=o.Vp/e.Vp,l+=10,e.stableBufferTime=i,e.Vp=o.Vp,e.gp=o.gp,e.placeholderBuffer=Math.max(0,l-s)}}}function y(e,t){return e.Vp*(e.utilities[t]+e.gp)}function E(e,t){for(var n=e.bitrates[t],r=e.utilities[t],i=0,o=t-1;o>=0;--o)if(e.utilities[o]<e.utilities[t]){var a=e.bitrates[o],s=e.utilities[o],l=e.Vp*(e.gp+(n*s-a*r)/(n-a));i=Math.max(i,l)}return i}function b(){for(var e in p)p.hasOwnProperty(e)&&2===p[e].state&&(p[e].placeholderBuffer=0)}function T(){for(var e in p)if(p.hasOwnProperty(e)){var t=p[e];0!==t.state&&(t.state=1,v(t))}}function S(){}function w(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=p[e.chunk.mediaInfo.type];if(t&&0!==t.state){var n=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,C(t,e.chunk.mediaInfo.type)}}}function R(e){if(e&&e.metric===i.default.HTTP_REQUEST&&e.value&&e.value.type===s.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=p[e.mediaType];t&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),C(t,e.mediaType))}}function C(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=.99,!isNaN(e.lastSegmentFinishTimeMs)){var i=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(t))+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),o=y(e,e.lastQuality),a=Math.max(0,o-i);e.placeholderBuffer=Math.min(a,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function A(e){if(e){var t=p[e.mediaType];t&&0!==t.state&&(t.abrQuality=e.newQuality)}}function I(e){if(e){var t=p[e.mediaType];if(t&&0!==t.state){var i=n.getCurrentBufferLevel(r.getReadOnlyMetricsFor(e.mediaType)),o=void 0;o=t.abrQuality>0?E(t,t.abrQuality):10;var a=Math.max(0,o-i);t.placeholderBuffer=Math.min(t.placeholderBuffer,a)}}}function D(){p={}}return f={getMaxIndex:function(e){var i=e.getMediaInfo(),a=e.getMediaType(),s=r.getReadOnlyMetricsFor(a),l=e.getScheduleController(),u=e.getStreamInfo(),c=e.getAbrController(),d=c.getThroughputHistory(),f=u?u.id:null,g=u&&u.manifestInfo&&u.manifestInfo.isDynamic,b=e.useBufferOccupancyABR(),T=(0,o.default)(t).create();if(T.reason=T.reason||{},!b)return T;l.setTimeToLoadDelay(0);var S=function(e){var t=e.getMediaType(),n=p[t];return n?0!==n.state&&_(n,t):(n=m(e),p[t]=n),n}(e);if(0===S.state)return T;var w=n.getCurrentBufferLevel(s),R=d.getAverageThroughput(a,g),C=d.getSafeAverageThroughput(a,g),A=d.getAverageLatency(a),I=void 0;if(T.reason.state=S.state,T.reason.throughput=R,T.reason.latency=A,isNaN(R))return T;switch(S.state){case 1:I=c.getQualityForBitrate(i,C,A),T.quality=I,T.reason.throughput=C,S.placeholderBuffer=Math.max(0,E(S,I)-w),S.lastQuality=I,!isNaN(S.lastSegmentDurationS)&&w>=S.lastSegmentDurationS&&(S.state=2);break;case 2:!function(e,t){var n=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){r=.001*(n-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,r)}}else{var r=.001*(n-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,r)}e.lastCallTimeMs=n,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,_(e,t)}(S,a),I=function(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,r=o)}return r}(S,w+S.placeholderBuffer);var D=c.getQualityForBitrate(i,C,A);I>S.lastQuality&&I>D&&(I=Math.max(D,S.lastQuality));var M=Math.max(0,w+S.placeholderBuffer-y(S,I));M<=S.placeholderBuffer?(S.placeholderBuffer-=M,M=0):(M-=S.placeholderBuffer,S.placeholderBuffer=0,I<c.getTopQualityIndexFor(a,f)?l.setTimeToLoadDelay(1e3*M):M=0),T.quality=I,T.reason.throughput=R,T.reason.latency=A,T.reason.bufferLevel=w,T.reason.placeholderBuffer=S.placeholderBuffer,T.reason.delay=M,S.lastQuality=I;break;default:h.debug("BOLA ABR rule invoked in bad state."),T.quality=c.getQualityForBitrate(i,C,A),T.reason.state=S.state,T.reason.throughput=C,T.reason.latency=A,S.state=1,v(S)}return T},reset:function(){D(),d.off(u.default.BUFFER_EMPTY,b,f),d.off(u.default.PLAYBACK_SEEKING,T,f),d.off(u.default.PERIOD_SWITCH_STARTED,S,f),d.off(u.default.MEDIA_FRAGMENT_LOADED,w,f),d.off(u.default.METRIC_ADDED,R,f),d.off(u.default.QUALITY_CHANGE_REQUESTED,A,f),d.off(u.default.FRAGMENT_LOADING_ABANDONED,I,f)}},h=(0,c.default)(t).getInstance().getLogger(f),D(),d.on(u.default.BUFFER_EMPTY,b,f),d.on(u.default.PLAYBACK_SEEKING,T,f),d.on(u.default.PERIOD_SWITCH_STARTED,S,f),d.on(u.default.MEDIA_FRAGMENT_LOADED,w,f),d.on(u.default.METRIC_ADDED,R,f),d.on(u.default.QUALITY_CHANGE_REQUESTED,A,f),d.on(u.default.FRAGMENT_LOADING_ABANDONED,I,f),f}d.__dashjs_factory_name="BolaRule",t.default=a.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).abrController,n=e.switchHistory,r=e.droppedFramesHistory,i=e.currentRequest,o=e.useBufferOccupancyABR,a=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;function l(){return s?s.mediaInfo:null}return{getMediaType:function(){var e=l();return e?e.type:null},getMediaInfo:l,getDroppedFramesHistory:function(){return r},getCurrentRequest:function(){return i},getSwitchHistory:function(){return n},getStreamInfo:function(){var e=l();return e?e.streamInfo:null},getScheduleController:function(){return a},getAbrController:function(){return t},getRepresentationInfo:function(){return s},useBufferOccupancyABR:function(){return o}}}a.__dashjs_factory_name="RulesContext",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(17));function a(){var e=[],t=[];return{push:function(n){n.newValue===o.default.NO_CHANGE&&(n.newValue=n.oldValue),e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r=n.newValue-n.oldValue,i=r<0?1:0,a=i?-r:0,s=i?0:1;if(e[n.oldValue].drops+=i,e[n.oldValue].dropSize+=a,e[n.oldValue].noDrops+=s,t.push({idx:n.oldValue,noDrop:s,drop:i,dropSize:a}),t.length>8){var l=t.shift();e[l.idx].drops-=l.drop,e[l.idx].dropSize-=l.dropSize,e[l.idx].noDrops-=l.noDrop}},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}a.__dashjs_factory_name="SwitchRequestHistory";var s=i.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e=[],t=0,n=0;return{push:function(r,i){var o=i&&i.droppedVideoFrames?i.droppedVideoFrames:0,a=i&&i.totalVideoFrames?i.totalVideoFrames:0,s=o-t;t=o;var l=a-n;n=a,isNaN(r)||(e[r]?(e[r].droppedVideoFrames+=s,e[r].totalVideoFrames+=l):e[r]={droppedVideoFrames:s,totalVideoFrames:l})},getFrameHistory:function(){return e},reset:function(r){e=[],t=r.droppedVideoFrames,n=r.totalVideoFrames}}}a.__dashjs_factory_name="DroppedFramesHistory";var s=o.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(1));function a(e){var t=(e=e||{}).mediaPlayerModel,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0;function l(e,t,n,r){var i=Math.pow(.5,n/r.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var o=Math.pow(.5,n/r.slow);e.slowEstimate=(1-o)*t+o*e.slowEstimate,e.totalWeight+=n}function u(e,l,u){return t.getMovingAverageMethod()!==i.default.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var n=e?s.throughputHalfLife:s.latencyHalfLife,r=e?o[t]:a[t];if(!r||r.totalWeight<=0)return NaN;var i=r.fastEstimate/(1-Math.pow(.5,r.totalWeight/n.fast)),l=r.slowEstimate/(1-Math.pow(.5,r.totalWeight/n.slow));return e?Math.min(i,l):Math.max(i,l)}(e,l):function(e,t,i){var o=function(e,t,i){var o=void 0,a=void 0;if(e?(o=n[t],a=i?3:4):(o=r[t],a=4),o){if(a>=o.length)a=o.length;else if(e)for(var s=1;s<a;++s){var l=o[s]/o[s-1];if((l>=1.3||l<=1/1.3)&&(a+=1)===o.length)break}}else a=0;return a}(e,t,i),a=(e?n:r)[t];if(0===o||!a||0===a.length)return NaN;return(a=a.slice(-o)).reduce((function(e,t){return e+t}))/a.length}(e,l,u)}function c(e,t){return u(!0,e,t)}function d(e){n[e]=n[e]||[],r[e]=r[e]||[],o[e]=o[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},a[e]=a[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function f(){n={},r={},o={},a={}}var h={push:function(e,u,c){if(u.trace&&u.trace.length){var f=u.tresponse.getTime()-u.trequest.getTime()||1,h=u._tfinish.getTime()-u.tresponse.getTime()||1,p=u.trace.reduce((function(e,t){return e+t.b[0]}),0),g=void 0;g=t.getLowLatencyEnabled()?u.trace.reduce((function(e,t){return e+t.d}),0):c?h:f+h;var m=Math.round(8*p/g);if(d(e),function(e,n,r){return e===i.default.VIDEO?r<t.getCacheLoadThresholdForType(i.default.VIDEO):e===i.default.AUDIO?r<t.getCacheLoadThresholdForType(i.default.AUDIO):void 0}(e,0,h)){if(n[e].length>0&&!n[e].hasCachedEntries)return;n[e].hasCachedEntries=!0}else n[e]&&n[e].hasCachedEntries&&function(e){delete n[e],delete r[e],delete o[e],delete a[e],d(e)}(e);n[e].push(m),n[e].length>20&&n[e].shift(),r[e].push(f),r[e].length>20&&r[e].shift(),l(o[e],m,.001*h,s.throughputHalfLife),l(a[e],f,1,s.latencyHalfLife)}},getAverageThroughput:c,getSafeAverageThroughput:function(e,n){var r=c(e,n);return isNaN(r)||(r*=t.getBandwidthSafetyFactor()),r},getAverageLatency:function(e){return u(!1,e)},reset:f};return s={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},f(),h}a.__dashjs_factory_name="ThroughputHistory",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(28)),a=r(n(224)),s=r(n(249)),l=r(n(3)),u=r(n(5)),c=r(n(1)),d=n(107),f=r(n(4)),h=r(n(68)),p=r(n(18)),g=r(n(110)),m=r(n(250)),v=r(n(111)),_=r(n(257)),y=r(n(6)),E=r(n(7));function b(){var e=this.context,t=(0,l.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0,z=void 0,Y=void 0,V=void 0,K=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,Z=void 0,J=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0;function de(){if(Ne(i.default.VIDEO)){var e=W.getPlaybackQuality();e&&C.addDroppedFrames(i.default.VIDEO,e)}}function fe(){if(!(!Q.getJumpGaps()||0===Te()||X.isSeeking()||$||z||Y||V)&&++oe>=40){var e=X.getTime();ue===e?function(e){for(var n=Te(),i=Q.getSmallGapLimit(),o=void 0,a=0;a<n.length;a++){var s=n[a].getBuffer().getAllBufferRanges(),l=void 0;if(s&&!(s.length<=1)){for(var c=0;c<s.length;c++)if(e<s.start(c)){l=s.start(c);break}if(l>0){var d=l-e;d>0&&d<=i&&(void 0===o||l>o)&&(o=l)}}}var f=X.getTimeToStreamEnd();void 0===o&&!isNaN(f)&&f<i&&(o=e+f);o>0&&(!isNaN(f)&&o>=e+f?(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),t.trigger(u.default.PLAYBACK_ENDED,{isLast:Le().isLast})):(r.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",o),X.seek(o,!0,!0)))}(e):ue=e,oe=0}}function he(e){var t=be(e.seekTime);re&&(me(),ne=!1),ie&&(r.debug("[PreloadTimer] stop period preload timer."),clearTimeout(ie),ie=void 0),t===B&&le&&le.deactivate(!0),t&&(t!==B||le&&!B.isActive())?(Pe(d.PlayListTrace.END_OF_PERIOD_STOP_REASON),Re(B,t,e.seekTime)):Pe(d.PlayListTrace.USER_REQUEST_STOP_REASON),qe(d.PlayList.SEEK_START_REASON)}function pe(){r.debug("[onPlaybackStarted]"),Z?(Z=!1,qe(d.PlayList.INITIAL_PLAYOUT_START_REASON)):$&&($=!1,qe(d.PlayList.RESUME_FROM_PAUSE_START_REASON),ve())}function ge(e){r.debug("[onPlaybackPaused]"),e.ended||($=!0,Pe(d.PlayListTrace.USER_REQUEST_STOP_REASON),ve())}function me(){r.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(re),re=void 0}function ve(){if(ne)if(re)me();else{var e=X.getTimeToStreamEnd(),n=e>0?1e3*e:0,i=n<2e3?n/4:n-2e3;r.debug("[toggleEndPeriodTimer] Going to fire preload in",i,"milliseconds"),ie=setTimeout(Ee,i),r.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",n,"milliseconds"),re=setTimeout((function(){t.trigger(u.default.PLAYBACK_ENDED,{isLast:Le().isLast})}),n)}}function _e(e){if(e.sender&&(e.sender.getType()===i.default.AUDIO||e.sender.getType()===i.default.VIDEO)){var t=Le().isLast;K&&!t&&void 0===re&&(r.info("[onTrackBufferingCompleted] end of period detected. Track",e.sender.getType(),"has finished"),ne=!0,!1===$&&ve())}}function ye(){var e=Le().isLast;K&&e&&(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),I.signalEndOfStream(K))}function Ee(){var e,t=Le().isLast;K&&!t&&(e=we(),(se=B.isProtectionCompatible(e)&&(ce||B.isMediaCodecCompatible(e)))&&(r.info("[onStreamCanLoadNext] Preloading next stream"),B.stopEventController(),B.deactivate(!0),e.preload(K,ae),le=e,e.getProcessors().forEach((function(t){R.setIndexHandlerTime(t,e.getStartTime())}))))}function be(e){var t=0,n=null,r=U.length;r>0&&(t+=U[0].getStartTime());for(var i=0;i<r;i++)if(n=U[i],e<(t=parseFloat((t+n.getDuration()).toFixed(5))))return n;return null}function Te(){return B?B.getProcessors():[]}function Se(){var e=we();e?(te=void 0,ee=void 0,Re(B,e,NaN)):r.debug("StreamController no next stream found"),Pe(e?d.PlayListTrace.END_OF_PERIOD_STOP_REASON:d.PlayListTrace.END_OF_CONTENT_STOP_REASON),re=void 0,ne=!1}function we(){if(B){var e=(t=Le().start,n=Le().duration,{v:U.filter((function(e){return e.getStreamInfo().start===parseFloat((t+n).toFixed(5))}))[0]});if("object"==typeof e)return e.v}var t,n}function Re(e,n,r){z||!n||e===n&&n.isActive()||(z=!0,t.trigger(u.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:n.getStreamInfo()}),se=!1,e&&(e.stopEventController(),se=B.isProtectionCompatible(n)&&(ce||B.isMediaCodecCompatible(n))&&!r||n.getPreloaded(),e.deactivate(se)),B=n,le=!1,X.initialize(Le(),se),W.getElement()?Ce(r,e,!1,se):function(e){Ae(e,se)}(r))}function Ce(e,n,i,o){var a=void 0;function s(){K&&(r.debug("MediaSource is open!"),window.URL.revokeObjectURL(a),K.removeEventListener("sourceopen",s),K.removeEventListener("webkitsourceopen",s),Ie(),n||t.trigger(u.default.SOURCE_INITIALIZED),i?B.setMediaSource(K):Ae(e,o))}K?o?(Ae(e,o),n||t.trigger(u.default.SOURCE_INITIALIZED)):(I.detachMediaSource(W),K.addEventListener("sourceopen",s,!1),K.addEventListener("webkitsourceopen",s,!1),a=I.attachMediaSource(K,W),r.debug("MediaSource attached to element.  Waiting on open...")):((K=I.createMediaSource()).addEventListener("sourceopen",s,!1),K.addEventListener("webkitsourceopen",s,!1),a=I.attachMediaSource(K,W),r.debug("MediaSource attached to element.  Waiting on open..."))}function Ae(e,n){if(ae=B.activate(K,n?ae:void 0),te=Oe(i.default.AUDIO),ee=Oe(i.default.VIDEO),ae){var o=Object.keys(ae);o.length>0&&ae[o[0]].changeType&&(r.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),ce=!0)}var a;Z||(isNaN(e)?(a=X.getStreamStartTime(!0),n||Te().forEach((function(e){R.setIndexHandlerTime(e,a)}))):X.seek(e)),B.startEventController(),!j&&Z||X.play(),z=!1,t.trigger(u.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Le()})}function Ie(e){var t=e||Le().manifestInfo.duration,n=I.setDuration(K,t);r.debug("Duration successfully set to: "+n)}function De(e){for(var t=0,n=U.length;t<n;t++)if(U[t].getId()===e.id)return U[t];return null}function Me(){var r=S.getValue();H&&(t.trigger(u.default.PROTECTION_CREATED,{controller:H,manifest:r}),H.setMediaElement(W.getElement()),G&&H.setProtectionData(G)),function(){try{var r=R.getStreamsInfo();if(0===r.length)throw new Error("There are no streams");var o=A.getCurrentManifestUpdate(C.getMetricsFor(i.default.STREAM));C.updateManifestUpdateInfo(o,{currentTime:X.getTime(),buffered:W.getBufferRange(),presentationStartTime:r[0].start,clientTimeOffset:k.getClientTimeOffset()});for(var s=0,l=r.length;s<l;s++){var d=r[s],f=De(d);f?f.updateData(d):(f=(0,a.default)(e).create({manifestModel:S,dashManifestModel:w,mediaPlayerModel:Q,metricsModel:C,dashMetrics:A,manifestUpdater:b,adapter:R,timelineConverter:k,capabilities:c,errHandler:L,baseURLController:M,domStorage:x,abrController:N,playbackController:X,mediaController:O,textController:P,videoModel:W,streamController:n}),U.push(f),f.initialize(d,H)),C.addManifestUpdateStreamInfo(o,d.id,d.index,d.start,d.duration)}if(!B){var h=X.getStartTimeFromUriParameters(),p=null;if(h)p=be(isNaN(h.fragS)?h.fragT:h.fragS);Re(null,null!==p?p:U[0],NaN)}t.trigger(u.default.STREAMS_COMPOSED)}catch(e){L.manifestError(e.message,"nostreamscomposed",S.getValue()),L.error(new y.default(E.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",S.getValue())),V=!0,He()}}()}function xe(e){e.error?(V=!0,He()):function(){var t=e.manifest;R.updatePeriods(t);var n=R.getStreamsInfo(void 0,1)[0],o=R.getMediaInfoForType(n,i.default.VIDEO)||R.getMediaInfoForType(n,i.default.AUDIO),a=void 0;o&&(a=w.getUseCalculatedLiveEdgeTimeForAdaptation(R.getDataForMedia(o)))&&(r.debug("SegmentTimeline detected using calculated Live Edge Time"),Q.setUseManifestDateHeaderTimeSource(!1));var s=w.getUTCTimingSources(e.manifest),l=!w.getIsDynamic(t)||a?s:s.concat(Q.getUTCTimingSources()),u=F.isHTTPS(e.manifest.url);l.forEach((function(e){e.value.replace(/.*?:\/\//g,"")===Q.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),r.debug("Matching default timing source protocol to manifest protocol: ",e.value))})),M.initialize(t),D.setConfig({metricsModel:C,dashMetrics:A,baseURLController:M}),D.initialize(l,Q.getUseManifestDateHeaderTimeSource())}()}function Ne(e){var t=void 0;if(!e)return t;switch(e){case i.default.VIDEO:t=ee;break;case i.default.AUDIO:t=te}return t}function Oe(e){var t=!1;return Te().forEach((function(n){n.getMediaInfo().type===e&&(t=!0)})),t}function Pe(e,t){t=t||new Date,J&&(Te().forEach((function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)})),C.addPlayList(J),J=null)}function qe(e){(J=new d.PlayList).start=new Date,J.mstart=1e3*X.getTime(),J.starttype=e,Te().forEach((function(e){var t=e.getScheduleController();t&&t.setPlayList(J)}))}function Fe(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}Y=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+t),e.error&&r.fatal(e.error),L.mediaSourceError(t),L.error(new y.default(e.error.code,t)),He()}}function Le(){return B?B.getStreamInfo():null}function ke(){if(!(T&&T.hasOwnProperty("load")&&k&&k.hasOwnProperty("initialize")&&k.hasOwnProperty("reset")&&k.hasOwnProperty("getClientTimeOffset")&&S&&L&&C&&X))throw new Error("setConfig function has to be called previously")}function Ue(e){isNaN(e.newDuration)||Ie(e.newDuration)}function Be(){U=[],H=null,z=!1,B=null,Y=!1,V=!1,ee=void 0,te=void 0,Z=!0,$=!1,j=!0,J=null,re=void 0,ne=!1,oe=0}function He(){ke(),D.reset(),Pe(Y||V?d.PlayListTrace.FAILURE_STOP_REASON:d.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,n=U?U.length:0;e<n;e++){U[e].reset(Y)}!function(){t.off(u.default.PLAYBACK_TIME_UPDATED,de,this),t.off(u.default.PLAYBACK_SEEKING,he,this),t.off(u.default.PLAYBACK_ERROR,Fe,this),t.off(u.default.PLAYBACK_STARTED,pe,this),t.off(u.default.PLAYBACK_PAUSED,ge,this),t.off(u.default.PLAYBACK_ENDED,Se,this),t.off(u.default.MANIFEST_UPDATED,xe,this),t.off(u.default.BUFFERING_COMPLETED,_e,this),t.off(u.default.STREAM_BUFFERING_COMPLETED,ye,this),t.off(u.default.MANIFEST_VALIDITY_CHANGED,Ue,this),t.off(u.default.TIME_SYNCHRONIZATION_COMPLETED,Me,this),t.off(u.default.WALLCLOCK_TIME_UPDATED,fe,this),t.off(g.default.METRIC_ADDED,Ge,this)}(),M.reset(),b.reset(),C.clearAllCurrentMetrics(),S.setValue(null),T.reset(),k.reset(),q.reset(),K&&(I.detachMediaSource(W),K=null),W=null,H&&(H.setMediaElement(null),H=null,G=null,S.getValue()&&t.trigger(u.default.PROTECTION_DESTROYED,{data:S.getValue().url})),t.trigger(u.default.STREAM_TEARDOWN_COMPLETE),Be()}function Ge(e){e.metric===o.default.DVR_INFO&&e.mediaType===i.default.AUDIO&&I.setSeekable(K,e.value.range.start,e.value.range.end)}return n={initialize:function(n,r){ke(),j=n,G=r,k.initialize(),(b=(0,s.default)(e).create()).setConfig({manifestModel:S,dashManifestModel:w,mediaPlayerModel:Q,manifestLoader:T,errHandler:L}),b.initialize(),M.setConfig({dashManifestModel:w}),function(){t.on(u.default.PLAYBACK_TIME_UPDATED,de,this),t.on(u.default.PLAYBACK_SEEKING,he,this),t.on(u.default.PLAYBACK_ERROR,Fe,this),t.on(u.default.PLAYBACK_STARTED,pe,this),t.on(u.default.PLAYBACK_PAUSED,ge,this),t.on(u.default.PLAYBACK_ENDED,Se,this),t.on(u.default.MANIFEST_UPDATED,xe,this),t.on(u.default.BUFFERING_COMPLETED,_e,this),t.on(u.default.STREAM_BUFFERING_COMPLETED,ye,this),t.on(u.default.MANIFEST_VALIDITY_CHANGED,Ue,this),t.on(u.default.TIME_SYNCHRONIZATION_COMPLETED,Me,this),t.on(u.default.WALLCLOCK_TIME_UPDATED,fe,this),t.on(g.default.METRIC_ADDED,Ge,this)}()},getActiveStreamInfo:Le,isTrackTypePresent:Ne,switchToVideoElement:function(e){B&&(X.initialize(Le()),Ce(e,null,!0,!1))},getStreamById:function(e){return U.filter((function(t){return t.getId()===e}))[0]},getStreamForTime:be,getTimeRelativeToStreamId:function(e,t){for(var n=null,r=0,i=0,o=null,a=U.length,s=0;s<a;s++){if(i=(n=U[s]).getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null},load:function(e){ke(),T.load(e)},loadWithManifest:function(e){!function(){if(!b||!b.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}(),b.setManifest(e)},getActiveStreamProcessors:Te,setConfig:function(e){e&&(e.capabilities&&(c=e.capabilities),e.manifestLoader&&(T=e.manifestLoader),e.manifestModel&&(S=e.manifestModel),e.dashManifestModel&&(w=e.dashManifestModel),e.mediaPlayerModel&&(Q=e.mediaPlayerModel),e.protectionController&&(H=e.protectionController),e.adapter&&(R=e.adapter),e.metricsModel&&(C=e.metricsModel),e.dashMetrics&&(A=e.dashMetrics),e.errHandler&&(L=e.errHandler),e.timelineConverter&&(k=e.timelineConverter),e.videoModel&&(W=e.videoModel),e.playbackController&&(X=e.playbackController),e.domStorage&&(x=e.domStorage),e.abrController&&(N=e.abrController),e.mediaController&&(O=e.mediaController),e.textController&&(P=e.textController))},setProtectionData:function(e){G=e},reset:He},r=(0,f.default)(e).getInstance().getLogger(n),D=(0,m.default)(e).getInstance(),M=(0,v.default)(e).getInstance(),I=(0,_.default)(e).getInstance(),q=(0,h.default)(e).getInstance(),F=(0,p.default)(e).getInstance(),Be(),n}b.__dashjs_factory_name="StreamController",t.default=c.default.getSingletonFactory(b),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(225)),a=r(n(241)),s=r(n(242)),l=r(n(246)),u=r(n(3)),c=r(n(5)),d=r(n(4)),f=r(n(7)),h=r(n(1)),p=r(n(6));function g(e){e=e||{};var t=this.context,n=(0,u.default)(t).getInstance(),r=e.manifestModel,h=e.dashManifestModel,g=e.mediaPlayerModel,m=e.manifestUpdater,v=e.adapter,_=e.capabilities,y=e.errHandler,E=e.timelineConverter,b=e.metricsModel,T=e.abrController,S=e.playbackController,w=e.mediaController,R=e.textController,C=e.videoModel,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function G(e){for(var t=D?D.length:0,r=0;r<t;r++){D[r].getFragmentModel().removeExecutedRequestsBeforeTime(V()+Y()),D[r].reset(!1,e)}D=[],M=!1,x=!1,ce(!1),n.off(c.default.CURRENT_TRACK_CHANGED,$,A)}function j(){G(),N=null,O={},P=!1}function z(){S&&S.pause(),F&&(F.reset(),F=null),j(),n.off(c.default.DATA_UPDATE_COMPLETED,oe,A),n.off(c.default.BUFFERING_COMPLETED,ie,A),q&&(n.off(c.default.KEY_ERROR,X,A),n.off(c.default.SERVER_CERTIFICATE_UPDATED,X,A),n.off(c.default.LICENSE_REQUEST_COMPLETE,X,A),n.off(c.default.KEY_SYSTEM_SELECTED,X,A),n.off(c.default.KEY_SESSION_CREATED,X,A),n.off(c.default.KEY_STATUSES_CHANGED,X,A)),ce(!1)}function Y(){return N?N.duration:NaN}function V(){return N?N.start:NaN}function K(){return N}function W(){if(!(T&&T.hasOwnProperty("getBitrateList")&&v&&v.hasOwnProperty("getAllMediaInfoForType")&&v.hasOwnProperty("getEventsFor")))throw new Error(i.default.MISSING_CONFIG_ERROR)}function X(e){e.error&&(y.mediaKeySessionError(e.error.message),y.error(e.error),I.fatal(e.error.message),z())}function Q(e){var t,n=e.type,o=void 0;if(n===i.default.MUXED&&e)return o="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",I.fatal(o),y.manifestError(o,"multiplexedrep",r.getValue()),y.error(new p.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,o,r.getValue())),!1;if(n===i.default.TEXT||n===i.default.FRAGMENTED_TEXT||n===i.default.EMBEDDED_TEXT||n===i.default.IMAGE)return!0;if(t=e.codec,I.debug(n+" codec: "+t),e.contentProtection&&!_.supportsEncryptedMedia())y.capabilityError("encryptedmedia"),y.error(new p.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!_.supportsCodec(t))return o=n+"Codec ("+t+") is not supported.",I.error(o),!1;return!0}function $(e){if(e.newMediaInfo.streamInfo.id===N.id){var t=ae(e.newMediaInfo);if(t){var n=S.getTime();I.info("Stream -  Process track changed at current time "+n);var o=e.newMediaInfo,a=r.getValue();v.setCurrentMediaInfo(N.id,o.type,o),I.debug("Stream -  Update stream controller"),a.refreshManifestOnSwitchTrack?(I.debug("Stream -  Refreshing manifest for switch track"),B=e,m.refreshManifest()):(t.selectMediaInfo(o),o.type!==i.default.FRAGMENTED_TEXT?(T.updateTopQualityIndex(o),t.switchTrackAsked(),t.getFragmentModel().abortRequests()):(t.getScheduleController().setSeekTarget(NaN),v.setIndexHandlerTime(t,n),v.resetIndexHandler(t)))}}}function Z(n,a){var s=v.getAllMediaInfoForType(N,n),u=null,c=void 0;if(s&&0!==s.length){for(var d=0,f=s.length;d<f;d++)if(u=s[d],n===i.default.EMBEDDED_TEXT)R.addEmbeddedTrack(u);else{if(!Q(u))continue;w.addTrack(u)}n!==i.default.EMBEDDED_TEXT&&0!==w.getTracksFor(n,N).length&&(n!==i.default.IMAGE?((n!==i.default.FRAGMENTED_TEXT||n===i.default.FRAGMENTED_TEXT&&R.getTextDefaultEnabled())&&(w.checkInitialMediaSettingsForType(n,N),c=w.getCurrentTrackFor(n,N)),n!==i.default.FRAGMENTED_TEXT||R.getTextDefaultEnabled()||(c=w.getTracksFor(n,N)[0]),function(n,a,s,l){var u=(0,o.default)(t).create({type:n.type,mimeType:n.mimeType,timelineConverter:E,adapter:v,manifestModel:r,dashManifestModel:h,mediaPlayerModel:g,metricsModel:b,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,stream:A,abrController:T,domStorage:e.domStorage,playbackController:S,mediaController:w,streamController:e.streamController,textController:R,errHandler:y});if(u.initialize(s),T.updateTopQualityIndex(n),l?(u.setBuffer(l.buffer),u.getIndexHandler().setCurrentTime(l.currentTime),D[l.replaceIdx]=u):D.push(u),!l||!l.ignoreMediaInfo)if(n.type===i.default.TEXT||n.type===i.default.FRAGMENTED_TEXT){for(var c=void 0,d=0;d<a.length;d++)a[d].index===n.index&&(c=d),u.addMediaInfo(a[d]);u.selectMediaInfo(a[c])}else u.addMediaInfo(n,!0)}(c,s,a)):L=(0,l.default)(t).create({dashManifestModel:h,adapter:v,baseURLController:e.baseURLController,stream:A,timelineConverter:e.timelineConverter}))}else I.info("No "+n+" data.")}function J(){k||((k=(0,a.default)(t).create()).setConfig({manifestUpdater:m,playbackController:S}),ee())}function ee(){var e=v.getEventsFor(N);k.addInlineEvents(e)}function te(e){var t=v.getAdaptationForType(r.getValue(),N.index,e,N);t&&Array.isArray(t.Representation_asArray)&&(t.Representation_asArray=t.Representation_asArray.filter((function(e,n){if(0===n)return!0;var r=h.getCodec(t,n,!0);return!!_.supportsCodec(r)||(I.error("[Stream] codec not supported: "+r),!1)})))}function ne(){for(var e=D.length,t=!!O.audio||!!O.video?new p.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,r=0;r<e;r++)if(D[r].isUpdating()||P)return;if(x){if(q)for(r=0;r<e&&D[r];r++)D[r].getType()!==i.default.AUDIO&&D[r].getType()!==i.default.VIDEO&&D[r].getType()!==i.default.FRAGMENTED_TEXT||q.initializeForMedia(D[r].getMediaInfo());n.trigger(c.default.STREAM_INITIALIZED,{streamInfo:N,error:t})}}function re(e){for(var t={},n=0,r=D.length;n<r;n++)t[D[n].getType()]=D[n].createBuffer(e).getBuffer();return t}function ie(e){if(e.streamInfo===N){var t=se(),r=t.length;if(0!==r){for(var o=0;o<r;o++)if(!t[o].isBufferingCompleted()&&(t[o].getType()===i.default.AUDIO||t[o].getType()===i.default.VIDEO))return void I.warn("onBufferingCompleted - One streamProcessor has finished but",t[o].getType(),"one is not buffering completed");I.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),n.trigger(c.default.STREAM_BUFFERING_COMPLETED,{streamInfo:N})}else I.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function oe(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===N&&(O[t.getType()]=e.error,ne())}function ae(e){return e?se().filter((function(t){return t.getType()===e.type}))[0]:null}function se(){for(var e=D.length,t=[],n=void 0,r=void 0,o=0;o<e;o++)(n=(r=D[o]).getType())!==i.default.AUDIO&&n!==i.default.VIDEO&&n!==i.default.FRAGMENTED_TEXT&&n!==i.default.TEXT||t.push(r);return t}function le(e,t){if(!e)return!1;var n=e.getStreamInfo(),i=K();if(!n||!i)return!1;var o=v.getAdaptationForType(r.getValue(),n.index,t,n),a=v.getAdaptationForType(r.getValue(),i.index,t,i);return o&&a?!o.ContentProtection&&!a.ContentProtection:!o&&!a}function ue(e,t){if(!e)return!1;var n=e.getStreamInfo(),i=K();if(!n||!i)return!1;var o=v.getAdaptationForType(r.getValue(),n.index,t,n),a=v.getAdaptationForType(r.getValue(),i.index,t,i);if(!o||!a)return!o&&!a;var s=o&&a&&o.mimeType===a.mimeType,l=a.Representation_asArray.map((function(e){return e.codecs})),u=o.Representation_asArray.map((function(e){return e.codecs})),c=u.some((function(e){return l.indexOf(e)>-1})),d=u.some((function(e){return l.some((function(t){return function(e,t){for(var n=e.split(".")[0],r=0===t.indexOf(n),i=void 0,o=0;o<H.length;o++)if(H[o].codec===n){i=H[o];break}if(i)return r||i.compatibleCodecs.some((function(e){return 0===t.indexOf(e)}));return r}(t,e)}))}));return c||d&&s}function ce(e){U=e}function de(){return U}return A={initialize:function(e,t){N=e,(q=t)&&(n.on(c.default.KEY_ERROR,X,A),n.on(c.default.SERVER_CERTIFICATE_UPDATED,X,A),n.on(c.default.LICENSE_REQUEST_COMPLETE,X,A),n.on(c.default.KEY_SYSTEM_SELECTED,X,A),n.on(c.default.KEY_SESSION_CREATED,X,A),n.on(c.default.KEY_STATUSES_CHANGED,X,A))},activate:function(e,t){if(!M){var o=void 0;return n.on(c.default.CURRENT_TRACK_CHANGED,$,A),de()?(!function(){if(P=!0,W(),te(i.default.VIDEO),te(i.default.AUDIO),x=!0,P=!1,0===D.length){var e="No streams to play.";y.manifestError(e,"nostreams",r.getValue()),I.debug(e)}else ne()}(),o=t):o=function(e,t){W();var n=C.getElement();J(),P=!0,te(i.default.VIDEO),te(i.default.AUDIO),(null===n||n&&/^VIDEO$/i.test(n.nodeName))&&Z(i.default.VIDEO,e);Z(i.default.AUDIO,e),Z(i.default.TEXT,e),Z(i.default.FRAGMENTED_TEXT,e),Z(i.default.EMBEDDED_TEXT,e),Z(i.default.MUXED,e),Z(i.default.IMAGE,e);var o=re(t);if(x=!0,P=!1,0===D.length){var a="No streams to play.";y.manifestError(a,"nostreams",r.getValue()),y.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,a,r.getValue())),I.fatal(a)}else ne();return o}(e,t),M=!0,o}return t},deactivate:G,isActive:function(){return M},getDuration:Y,getStartTime:V,getId:function(){return N?N.id:null},getStreamInfo:K,preload:function(e,t){J(),Z(i.default.VIDEO,e),Z(i.default.AUDIO,e),Z(i.default.TEXT,e),Z(i.default.FRAGMENTED_TEXT,e),Z(i.default.EMBEDDED_TEXT,e),Z(i.default.MUXED,e),Z(i.default.IMAGE,e),re(t),n.on(c.default.CURRENT_TRACK_CHANGED,$,A);for(var r=0;r<D.length&&D[r];r++)D[r].getScheduleController().start();ce(!0)},getFragmentController:function(){return F},getThumbnailController:function(){return L},getBitrateListFor:function(e){if(W(),e===i.default.IMAGE)return L?L.getBitrateList():[];var t=function(e){for(var t=D.length,n=null,r=0;r<t;r++)if((n=D[r]).getType()===e)return n.getMediaInfo();return null}(e);return T.getBitrateList(t)},startEventController:function(){k&&k.start()},stopEventController:function(){k&&k.stop()},updateData:function(e){I.info("Manifest updated... updating data system wide."),M=!1,P=!0,N=e,k&&ee(),te(i.default.VIDEO),te(i.default.AUDIO);for(var t=0,n=D.length;t<n;t++){var r=D[t],o=v.getMediaInfoForType(N,r.getType());T.updateTopQualityIndex(o),r.addMediaInfo(o,!0)}if(B&&"fragmentedText"!==(o=B.newMediaInfo).type){var a=ae(B.oldMediaInfo);if(!a)return;a.switchTrackAsked(),B=void 0}P=!1,ne()},reset:z,getProcessors:se,setMediaSource:function(e){for(var t=0;t<D.length;)Q(D[t].getMediaInfo())?(D[t].setMediaSource(e),t++):(D[t].reset(),D.splice(t,1));for(t=0;t<D.length;t++)D[t].dischargePreBuffer();if(0===D.length){var n="No streams to play.";y.manifestError(n,"nostreams",r.getValue()),y.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,n+"nostreams",r.getValue())),I.fatal(n)}},isMediaCodecCompatible:function(e){return ue(e,i.default.VIDEO)&&ue(e,i.default.AUDIO)},isProtectionCompatible:function(e){return le(e,i.default.VIDEO)&&le(e,i.default.AUDIO)},getPreloaded:de,addInbandEvents:function(e){k&&k.addInbandEvents(e)}},I=(0,d.default)(t).getInstance().getLogger(A),j(),F=(0,s.default)(t).create({mediaPlayerModel:g,metricsModel:b,errHandler:y}),n.on(c.default.BUFFERING_COMPLETED,ie,A),n.on(c.default.DATA_UPDATE_COMPLETED,oe,A),A}g.__dashjs_factory_name="Stream",t.default=h.default.getClassFactory(g),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(226)),a=r(n(19)),s=r(n(227)),l=r(n(229)),u=r(n(232)),c=r(n(1)),d=r(n(233));function f(e){e=e||{};var t=this.context,n=e.type,r=e.errHandler,c=e.mimeType,f=e.timelineConverter,h=e.adapter,p=e.manifestModel,g=e.mediaPlayerModel,m=e.stream,v=e.abrController,_=e.playbackController,y=e.streamController,E=e.mediaController,b=e.textController,T=e.domStorage,S=e.metricsModel,w=e.dashMetrics,R=e.dashManifestModel,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0;function F(){P=[]}function L(){I=[],A=null,F()}function k(){return m?m.getStreamInfo():null}function U(){return A}return C={initialize:function(o){(q=(0,d.default)(t).create({mimeType:c,timelineConverter:f,dashMetrics:w,metricsModel:S,mediaPlayerModel:g,baseURLController:e.baseURLController,errHandler:r})).initialize(C),v.registerStreamType(n,C),(O=m.getFragmentController().getModel(n)).setStreamProcessor(C),D=function(e){var n=null;n=e===i.default.VIDEO||e===i.default.AUDIO?(0,a.default)(t).create({type:e,metricsModel:S,mediaPlayerModel:g,manifestModel:p,errHandler:r,streamController:y,mediaController:E,adapter:h,textController:b,abrController:v,playbackController:_,streamProcessor:C}):(0,s.default)(t).create({type:e,mimeType:c,metricsModel:S,mediaPlayerModel:g,manifestModel:p,errHandler:r,streamController:y,mediaController:E,adapter:h,textController:b,abrController:v,playbackController:_,streamProcessor:C});return n}(n),M=(0,l.default)(t).create({type:n,mimeType:c,metricsModel:S,adapter:h,dashMetrics:w,dashManifestModel:R,timelineConverter:f,mediaPlayerModel:g,abrController:v,playbackController:_,streamController:y,textController:b,streamProcessor:C,mediaController:E}),(N=(0,u.default)(t).create()).setConfig({abrController:v,domStorage:T,metricsModel:S,dashMetrics:w,dashManifestModel:R,manifestModel:p,playbackController:_,timelineConverter:f,streamProcessor:C}),D.initialize(o),M.initialize(),N.initialize()},isUpdating:function(){return!!N&&N.isUpdating()},getType:function(){return n},getBufferController:function(){return D},getFragmentModel:function(){return O},getScheduleController:function(){return M},getLiveEdgeFinder:function(){return x},getFragmentController:function(){return m?m.getFragmentController():null},getRepresentationController:function(){return N},getIndexHandler:function(){return q},getRepresentationInfo:function(e){return h.getRepresentationInfo(N,e)},getBufferLevel:function(){return D.getBufferLevel()},switchInitData:function(e,t){D&&D.switchInitData(k().id,e,t)},isBufferingCompleted:function(){return!!D&&D.getIsBufferingCompleted()},timeIsBuffered:function(e){return!!D&&null!==D.getRangeAt(e,0)},createBuffer:function(e){return D.getBuffer()||D.createBuffer(A,e)},getStreamInfo:k,selectMediaInfo:function(e){e===A||e&&A&&e.type!==A.type||(A=e),h.updateData(this)},addMediaInfo:function(e,t){-1===I.indexOf(e)&&I.push(e),t&&this.selectMediaInfo(e)},switchTrackAsked:function(){M.switchTrackAsked()},getMediaInfoArr:function(){return I},getMediaInfo:U,getMediaSource:function(){return D.getMediaSource()},setMediaSource:function(e){D.setMediaSource(e,U())},dischargePreBuffer:function(){D.dischargePreBuffer()},getBuffer:function(){return D.getBuffer()},setBuffer:function(e){D.setBuffer(e)},registerExternalController:function(e){P.push(e)},unregisterExternalController:function(e){var t=P.indexOf(e);-1!==t&&P.splice(t,1)},getExternalControllers:function(){return P},unregisterAllExternalController:F,addInbandEvents:function(e){m&&m.addInbandEvents(e)},reset:function(e,t){q.reset(),D&&(D.reset(e,t),D=null),M&&(M.reset(),M=null),N&&(N.reset(),N=null),v&&v.unRegisterStreamType(n),P.forEach((function(e){e.reset()})),L(),n=null,m=null,x&&(x.reset(),x=null)}},_&&_.getIsDynamic()&&(x=(0,o.default)(t).create({timelineConverter:f,streamProcessor:C})),L(),C}f.__dashjs_factory_name="StreamProcessor",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(2));function a(e){var t=(e=e||{}).timelineConverter,n=e.streamProcessor;return{getLiveEdge:function(){!function(){if(!(t&&t.hasOwnProperty("getExpectedLiveEdge")&&n&&n.hasOwnProperty("getRepresentationInfo")))throw new Error(o.default.MISSING_CONFIG_ERROR)}();var e=n.getRepresentationInfo(),r=e.DVRWindow?e.DVRWindow.end:0,i=r;return e.useCalculatedLiveEdgeTime&&(i=t.getExpectedLiveEdge(),t.setClientTimeOffset(i-r)),i},reset:function(){t=null,n=null}}}a.__dashjs_factory_name="LiveEdgeFinder",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(1)),a=r(n(19)),s=r(n(228));function l(e){e=e||{};var t,n=this.context,r=void 0;function o(){return r.getBuffer()}return t={getBufferControllerType:function(){return r.getBufferControllerType()},initialize:function(e,t){return r.initialize(e,t)},createBuffer:function(e){return r.createBuffer(e)},getType:function(){return r.getType()},getStreamProcessor:function(){r.getStreamProcessor()},setSeekStartTime:function(e){r.setSeekStartTime(e)},getBuffer:o,setBuffer:function(e){r.setBuffer(e)},getBufferLevel:function(){return r.getBufferLevel()},setMediaSource:function(e){r.setMediaSource(e)},getMediaSource:function(){return r.getMediaSource()},getIsBufferingCompleted:function(){return r.getIsBufferingCompleted()},getIsPruningInProgress:function(){return r.getIsPruningInProgress()},dischargePreBuffer:function(){return r.dischargePreBuffer()},switchInitData:function(e,t){r.switchInitData(e,t)},getRangeAt:function(e){return r.getRangeAt(e)},reset:function(e){r.reset(e)},updateTimestampOffset:function(e){var t=o();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},r=e.type===i.default.FRAGMENTED_TEXT?(0,a.default)(n).create({type:e.type,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor}):(0,s.default)(n).create({type:e.type,mimeType:e.mimeType,errHandler:e.errHandler,streamProcessor:e.streamProcessor}),t}l.__dashjs_factory_name="TextBufferController",t.default=o.default.getClassFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(3)),a=r(n(5)),s=r(n(1)),l=r(n(68)),u=r(n(95)),c=r(n(58)),d=r(n(6)),f=r(n(7));function h(e){e=e||{};var t=this.context,n=(0,o.default)(t).getInstance(),r=(0,c.default)(t).getInstance(),s=e.errHandler,h=e.type,p=e.mimeType,g=e.streamProcessor,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0;function T(e){y=e}function S(e){e.sender.getStreamProcessor()===g&&(b.extract(g.getStreamInfo().id,e.sender.getCurrentRepresentation().id)||n.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender}))}function w(e){e.fragmentModel===g.getFragmentModel()&&e.chunk.bytes&&(b.save(e.chunk),E.append(e.chunk),n.trigger(a.default.STREAM_COMPLETED,{request:e.request,fragmentModel:e.fragmentModel}))}return m={getBufferControllerType:function(){return"NotFragmentedTextBufferController"},initialize:function(e){T(e),b=(0,l.default)(t).getInstance()},createBuffer:function(e){try{if(E=(0,u.default)(t).create(y,e),!_){var n=E.getBuffer();n.hasOwnProperty(i.default.INITIALIZE)&&n.initialize(p,g),_=!0}return E}catch(t){if(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt'))try{E=r.getTextSourceBuffer()}catch(e){s.mediaSourceError("Error creating "+h+" source buffer."),s.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h+" : "+e.message))}else s.mediaSourceError("Error creating "+h+" source buffer."),s.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h))}},getType:function(){return h},getStreamProcessor:function(){return g},setSeekStartTime:function(){},getBuffer:function(){return E},getBufferLevel:function(){return 0},setMediaSource:T,getMediaSource:function(){return y},getIsBufferingCompleted:function(){return v},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},switchInitData:function(e,t){b.extract(e,t)||n.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:m})},getRangeAt:function(){return null},reset:function(e){n.off(a.default.DATA_UPDATE_COMPLETED,S,m),n.off(a.default.INIT_FRAGMENT_LOADED,w,m),!e&&E&&(E.abort(),E.reset(),E=null)},updateTimestampOffset:function(e){E.timestampOffset===e||isNaN(e)||(E.timestampOffset=e)}},_=!1,y=null,v=!1,n.on(a.default.DATA_UPDATE_COMPLETED,S,m),n.on(a.default.INIT_FRAGMENT_LOADED,w,m),m}h.__dashjs_factory_name="NotFragmentedTextBufferController",t.default=s.default.getClassFactory(h),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=n(107),a=r(n(44)),s=r(n(19)),l=r(n(230)),u=r(n(231)),c=r(n(38)),d=r(n(3)),f=r(n(5)),h=r(n(1)),p=r(n(4)),g=r(n(67)),m=n(22);function v(e){e=e||{};var t=this.context,n=(0,d.default)(t).getInstance(),r=e.metricsModel,h=e.adapter,v=e.dashMetrics,_=e.dashManifestModel,y=e.timelineConverter,E=e.mediaPlayerModel,b=e.abrController,T=e.playbackController,S=e.streamController,w=e.textController,R=e.type,C=e.streamProcessor,A=e.mediaController,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0,z=void 0,Y=void 0,V=void 0,K=void 0,W=void 0,X=void 0,Q=void 0;function $(){x&&!C.isBufferingCompleted()?(D.debug("Schedule Controller starts"),Ce(),O=!1,N&&(N=!1),ee(0)):D.warn("Start denied to Schedule Controller")}function Z(){O||(D.debug("Schedule Controller stops"),O=!0,clearTimeout(U))}function J(){var e=C.getBufferController();if(O||L||!e||T.isPaused()&&!E.getScheduleWhilePaused()||!(R!==i.default.FRAGMENTED_TEXT&&R!==i.default.TEXT||w.isTextEnabled()))D.debug("Schedule stop!");else if(e.getIsBufferingCompleted())D.debug("Schedule stop because buffering is completed!");else{!function(){var e=T.getTime(),t=1.5*x.fragmentDuration,n=M.getRequests({state:c.default.FRAGMENT_MODEL_EXECUTED,time:e+t,threshold:0})[0];if(n&&-1===V.indexOf(n)&&!_.getIsTextTrack(R)){var r=E.getFastSwitchEnabled(),i=C.getBufferLevel(),o=b.getAbandonmentStateFor(R),s=!A.isCurrentTrack(n.mediaInfo)&&A.getSwitchMode(n.mediaInfo.type)===g.default.TRACK_SWITCH_MODE_NEVER_REPLACE,l=n.quality<x.quality;r&&(s||l)&&i>=t&&o!==a.default.ABANDON_LOAD?(ie(n),Q=!0,D.debug("Reloading outdated fragment at index: ",n.index)):n.quality>x.quality&&!W&&Se(T.getTime()+C.getBufferLevel())}}();var t=V.length>0,n=C.getStreamInfo();if(W||isNaN(Y)||K||t||function(e,t){z[t]=z[t]||{};var n=b.getTopQualityIndexFor(e,t);return z[t][e]!=n&&(D.info("Top quality "+e+" index has changed from "+z[t][e]+" to "+n),z[t][e]=n,!0)}(x.mediaInfo.type,n.id)||H.execute(C,S.isTrackTypePresent(i.default.VIDEO))){ne(!0),t||K||b.checkPlaybackQuality(R),function(){var e=C.getFragmentController();if(x.quality===Y&&!K||W){var t=V.shift();if(e.isInitializationRequest(t))C.switchInitData(t.representationId);else{var r=void 0;C.getBufferController().getIsPruningInProgress()||(r=G.execute(C,B,t),Se(NaN),r&&!t&&(isNaN(r.startTime+r.duration)||h.setIndexHandlerTime(C,r.startTime+r.duration),r.delayLoadingTime=(new Date).getTime()+k,we(0)),!r&&n.manifestInfo&&n.manifestInfo.isDynamic&&D.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling.")),r?(D.debug("Next fragment request url is "+r.url),M.executeRequest(r)):(ne(!1),ee(E.getLowLatencyEnabled()?100:500))}}else D.debug("Quality has changed, get init request for representationid = "+x.id),K?(W=A.getSwitchMode(R)===g.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,D.debug("Switch track has been asked, get init request for "+R+" with representationid = "+x.id+"bufferResetInProgress = "+W),C.switchInitData(x.id,W),K=!1):C.switchInitData(x.id),Y=x.quality}()}else ee(500)}}function ee(e){clearTimeout(U),U=setTimeout(J,e)}function te(e){e.sender&&e.sender.getStreamProcessor()===C&&re(x.quality)}function ne(e){L!==e?L=e:D.debug("isFragmentProcessingInProgress is already equal to",e)}function re(e){var t=h.getInitRequest(C,e);t&&(ne(!0),t.url=(0,m.replaceTokenForTemplate)(t.url,"Bandwidth",x?x.bandwidth:null),M.executeRequest(t))}function ie(e){V.push(e)}function oe(e){if(R===e.mediaType&&C.getStreamInfo().id===e.streamInfo.id){if(null==(x=C.getRepresentationInfo(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");Re(new Date,o.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ce()}}function ae(e){if(T&&M){var t=M.getRequests({state:c.default.FRAGMENT_MODEL_EXECUTED,time:T.getTime(),threshold:0})[0];t&&T.getTime()>=t.startTime&&((!j.mediaInfo||t.mediaInfo.type===j.mediaInfo.type&&t.mediaInfo.id!==j.mediaInfo.id)&&e&&n.trigger(f.default.TRACK_CHANGE_RENDERED,{mediaType:R,oldMediaInfo:j.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===j.quality&&t.adaptationIndex===j.adaptationIndex||!e||n.trigger(f.default.QUALITY_CHANGE_RENDERED,{mediaType:R,oldQuality:j.quality,newQuality:t.quality}),j={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function se(e){e.error||e.sender.getStreamProcessor()!==C||(x=h.convertDataToRepresentationInfo(e.currentRepresentation))}function le(e){e.error||C.getStreamInfo().id!==e.streamInfo.id||(x=C.getRepresentationInfo(),N&&(T.getIsDynamic()?(y.setTimeSyncCompleted(!0),function(){var e=C.getLiveEdgeFinder();if(e){var t=e.getLiveEdge(),n=x.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,o=t-T.computeLiveDelay(x.fragmentDuration,n),a=h.getFragmentRequest(C,x,o,{ignoreIsFinished:!0});if(a)if(E.getLowLatencyEnabled()){var s=a.duration<E.getLiveDelay()?a.startTime:a.startTime+a.duration-E.getLiveDelay();T.setLiveStartTime(s)}else T.setLiveStartTime(a.startTime);else D.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");B=T.getStreamStartTime(!1,t),C.getBufferController().setSeekStartTime(B),B>x.mediaInfo.streamInfo.start+x.mediaInfo.streamInfo.duration&&T.seek(B);var l=v.getCurrentManifestUpdate(r.getMetricsFor(i.default.STREAM));r.updateManifestUpdateInfo(l,{currentTime:B,presentationStartTime:t,latency:t-B,clientTimeOffset:y.getClientTimeOffset()})}}()):(B=T.getStreamStartTime(!1),C.getBufferController().setSeekStartTime(B))),O&&$())}function ue(e){e.fragmentModel===M&&(Z(),ne(!1),D.info("Stream is complete"))}function ce(e){e.sender===M&&(D.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",", Range:",e.request.range?e.request.range:"undefined"),_.getIsTextTrack(R)&&ne(!1),e.error&&e.request.serviceLocation&&!O&&(ie(e.request),ne(!1),ee(0)),W&&(X=e.request))}function de(){ae(!0)}function fe(e){if(e.sender.getStreamProcessor()===C)if(W&&!isNaN(e.startTime)&&(W=!1,M.addExecutedRequest(X)),ne(!1),Q&&!isNaN(e.startTime)){var t=T.getTime(),n=e.startTime+x.fragmentDuration,r=1.5*x.fragmentDuration;ee(t+r>=n?0:1e3*(n-(t+r))),Q=!1}else ee(0)}function he(e){e.streamProcessor===C&&(D.info("onFragmentLoadingAbandoned for "+R+", request: "+e.request.url+" has been aborted"),T.isSeeking()||K||(D.info("onFragmentLoadingAbandoned for "+R+", request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ie(e.request)),ne(!1),ee(0))}function pe(e){e.sender.getStreamProcessor()===C&&Z()}function ge(e){if(e.sender.getStreamProcessor()===C){var t=C.getStreamInfo();t&&(e.unintended?M.removeExecutedRequestsAfterTime(e.from,t.duration):M.syncExecutedRequestsWithBufferedRange(C.getBufferController().getBuffer().getAllBufferRanges(),t.duration)),e.hasEnoughSpaceToAppend&&O&&$()}}function me(e){e.sender.getStreamProcessor()!==C||e.state!==s.default.BUFFER_EMPTY||T.isSeeking()||(D.info("Buffer is empty! Stalling!"),Re(new Date,o.PlayListTrace.REBUFFERING_REASON))}function ve(e){e.sender.getStreamProcessor()===C&&(Z(),ne(!1))}function _e(){M.abortRequests(),Z()}function ye(e){e.sender.getStreamProcessor()===C&&w.isTextEnabled()&&re(e.index)}function Ee(){!O&&E.getScheduleWhilePaused()||$()}function be(e){B=e.seekTime,we(0),O&&$();var t=v.getCurrentManifestUpdate(r.getMetricsFor(i.default.STREAM)),n=x.DVRWindow&&T?x.DVRWindow.end-T.getTime():NaN;r.updateManifestUpdateInfo(t,{latency:n}),L?(D.debug("onPlaybackSeeking for "+R+", call fragmentModel.abortRequests in order to seek quicker"),M.abortRequests()):ee(0)}function Te(e){q&&(q.playbackspeed=e.playbackRate.toString())}function Se(e){B=e}function we(e){k=e}function Re(e,t){if(P&&!1===F){var n=q.start,r=e.getTime()-n.getTime();q.duration=r,q.stopreason=t,P.trace.push(q),F=!0}}function Ce(){P&&!0===F&&x&&(F=!1,(q=new o.PlayListTrace).representationid=x.id,q.start=new Date,q.mstart=1e3*T.getTime(),q.playbackspeed=T.getPlaybackRate().toString())}function Ae(){L=!1,k=0,B=NaN,P=null,q=null,F=!0,N=!0,Y=NaN,j={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},z={},V=[],O=!0,K=!1,W=!1,X=null,Q=!1}return I={initialize:function(){M=C.getFragmentModel(),H=(0,l.default)(t).create({abrController:b,dashMetrics:v,metricsModel:r,mediaPlayerModel:E,textController:w}),G=(0,u.default)(t).create({adapter:h,textController:w,playbackController:T}),_.getIsTextTrack(e.mimeType)&&n.on(f.default.TIMED_TEXT_REQUESTED,ye,this),n.on(f.default.QUALITY_CHANGE_REQUESTED,oe,this),n.on(f.default.DATA_UPDATE_STARTED,pe,this),n.on(f.default.DATA_UPDATE_COMPLETED,se,this),n.on(f.default.FRAGMENT_LOADING_COMPLETED,ce,this),n.on(f.default.STREAM_COMPLETED,ue,this),n.on(f.default.STREAM_INITIALIZED,le,this),n.on(f.default.BUFFER_LEVEL_STATE_CHANGED,me,this),n.on(f.default.BUFFER_CLEARED,ge,this),n.on(f.default.BYTES_APPENDED_END_FRAGMENT,fe,this),n.on(f.default.INIT_REQUESTED,te,this),n.on(f.default.QUOTA_EXCEEDED,ve,this),n.on(f.default.PLAYBACK_SEEKING,be,this),n.on(f.default.PLAYBACK_STARTED,Ee,this),n.on(f.default.PLAYBACK_RATE_CHANGED,Te,this),n.on(f.default.PLAYBACK_TIME_UPDATED,de,this),n.on(f.default.URL_RESOLUTION_FAILED,_e,this),n.on(f.default.FRAGMENT_LOADING_ABANDONED,he,this)},getType:function(){return R},setSeekTarget:Se,setTimeToLoadDelay:we,replaceRequest:ie,switchTrackAsked:function(){K=!0},isStarted:function(){return!1===O},start:$,stop:Z,reset:function(){n.off(f.default.DATA_UPDATE_STARTED,pe,this),n.off(f.default.DATA_UPDATE_COMPLETED,se,this),n.off(f.default.BUFFER_LEVEL_STATE_CHANGED,me,this),n.off(f.default.QUALITY_CHANGE_REQUESTED,oe,this),n.off(f.default.FRAGMENT_LOADING_COMPLETED,ce,this),n.off(f.default.STREAM_COMPLETED,ue,this),n.off(f.default.STREAM_INITIALIZED,le,this),n.off(f.default.QUOTA_EXCEEDED,ve,this),n.off(f.default.BYTES_APPENDED_END_FRAGMENT,fe,this),n.off(f.default.BUFFER_CLEARED,ge,this),n.off(f.default.INIT_REQUESTED,te,this),n.off(f.default.PLAYBACK_RATE_CHANGED,Te,this),n.off(f.default.PLAYBACK_SEEKING,be,this),n.off(f.default.PLAYBACK_STARTED,Ee,this),n.off(f.default.PLAYBACK_TIME_UPDATED,de,this),n.off(f.default.URL_RESOLUTION_FAILED,_e,this),n.off(f.default.FRAGMENT_LOADING_ABANDONED,he,this),_.getIsTextTrack(R)&&n.off(f.default.TIMED_TEXT_REQUESTED,ye,this),Z(),ae(!1),Ae()},setPlayList:function(e){P=e},getBufferTarget:function(){return H.getBufferTarget(C,S.isTrackTypePresent(i.default.VIDEO))},finalisePlayList:function(e,t){Re(e,t),P=null}},D=(0,p.default)(t).getInstance().getLogger(I),Ae(),I}v.__dashjs_factory_name="ScheduleController",t.default=h.default.getClassFactory(v),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(1));function a(e){var t=(e=e||{}).dashMetrics,n=e.metricsModel,r=e.mediaPlayerModel,o=e.textController,a=e.abrController;function s(e,s){var l=NaN;if(!e)return l;var u=e.getType(),c=e.getRepresentationInfo();if(u===i.default.FRAGMENTED_TEXT)l=o.isTextEnabled()?c.fragmentDuration:0;else if(u===i.default.AUDIO&&s){var d=t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(i.default.VIDEO));l=isNaN(c.fragmentDuration)?d:Math.max(d,c.fragmentDuration)}else{var f=c.mediaInfo.streamInfo;if(a.isPlayingAtTopQuality(f))l=f.manifestInfo.duration>=r.getLongFormContentDurationThreshold()?r.getBufferTimeAtTopQualityLongForm():r.getBufferTimeAtTopQuality();else l=r.getStableBufferTime()}return l}return{execute:function(e,r){return!e||t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(e.getType()))<s(e,r)},getBufferTarget:s}}a.__dashjs_factory_name="BufferLevelRule",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(4)),a=r(n(1)),s=r(n(20));function l(e){e=e||{};var t=this.context,n=e.adapter,r=e.textController,a=e.playbackController,l=void 0,u=void 0;return l={execute:function(e,t,o){if(!e)return null;var l=e.getRepresentationInfo(),c=e.getType(),d=!isNaN(t),f=e.getBufferController(),h=a.getNormalizedTime(),p=d?t:n.getIndexHandlerTime(e),g=!1,m=void 0;if(isNaN(p)||c===i.default.FRAGMENTED_TEXT&&!r.isTextEnabled())return null;if(f){var v=f.getRangeAt(p),_=f.getRangeAt(h),y=f.getBuffer().hasDiscontinuitiesAfter(h);null===v&&null===_||d||((!v||_&&_.start!=v.start&&_.end!=v.end)&&(y&&c!==i.default.FRAGMENTED_TEXT&&(e.getFragmentModel().removeExecutedRequestsAfterTime(_.end),g=!0),v=_),p!==v.end&&(u.debug("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",c,".",p,"was changed to",v.end),p=v.end))}if(o)p=o.startTime+o.duration/2,m=n.getFragmentRequest(e,l,p,{timeThreshold:0,ignoreIsFinished:!0});else for(m=n.getFragmentRequest(e,l,p,{keepIdx:!d&&!g});m&&m.action!==s.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(m);)m=n.getFragmentRequest(e,l);return m}},u=(0,o.default)(t).getInstance().getLogger(l),l}l.__dashjs_factory_name="NextFragmentRequestRule",t.default=a.default.getClassFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(7)),a=r(n(15)),s=r(n(6)),l=r(n(3)),u=r(n(5)),c=r(n(1)),d=r(n(70));function f(){var e=this.context,t=(0,l.default)(e).getInstance(),n=void 0,r=void 0,c=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0;function R(){return f}function C(){return p}function A(){r=null,c=-1,f=!0,h=[],g=null,v=null,_=null,y=null,E=null,b=null,T=null}function I(){var e=new Date,t=C(),n=1e3*v.getTime();_.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function D(){var e=S.getStreamInfo(),t=e?e.manifestInfo:null,n=t?t.isDynamic:null,r=E.calcSegmentAvailabilityRange(p,n);_.addDVRInfo(S.getType(),v.getTime(),t,r)}function M(e){return null==e||e>=h.length?null:h[e]}function x(e){var r=e;f=!1,t.trigger(u.default.AST_IN_FUTURE,{delay:r}),setTimeout((function(){if(!R()){f=!0,t.trigger(u.default.DATA_UPDATE_STARTED,{sender:n}),h.forEach((function(e){e.segmentAvailabilityRange=null}));for(var e=0;e<h.length;e++)m.updateRepresentation(h[e],!0)}}),r)}function N(e){if(e.sender.getStreamProcessor()===S&&R()){var n,l=e.representation,c=_.getMetricsFor(i.default.STREAM),m=_.getMetricsFor(C().adaptation.type),y=T.getCurrentManifestUpdate(c),E=!1,b=0,w=void 0,A=void 0;if(l.adaptation.period.mpd.manifest.type===a.default.DYNAMIC&&!l.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var M=l.segmentAvailabilityRange.end-l.segmentAvailabilityRange.start;b=1e3*(v.computeLiveDelay(p.segmentDuration,S.getStreamInfo().manifestInfo.DVRWindowSize)-M)}if(b>0)return D(),x(b),A=new s.default(o.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,o.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE),void t.trigger(u.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p,error:A});if(y){for(var N=0;N<y.representationInfo.length;N++)if((w=y.representationInfo[N]).index===l.index&&w.mediaType===S.getType()){E=!0;break}E||_.addManifestUpdateRepresentationInfo(y,l.id,l.index,l.adaptation.period.index,S.getType(),l.presentationTimeOffset,l.startNumber,l.segmentInfoType)}(function(){for(var e=0,t=h.length;e<t;e++){var n=h[e].segmentInfoType;if(null===h[e].segmentAvailabilityRange||!d.default.hasInitialization(h[e])||(n===a.default.SEGMENT_BASE||n===a.default.BASE_URL)&&!h[e].segments)return!1}return!0})()&&(f=!1,g.setPlaybackQuality(S.getType(),S.getStreamInfo(),(n=p,h.indexOf(n))),_.updateManifestUpdateInfo(y,{latency:p.segmentAvailabilityRange.end-v.getTime()}),T.getCurrentRepresentationSwitch(m)||I(),t.trigger(u.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p}))}}function O(e){e.isDynamic&&function(e){for(var t=void 0,n=0,r=h.length;n<r;n++)(t=h[n]).segmentAvailabilityRange=E.calcSegmentAvailabilityRange(t,e)}(e.isDynamic)}function P(e){e.sender.getStreamProcessor()===S&&(w.getValue().doNotUpdateDVRWindowOnBufferUpdated||D())}function q(e){if(e.mediaType===S.getType()&&S.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality){p=M(e.newQuality);var t=g.getThroughputHistory().getAverageThroughput(e.mediaType);isNaN(t)||y.setSavedBitrateSettings(e.mediaType,t),I()}}function F(e){if(e.newDuration){var t=C();if(t&&t.adaptation.period)t.adaptation.period.duration=e.newDuration}}return n={initialize:function(){m=S.getIndexHandler()},setConfig:function(e){e.abrController&&(g=e.abrController),e.domStorage&&(y=e.domStorage),e.metricsModel&&(_=e.metricsModel),e.dashMetrics&&(T=e.dashMetrics),e.dashManifestModel&&(b=e.dashManifestModel),e.playbackController&&(v=e.playbackController),e.timelineConverter&&(E=e.timelineConverter),e.manifestModel&&(w=e.manifestModel),e.streamProcessor&&(S=e.streamProcessor)},getData:function(){return r},getDataIndex:function(){return c},isUpdating:R,updateData:function(e,n,o){var a=S.getStreamInfo(),s=g.getTopQualityIndexFor(o,a.id),l=g.getMinAllowedIndexFor(o),d=void 0,v=null;if(f=!0,t.trigger(u.default.DATA_UPDATE_STARTED,{sender:this}),h=function(e){return c=b.getIndexForAdaptation(r,e.period.mpd.manifest,e.period.index),b.getRepresentationsForAdaptation(e)}(n),null!==r&&r.id==e.id||o===i.default.FRAGMENTED_TEXT?d=g.getQualityFor(o,a):(v=g.getThroughputHistory().getAverageThroughput(o)||g.getInitialBitrateFor(o,a),d=g.getQualityForBitrate(S.getMediaInfo(),v)),void 0!==l&&d<l&&(d=l),d>s&&(d=s),p=M(d),r=e,o!==i.default.VIDEO&&o!==i.default.AUDIO&&o!==i.default.FRAGMENTED_TEXT)return f=!1,void t.trigger(u.default.DATA_UPDATE_COMPLETED,{sender:this,data:r,currentRepresentation:p});for(var _=0;_<h.length;_++)m.updateRepresentation(h[_],!0)},getStreamProcessor:function(){return S},getCurrentRepresentation:C,getRepresentationForQuality:M,reset:function(){t.off(u.default.QUALITY_CHANGE_REQUESTED,q,n),t.off(u.default.REPRESENTATION_UPDATED,N,n),t.off(u.default.WALLCLOCK_TIME_UPDATED,O,n),t.off(u.default.BUFFER_LEVEL_UPDATED,P,n),t.off(u.default.MANIFEST_VALIDITY_CHANGED,F,n),A()}},A(),t.on(u.default.QUALITY_CHANGE_REQUESTED,q,n),t.on(u.default.REPRESENTATION_UPDATED,N,n),t.on(u.default.WALLCLOCK_TIME_UPDATED,O,n),t.on(u.default.BUFFER_LEVEL_UPDATED,P,n),t.on(u.default.MANIFEST_VALIDITY_CHANGED,F,n),n}f.__dashjs_factory_name="RepresentationController",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(15)),a=r(n(20)),s=r(n(6)),l=n(9),u=r(n(5)),c=r(n(3)),d=r(n(7)),f=r(n(1)),h=r(n(4)),p=r(n(18)),g=r(n(70)),m=n(22),v=r(n(234)),_=r(n(108)),y=r(n(239));function E(e){e=e||{};var t,n=this.context,r=(0,c.default)(n).getInstance(),f=(0,p.default)(n).getInstance(),E=void 0,b=e.timelineConverter,T=e.dashMetrics,S=e.metricsModel,w=e.mediaPlayerModel,R=e.errHandler,C=e.baseURLController,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0;function P(){return N?N.getType():null}function q(){var e=N?N.getStreamInfo():null;return e?e.manifestInfo.isDynamic:null}function F(){return N?N.getMediaInfo():null}function L(){D=-1}function k(){L(),x=0,M=null,N=null,O=null}function U(e,t,n){var r=C.resolve(n.path),i=void 0,o=void 0;return r&&t!==r.url&&f.isRelative(t)?(i=r.url,o=r.serviceLocation,t&&(i=f.resolve(t,i))):i=t,!f.isRelative(i)&&(e.url=i,e.serviceLocation=o,!0)}function B(e){var t=!1,n=q();if(n||D!==e.availableSegmentsNumber){var r=(0,m.getSegmentByIndex)(D,e);if(r){var i=parseFloat((r.presentationStartTime-e.adaptation.period.start).toFixed(5)),a=e.adaptation.period.duration;I.debug(e.segmentInfoType+": "+i+" / "+a),t=(e.segmentInfoType!==o.default.SEGMENT_TIMELINE||!n)&&i>=a}else I.debug("isMediaFinished - no segment found")}else t=!0;return t}function H(e){O.getSegments(e,M,D,G)}function G(e,t){if(e.segments=t,t&&t.length>0&&q()){var n=t[t.length-1].presentationStartTime,r=S.getMetricsFor(i.default.STREAM);b.setExpectedLiveEdge(n),S.updateManifestUpdateInfo(T.getCurrentManifestUpdate(r),{presentationStartTime:n})}}function j(e){if(!e)throw new Error("no representation");e.segments=null,H(e)}function z(e,t,n){var r=t.segments,i=r?r.length:null,o=-1,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;if(r&&i>0)for(n=null==n?w.getSegmentOverlapToleranceTime():n,c=0;c<i;c++)if(l=(s=r[c]).presentationStartTime,u=s.duration,e+(a=null==n?u/2:n)>=l&&e-a<l+u){o=s.availabilityIdx;break}return o}function Y(e){if(null==e)return null;var t=new a.default,n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,m.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,m.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,m.replaceTokenForTemplate)(i,"Bandwidth",r),i=(0,m.replaceIDForTemplate)(i,n.id),i=(0,m.unescapeDollarsInTemplate)(i),t.mediaType=P(),t.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=F(),t.adaptationIndex=n.adaptation.index,t.representationId=n.id,U(t,i,n)?t:void 0}function V(e){var t=e.representation;t.segments&&r.trigger(u.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function K(e){if(!e.error&&P()===e.mediaType){var t,n=e.segments,i=e.representation,o=[],a=0,s=void 0,l=void 0,c=void 0;for(s=0,t=n.length;s<t;s++)l=n[s],c=(0,m.getTimeBasedSegment)(b,q(),i,l.startTime,l.duration,l.timescale,l.media,l.mediaRange,a),o.push(c),c=null,a++;i.segmentAvailabilityRange={start:o[0].presentationStartTime,end:o[t-1].presentationStartTime},i.availableSegmentsNumber=t,G(i,o),g.default.hasInitialization(i)&&r.trigger(u.default.REPRESENTATION_UPDATED,{sender:this,representation:i})}}return A={initialize:function(t){N=t,E.initialize(),O=(0,v.default)(n).create(e,q())},getStreamProcessor:function(){return N},getInitRequest:function(e){return e?function(e,t){var n=new a.default,r=e.adaptation.period,i=r.start,o=q();if(n.mediaType=t,n.type=l.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,n.availabilityStartTime=b.calcAvailabilityStartTimeFromPresentationTime(i,r.mpd,o),n.availabilityEndTime=b.calcAvailabilityEndTimeFromPresentationTime(i+r.duration,r.mpd,o),n.quality=e.index,n.mediaInfo=F(),n.representationId=e.id,U(n,e.initialization,e))return n}(e,P()):null},getSegmentRequestForTime:function(e,t,n){var r=void 0;if(!e)return null;var i=P(),s=D,l=!!n&&n.keepIdx,u=n?n.timeThreshold:null,c=!(!n||!n.ignoreIsFinished);return M!==t&&(M=t,I.debug("Getting the request for "+i+" time : "+t)),H(e),(D=z(t,e,u))<0&&(H(e),D=z(t,e,u)),D>=0&&I.debug("Index for "+i+" time "+t+" is "+D),!c&&B(e)?((r=new a.default).action=a.default.ACTION_COMPLETE,r.index=D,r.mediaType=i,r.mediaInfo=F(),I.debug("Signal complete in getSegmentRequestForTime -",i)):r=Y((0,m.getSegmentByIndex)(D,e)),l&&s>=0&&(D=e.segmentInfoType===o.default.SEGMENT_TIMELINE&&q()?D:s),r},getNextSegmentRequest:function(e){var t=void 0,n=void 0;if(!e||-1===D)return null;var r=P(),i=q();return M=null,D++,I.debug("Getting the next request at index: "+D+", type: "+r),!(0,m.getSegmentByIndex)(D,e)&&i?(I.debug("No segment found at index: "+D+". Wait for next loop"),H(e),D--,null):(B(e)?((t=new a.default).action=a.default.ACTION_COMPLETE,t.index=D,t.mediaType=r,t.mediaInfo=F(),I.debug("Signal complete -",r)):(H(e),t=Y(n=(0,m.getSegmentByIndex)(D,e)),!n&&i&&D--),t)},updateRepresentation:function(e,t){var n=g.default.hasInitialization(e),i=g.default.hasSegments(e),o=void 0;if(e.segmentDuration||e.segments||j(e),e.segmentAvailabilityRange=b.calcSegmentAvailabilityRange(e,q()),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return o=new s.default(d.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,d.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void r.trigger(u.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:o});t||L(),e.segmentDuration&&j(e),n||E.loadInitialization(e),i||E.loadSegments(e,P(),e.indexRange),n&&i&&r.trigger(u.default.REPRESENTATION_UPDATED,{sender:this,representation:e})},updateSegmentList:j,setCurrentTime:function(e){x=e},getCurrentTime:function(){return x},reset:function(){k(),r.off(u.default.INITIALIZATION_LOADED,V,A),r.off(u.default.SEGMENTS_LOADED,K,A)},resetIndex:L},I=(0,h.default)(n).getInstance().getLogger(A),k(),t=e.mimeType,(E="webm"===t.split("/")[1].toLowerCase()?(0,y.default)(n).getInstance():(0,_.default)(n).getInstance()).setConfig({baseURLController:C,metricsModel:S,mediaPlayerModel:w,errHandler:R}),r.on(u.default.INITIALIZATION_LOADED,V,A),r.on(u.default.SEGMENTS_LOADED,K,A),A}E.__dashjs_factory_name="DashHandler",t.default=f.default.getClassFactory(E),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(15)),o=r(n(1)),a=r(n(235)),s=r(n(236)),l=r(n(237));function u(e,t){var n,r=this.context,o=void 0,u=void 0,c=void 0;return n={getSegments:function(e,t,n,r,a){var s=void 0,l=e.segmentInfoType;l!==i.default.SEGMENT_BASE&&l!==i.default.BASE_URL&&function(e,t){var n=e.segments,r=!1,i=void 0,o=void 0;n&&0!==n.length?(o=n[0].availabilityIdx,i=n[n.length-1].availabilityIdx,r=t<o||t>i):r=!0;return r}(e,n)?(l===i.default.SEGMENT_TIMELINE?s=o.getSegments(e,t,n,a):l===i.default.SEGMENT_TEMPLATE?s=u.getSegments(e,t,n,a):l===i.default.SEGMENT_LIST&&(s=c.getSegments(e,t,n,a)),r&&r(e,s)):s=e.segments}},o=(0,a.default)(r).create(e,t),u=(0,s.default)(r).create(e,t),c=(0,l.default)(r).create(e,t),n}u.__dashjs_factory_name="SegmentsGetter";var c=o.default.getClassFactory(u);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(2)),a=n(22);function s(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,s){if(function(){if(!n||!n.hasOwnProperty("calcMediaTimeFromPresentationTime")||!n.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(o.default.MISSING_CONFIG_ERROR)}(),!e)throw new Error("no representation");void 0===r&&(r=null);var l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=l.SegmentTimeline,c=l.SegmentURL_asArray,d=e.availableSegmentsNumber>0,f=void 0;f=s||(i>-1||null!==r?10:1/0);var h,p,g,m=0,v=0,_=-1,y=[],E=null,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=function(r,i){var o=l.media,s=r.mediaRange;return c&&(o=c[i].media||"",s=c[i].mediaRange),(0,a.getTimeBasedSegment)(n,t,e,m,r.d,I,o,s,_,r.tManifest)};for(I=e.timescale,h=u.S_asArray,g=i,null!==r&&(E=n.calcMediaTimeFromPresentationTime(r,e)),T=0,p=h.length;T<p;T++){if(w=0,(b=h[T]).hasOwnProperty("r")&&(w=b.r),b.hasOwnProperty("t")&&(v=(m=b.t)/I),w<0){if((C=h[T+1])&&C.hasOwnProperty("t"))R=C.t/I;else{var M=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end;R=n.calcMediaTimeFromPresentationTime(M,e),e.segmentDuration=b.d/I}w=Math.ceil((R-v)/(b.d/I))-1}if(A){if(d)break;_+=w+1}else for(S=0;S<=w;S++)if(_++,y.length>f){if(A=!0,d)break}else null!==E?v>=E-b.d/I*1.5&&y.push(D(b,_)):_>=g&&y.push(D(b,_)),v=(m+=b.d)/I}return d||(e.availableSegmentsNumber=_+1),y}}}s.__dashjs_factory_name="TimelineSegmentsGetter";var l=i.default.getClassFactory(s);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(22);function s(e,t){var n=e.timelineConverter;return{getSegments:function(e,r,i,o){var s,l,u,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,d=e.segmentDuration,f=e.segmentAvailabilityRange,h=[],p=null,g=null,m=void 0,v=void 0;for(u=e.startNumber,s=(m=isNaN(d)&&!t?{start:u,end:u}:(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o)).start,l=m.end,v=s;v<=l;v++)(g=(0,a.getIndexBasedSegment)(n,t,e,v)).replacementTime=(u+v-1)*e.segmentDuration,p=c.media,p=(0,a.replaceTokenForTemplate)(p,"Number",g.replacementNumber),p=(0,a.replaceTokenForTemplate)(p,"Time",g.replacementTime),g.media=p,h.push(g),g=null;return isNaN(d)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/d),h}}}s.__dashjs_factory_name="TemplateSegmentsGetter";var l=o.default.getClassFactory(s);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(22);function s(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,o){var s,l,u,c,d=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=d.SegmentURL_asArray.length,h=[],p=void 0,g=void 0,m=void 0;for(c=e.startNumber,s=(0,a.decideSegmentListRangeForTemplate)(n,t,e,r,i,o),l=Math.max(s.start,0),u=Math.min(s.end,d.SegmentURL_asArray.length-1),p=l;p<=u;p++)m=d.SegmentURL_asArray[p],(g=(0,a.getIndexBasedSegment)(n,t,e,p)).replacementTime=(c+p-1)*e.segmentDuration,g.media=m.media?m.media:"",g.mediaRange=m.mediaRange,g.index=m.index,g.indexRange=m.indexRange,h.push(g),g=null;return e.availableSegmentsNumber=f,h}}}s.__dashjs_factory_name="ListSegmentsGetter";var l=o.default.getClassFactory(s);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).requestModifier,n=e.boxParser;function r(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function i(e,t){if((e=e.filter((function(n){return n.bytes>t/4/e.length}))).length>1){var n=(r=0,i=(e[e.length-1].ts-e[0].ts)/e.length,e.forEach((function(t,n){var o=e[n+1];if(o){var a=o.ts-t.ts;r+=a<i?a:0}})),{v:r});if("object"==typeof n)return n.v}var r,i;return null}return{load:function(e){var o=new Date,a=e.request,s=new Headers;a.range&&s.append("Range","bytes="+a.range),a.requestStartDate||(a.requestStartDate=o),t&&t.modifyRequestHeader({setRequestHeader:function(e,t){s.append(e,t)}});var l=void 0;"function"==typeof window.AbortController&&(l=new AbortController,e.abortController=l);var u={method:e.method,headers:s,credentials:e.withCredentials?"include":void 0,signal:l?l.signal:void 0};fetch(e.url,u).then((function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var o="",a=!0,s=!1,l=void 0;try{for(var u,c=t.headers.keys()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;o+=d+": "+t.headers.get(d)+"\n"}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}if(e.response.responseHeaders=o,!t.body)return t.arrayBuffer().then((function(t){e.response.response=t;var n={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(n),e.onload(),e.onend()}));var f=parseInt(t.headers.get("Content-Length"),10),h=0,p=!1,g=new Uint8Array,m=0;e.reader=t.body.getReader();var v=[];r(e,(function t(o){var a=o.value;if(o.done)return g&&(e.progress({loaded:h,total:isNaN(f)?h:f,lengthComputable:!0,time:i(v,h),stream:!0}),e.response.response=g.buffer),e.onload(),void e.onend();if(a&&a.length>0){g=function(e,t){if(0===e.length)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(g,a),h+=a.length,v.push({ts:Date.now(),bytes:a.length});var s=n.findLastTopIsoBoxCompleted(["moov","mdat"],g,m);if(s.found){var l=s.lastCompletedOffset+s.size,u=void 0;l===g.length?(u=g,g=new Uint8Array):(u=new Uint8Array(g.subarray(0,l)),g=g.subarray(l)),e.progress({data:u.buffer,lengthComputable:!1,noTrace:!0}),m=0}else m=s.lastCompletedOffset,p||(e.progress({lengthComputable:!1,noTrace:!0}),p=!0)}r(e,t)}))})).catch((function(t){e.onerror&&e.onerror(t)}))},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel()}catch(e){}},calculateDownloadedTime:i}}a.__dashjs_factory_name="FetchLoader";var s=o.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5)),o=r(n(3)),a=r(n(240)),s=r(n(2)),l=r(n(1)),u=r(n(4)),c=r(n(45)),d=r(n(69)),f=n(9),h=r(n(20)),p=r(n(36)),g=r(n(6)),m=r(n(7));function v(){var e=this.context,t=(0,o.default)(e).getInstance(),n=void 0,r=void 0,l=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0;function S(t,n,i,o){var s,u,c=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;for(f=[],p=0,u=(s=function(t){var n=[],r=void 0,i=void 0,o=(0,a.default)(e).create({data:t});for(o.consumeTagAndSize(l.Segment.Cues);o.moreData()&&o.consumeTagAndSize(l.Segment.Cues.CuePoint,!0);){for((r={}).CueTime=o.parseTag(l.Segment.Cues.CuePoint.CueTime),r.CueTracks=[];o.moreData()&&o.consumeTag(l.Segment.Cues.CuePoint.CueTrackPositions,!0);){var s=o.getMatroskaCodedNum(),u=o.getPos();if((i={}).Track=o.parseTag(l.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(l.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),r.CueTracks.push(i),o.setPos(u+s)}if(0===r.CueTracks.length)throw new Error("Mandatory cuetrack not found");n.push(r)}if(0===n.length)throw new Error("mandatory cuepoint not found");return n}(t)).length;p<u;p+=1)h=new d.default,c=0,c=p<s.length-1?s[p+1].CueTime-s[p].CueTime:o-s[p].CueTime,h.duration=c,h.startTime=s[p].CueTime,h.timescale=1e3,g=s[p].CueTracks[0].ClusterPosition+n,m=p<s.length-1?s[p+1].CueTracks[0].ClusterPosition+n-1:i-1,h.mediaRange=g+"-"+m,f.push(h);return r.debug("Parsed cues: "+f.length+" cues."),f}function w(){if(!T||!T.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function R(e,n,r){e?t.trigger(i.default.SEGMENTS_LOADED,{segments:e,representation:n,mediaType:r}):t.trigger(i.default.SEGMENTS_LOADED,{segments:null,representation:n,mediaType:r,error:new g.default(m.default.SEGMENT_BASE_LOADER_ERROR_CODE,m.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function C(e){var t=new h.default;return t.type=e.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}return n={setConfig:function(e){if(!(e.baseURLController&&e.metricsModel&&e.mediaPlayerModel&&e.errHandler))throw new Error(s.default.MISSING_CONFIG_ERROR);T=e.baseURLController,y=e.metricsModel,E=e.mediaPlayerModel,v=e.errHandler},initialize:function(){_=(0,c.default)(e).getInstance(),b=(0,p.default)(e).create({errHandler:v,metricsModel:y,mediaPlayerModel:E,requestModifier:_})},loadInitialization:function(e,n){w();var o=null,a=T.resolve(e.path),s=a?a.url:void 0,l=e.range.split("-"),u=n||{range:{start:parseFloat(l[0]),end:parseFloat(l[1])},request:o,url:s,init:!0};r.info("Start loading initialization."),o=C(u),b.load({request:o,success:function(){t.trigger(i.default.INITIALIZATION_LOADED,{representation:e})},error:function(){t.trigger(i.default.INITIALIZATION_LOADED,{representation:e})}}),r.debug("Perform init load: "+u.url)},loadSegments:function(t,n,i,o){w();var s=null,u=T.resolve(t.path),c=u?u.url:void 0;o=o||R,s=C({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:s,url:c,init:!1}),r.debug("Parsing ebml header"),b.load({request:s,success:function(s){!function(t,n,i,o){var s,u=(0,a.default)(e).create({data:t}),c=void 0,d=void 0,f=i.split("-"),h=null,p={url:n,range:{start:parseFloat(f[0]),end:parseFloat(f[1])},request:h},g=void 0;for(r.debug("Parse EBML header: "+p.url),u.skipOverElement(l.EBML),u.consumeTag(l.Segment),g=u.getMatroskaCodedNum(),g+=u.getPos(),s=u.getPos();u.moreData()&&!u.consumeTagAndSize(l.Segment.Info,!0);)if(!(u.skipOverElement(l.Segment.SeekHead,!0)||u.skipOverElement(l.Segment.Tracks,!0)||u.skipOverElement(l.Segment.Cues,!0)||u.skipOverElement(l.Void,!0)))throw new Error("no valid top level element found");for(;void 0===c;){var m=u.getMatroskaCodedNum(!0),v=u.getMatroskaCodedNum();switch(m){case l.Segment.Info.Duration.tag:c=u[l.Segment.Info.Duration.parse](v);break;default:u.setPos(u.getPos()+v)}}h=C(p),b.load({request:h,success:function(e){d=S(e,s,g,c),o(d)},error:function(){r.error("Download Error: Cues "+p.url),o(null)}}),r.debug("Perform cues load: "+p.url+" bytes="+p.range.start+"-"+p.range.end)}(s,c,i,(function(e){o(e,t,n)}))},error:function(){o(null,t,n)}})},reset:function(){v=null,_=null}},r=(0,u.default)(e).getInstance().getLogger(n),l={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},n}v.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=l.default.getSingletonFactory(v),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=new DataView(e.data),r=0;function i(e,t){var i=!0,o=0;if(void 0===t&&(t=!1),e.tag>16777215?(n.getUint32(r)!==e.tag&&(i=!1),o=4):e.tag>65535?(256*n.getUint16(r)+n.getUint8(r+2)!==e.tag&&(i=!1),o=3):e.tag>255?(n.getUint16(r)!==e.tag&&(i=!1),o=2):(n.getUint8(r)!==e.tag&&(i=!1),o=1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(r+=o),i}function o(e){var t=1,i=128,o=-1,a=0,s=n.getUint8(r),l=0;for(l=0;l<8;l+=1){if((s&i)===i){a=void 0===e?s&~i:s,o=l;break}i>>=1}for(l=0;l<o;l+=1,t+=1)a=a<<8|255&n.getUint8(r+t);return r+=t,a}return t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:i,consumeTagAndSize:function(e,t){var n=i(e,t);return n&&o(),n},parseTag:function(e){var n;return i(e),n=o(),t[e.parse](n)},skipOverElement:function(e,t){var n=i(e,t),a=void 0;return n&&(a=o(),r+=a),n},getMatroskaCodedNum:o,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:function(e){for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&n.getUint8(r+i);return r+=e,t},moreData:function(){return r<n.byteLength}}}a.__dashjs_factory_name="EBMLParser",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4)),a=r(n(3)),s=r(n(5)),l=r(n(71));function u(){var e=this.context,t=(0,a.default)(e).getInstance(),n=void 0,r=void 0,i=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;function v(){m=!1,i={},u={},c={},d=null,f=100,h=Date.now()/1e3}function _(){if(!p||!g)throw new Error("setConfig function has to be called previously")}function y(){null!==d&&m&&(clearInterval(d),d=null,m=!1)}function E(e){if(1==e.eventStream.value){var n=e.eventStream.timescale||1,i=e.presentationTime/n,o=void 0;o=4294967295==e.presentationTime?NaN:(e.presentationTime+e.duration)/n,r.info("Manifest validity changed: Valid until: "+i+"; remaining duration: "+o),t.trigger(s.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:i,newDuration:o,newManifestValidAfter:NaN})}}function b(){var e=g.getTime(),t=e-h;h=e,T(u,t,e),T(i,t,e),function(){if(c)for(var e=g.getTime(),t=Object.keys(c),n=0;n<t.length;n++){var i=t[n],o=c[i];null!==o&&(o.duration+o.presentationTime)/o.eventStream.timescale<e&&(r.debug("Remove Event "+i+" at time "+e),o=null,delete c[i])}}()}function T(n,i,o){var a,s;if(n)for(var u=Object.keys(n),d=0;d<u.length;d++){var f=u[d],h=n[f];void 0!==h&&(0===(a=h.presentationTime/h.eventStream.timescale)||a<=o&&a+i>o)&&(r.debug("Start Event "+f+" at "+o),h.duration>0&&(c[f]=h),"urn:mpeg:dash:event:2012"==h.eventStream.schemeIdUri&&1==h.eventStream.value?0===h.duration&&0===h.presentationTimeDelta||(_(),p.refreshManifest()):"urn:mpeg:dash:event:callback:2015"==h.eventStream.schemeIdUri&&1==h.eventStream.value?(s=h.messageData,(0,l.default)(e).create({}).load({method:"get",url:s,request:{responseType:"arraybuffer"}})):t.trigger(h.eventStream.schemeIdUri,{event:h}),delete n[f])}}return n={addInlineEvents:function(e){if(_(),i={},e)for(var t=0;t<e.length;t++){var n=e[t];i[n.id]=n,r.debug("Add inline event with id "+n.id)}r.debug("Added "+e.length+" inline events")},addInbandEvents:function(e){_();for(var t=0;t<e.length;t++){var n=e[t];n.id in u?r.debug("Repeated event with id "+n.id):("urn:mpeg:dash:event:2012"===n.eventStream.schemeIdUri&&void 0===u[n.id]&&E(n),u[n.id]=n,r.debug("Add inband event with id "+n.id))}},stop:y,start:function(){_(),r.debug("Start Event Controller"),m||isNaN(f)||(m=!0,d=setInterval(b,f))},setConfig:function(e){e&&(e.manifestUpdater&&(p=e.manifestUpdater),e.playbackController&&(g=e.playbackController))},reset:function(){y(),v()}},r=(0,o.default)(e).getInstance().getLogger(n),v(),n}u.__dashjs_factory_name="EventController",t.default=i.default.getClassFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=n(9),a=r(n(243)),s=r(n(38)),l=r(n(244)),u=r(n(45)),c=r(n(3)),d=r(n(5)),f=r(n(1)),h=r(n(4));function p(e){e=e||{};var t=this.context,n=(0,c.default)(t).getInstance(),r=e.errHandler,f=e.mediaPlayerModel,p=e.metricsModel,g=void 0,m=void 0,v=void 0;function _(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function y(){for(var e in v)v[e].reset();v={}}function E(e){if(v[e.request.mediaType]===e.sender){var t=e.request,r=e.response,o=_(t),s=t.mediaInfo.streamInfo;if(e.error&&(e.request.mediaType!==i.default.AUDIO&&e.request.mediaType!==i.default.VIDEO&&e.request.mediaType!==i.default.FRAGMENTED_TEXT||n.trigger(d.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),r&&s){var l=function(e,t,n,r){var i=new a.default;return i.streamId=n,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=r,i}(r,t,s.id,e.type!==d.default.FRAGMENT_LOADING_PROGRESS);n.trigger(o?d.default.INIT_FRAGMENT_LOADED:d.default.MEDIA_FRAGMENT_LOADED,{chunk:l,fragmentModel:e.sender})}else m.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return g={getModel:function(e){var n=v[e];return n||(n=(0,s.default)(t).create({metricsModel:p,fragmentLoader:(0,l.default)(t).create({metricsModel:p,mediaPlayerModel:f,errHandler:r,requestModifier:(0,u.default)(t).getInstance()})}),v[e]=n),n},isInitializationRequest:_,reset:function(){n.off(d.default.FRAGMENT_LOADING_COMPLETED,E,this),n.off(d.default.FRAGMENT_LOADING_PROGRESS,E,this),y()}},m=(0,h.default)(t).getInstance().getLogger(g),y(),n.on(d.default.FRAGMENT_LOADING_COMPLETED,E,g),n.on(d.default.FRAGMENT_LOADING_PROGRESS,E,g),g}p.__dashjs_factory_name="FragmentController",t.default=f.default.getClassFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(36)),o=r(n(245)),a=r(n(6)),s=r(n(3)),l=r(n(34)),u=r(n(5)),c=r(n(7)),d=r(n(1));function f(e){e=e||{};var t,n=this.context,r=(0,s.default)(n).getInstance(),d=void 0,f=void 0;return d={checkForExistence:function(e){var t=function(t){r.trigger(u.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new o.default(e.url);f.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var t=function(t,n){r.trigger(u.default.LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:d})};e?f.load({request:e,progress:function(t){r.trigger(u.default.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&r.trigger(u.default.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:d})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new a.default(c.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,n))},abort:function(e){e&&r.trigger(u.default.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:d})}}):t(void 0,new a.default(c.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,c.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){f&&f.abort()},reset:function(){f&&(f.abort(),f=null)}},t=(0,l.default)(n).getInstance(),f=(0,i.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,boxParser:t,useFetch:e.mediaPlayerModel.getLowLatencyEnabled()}),d}f.__dashjs_factory_name="FragmentLoader",t.default=d.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(20),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(2)),a=r(n(247)),s=r(n(109)),l=r(n(106)),u=n(22);function c(e){var t,n=this.context,r=void 0;function i(){r&&r.reset()}return t={get:function(e,t){var n=r.getCurrentTrack();if(!n||n.segmentDuration<=0||null==e)return null;var i=Math.floor(e/n.segmentDuration),o=e%n.segmentDuration,s=Math.floor(o*n.tilesHor*n.tilesVert/n.segmentDuration),l=new a.default;return l.width=Math.floor(n.widthPerTile),l.height=Math.floor(n.heightPerTile),l.x=Math.floor(s%n.tilesHor)*n.widthPerTile,l.y=Math.floor(s/n.tilesHor)*n.heightPerTile,"readThumbnail"in n?n.readThumbnail(e,(function(e){l.url=e,t&&t(l)})):(l.url=function(e,t){var n=t+e.startNumber,r=(0,u.replaceTokenForTemplate)(e.templateUrl,"Number",n);return r=(0,u.replaceTokenForTemplate)(r,"Time",(n-1)*e.segmentDuration),r=(0,u.replaceTokenForTemplate)(r,"Bandwidth",e.bandwidth),(0,u.unescapeDollarsInTemplate)(r)}(n,i),t&&t(l),l)},setTrackByIndex:function(e){r.setTrackByIndex(e)},getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:function(){var e=r.getTracks(),t=0;return e.map((function(e){var n=new l.default;return n.mediaType=o.default.IMAGE,n.qualityIndex=t++,n.bitrate=e.bitrate,n.width=e.width,n.height=e.height,n}))},reset:i},i(),r=(0,s.default)(n).create({dashManifestModel:e.dashManifestModel,adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream,timelineConverter:e.timelineConverter}),t}c.__dashjs_factory_name="ThumbnailController",t.default=i.default.getClassFactory(c),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1)),s=r(n(4)),l=r(n(7));function u(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0,r=void 0,a=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0;function v(){a=NaN,d=!1,c=!0,_()}function _(){null!==u&&(clearInterval(u),u=null)}function y(e){_(),isNaN(e)&&!isNaN(a)&&(e=1e3*a),isNaN(e)||(r.debug("Refresh manifest in "+e+" milliseconds."),u=setTimeout(T,e))}function E(){d=!0;var e=h.getValue(),t=e.url,n=p.getLocation(e);n&&(t=n),f.load(t)}function b(e){h.setValue(e);var n=new Date,i=(n.getTime()-e.loadedTime.getTime())/1e3;1e3*(a=p.getManifestUpdatePeriod(e,i))>2147483647&&(a=2147483.647),t.trigger(o.default.MANIFEST_UPDATED,{manifest:e}),r.info("Manifest has been refreshed at "+n+"["+n.getTime()/1e3+"] "),c||y()}function T(){c&&!m.getScheduleWhilePaused()||(d?y(m.getManifestUpdateRetryInterval()):E())}function S(e){e.error?e.error.code===l.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&g.error(e.error):b(e.manifest)}function w(){c=!1,y()}function R(){c=!0,_()}function C(){d=!1}return n={initialize:function(){v(),t.on(o.default.STREAMS_COMPOSED,C,this),t.on(o.default.PLAYBACK_STARTED,w,this),t.on(o.default.PLAYBACK_PAUSED,R,this),t.on(o.default.INTERNAL_MANIFEST_LOADED,S,this)},setManifest:function(e){b(e)},refreshManifest:E,setConfig:function(e){e&&(e.manifestModel&&(h=e.manifestModel),e.dashManifestModel&&(p=e.dashManifestModel),e.mediaPlayerModel&&(m=e.mediaPlayerModel),e.manifestLoader&&(f=e.manifestLoader),e.errHandler&&(g=e.errHandler))},reset:function(){t.off(o.default.PLAYBACK_STARTED,w,this),t.off(o.default.PLAYBACK_PAUSED,R,this),t.off(o.default.STREAMS_COMPOSED,C,this),t.off(o.default.INTERNAL_MANIFEST_LOADED,S,this),v()}},r=(0,s.default)(e).getInstance().getLogger(n),n}u.__dashjs_factory_name="ManifestUpdater",t.default=a.default.getClassFactory(u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(6)),a=n(9),s=r(n(3)),l=r(n(5)),u=r(n(7)),c=r(n(1)),d=r(n(4)),f=r(n(18));function h(){var e=this.context,t=(0,s.default)(e).getInstance(),n=(0,f.default)(e).getInstance(),r=void 0,c=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0;function E(e){p=e}function b(e){h=e}function T(e){var t=Date.parse(e);return isNaN(t)&&(t=function(e){var t=void 0,n=void 0,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&(parseInt(r[6],10)||0),r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]&&(n=60*parseInt(r[9],10)+parseInt(r[10],10),t+=("+"===r[8]?-1:1)*n*60*1e3),new Date(t).getTime()}(e)),t}function S(e){return Date.parse(e)}function w(e){return Date.parse(e)}function R(e,t,n){n()}function C(e,t,n){var r=T(e);isNaN(r)?n():t(r)}function A(e,t,r,i,o){var s,l,u=!1,c=new XMLHttpRequest,d=o?a.HTTPRequest.HEAD:a.HTTPRequest.GET,f=t.match(/\S+/g);if(t=f.shift(),s=function(){u||(u=!0,f.length?A(e,f.join(" "),r,i,o):i())},l=function(){var t=void 0,n=void 0;200===c.status&&(t=o?c.getResponseHeader("Date"):c.response,n=e(t),isNaN(n)||(r(n),u=!0))},n.isRelative(t)){var h=y.resolve();h&&(t=n.resolve(t,h.url))}c.open(d,t),c.timeout=5e3,c.onload=l,c.onloadend=s,c.send()}function I(e,t,n){A(w,e,t,n,!0)}function D(e,n,r){E(!1),t.trigger(l.default.TIME_SYNCHRONIZATION_COMPLETED,{time:n,offset:r,error:e?new o.default(u.default.TIME_SYNC_FAILED_ERROR_CODE,u.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}return r={initialize:function(e,t){g=t,h=0,p=!1,m={"urn:mpeg:dash:utc:http-head:2014":I,"urn:mpeg:dash:utc:http-xsdate:2014":A.bind(null,T),"urn:mpeg:dash:utc:http-iso:2014":A.bind(null,S),"urn:mpeg:dash:utc:direct:2014":C,"urn:mpeg:dash:utc:http-head:2012":I,"urn:mpeg:dash:utc:http-xsdate:2012":A.bind(null,T),"urn:mpeg:dash:utc:http-iso:2012":A.bind(null,S),"urn:mpeg:dash:utc:direct:2012":C,"urn:mpeg:dash:utc:http-ntp:2014":R,"urn:mpeg:dash:utc:ntp:2014":R,"urn:mpeg:dash:utc:sntp:2014":R},p||function e(t,n){var r=n||0,o=t[r],a=function(e,t){var n,r,o,a=!e||!t;a&&g?(n=v.getReadOnlyMetricsFor(i.default.STREAM),r=_.getLatestMPDRequestHeaderValueByID(n,"Date"),o=null!==r?new Date(r).getTime():Number.NaN,isNaN(o)?D(!0):(b(o-(new Date).getTime()),D(!1,o/1e3,h))):D(a,e,t)};E(!0),o?m.hasOwnProperty(o.schemeIdUri)?m[o.schemeIdUri](o.value,(function(e){var t=(new Date).getTime(),n=function(e,t){return e-t}(e,t);b(n),c.info("Local time: "+new Date(t)),c.info("Server time: "+new Date(e)),c.info("Server Time - Local Time (ms): "+n),a(e,n)}),(function(){e(t,r+1)})):e(t,r+1):(b(0),a())}(e)},getOffsetToDeviceTimeMs:function(){return h},setConfig:function(e){e&&(e.metricsModel&&(v=e.metricsModel),e.dashMetrics&&(_=e.dashMetrics),e.baseURLController&&(y=e.baseURLController))},reset:function(){E(!1)}},c=(0,d.default)(e).getInstance().getLogger(r),r}h.__dashjs_factory_name="TimeSyncController";var p=c.default.getSingletonFactory(h);p.HTTP_TIMEOUT_MS=5e3,c.default.updateSingletonFactory(h.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(112)),o=r(n(1)),a=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={baseUrls:t||null,selectedIdx:n||NaN},this.children=[]};function s(){var e,t=void 0,n=void 0,r=this.context,o=(0,i.default)(r).getInstance();function s(e,t,r){var i=n.getBaseURLsFromElement(r);e[t]?o.areEqual(i,e[t].data.baseUrls)||(e[t].data.baseUrls=i,e[t].data.selectedIdx=NaN):e[t]=new a(i)}function l(e){!function(){if(!n||!n.hasOwnProperty("getBaseURLsFromElement")||!n.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var r=n.getBaseURLsFromElement(e);o.areEqual(r,t.data.baseUrls)||(t.data.baseUrls=r,t.data.selectedIdx=NaN),e&&e.Period_asArray&&e.Period_asArray.forEach((function(e,r){s(t.children,r,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach((function(e,i){s(t.children[r].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(n.getRepresentationSortFunction()).forEach((function(e,n){s(t.children[r].children[i].children,n,e)}))}))}))}function u(){t=new a}return e={reset:u,update:function(e){l(e)},getForPath:function(e){var n=t,r=[n.data];return e&&e.forEach((function(e){(n=n.children[e])&&r.push(n.data)})),r.filter((function(e){return e.baseUrls.length}))},invalidateSelectedIndexes:function(e){!function e(n,r){var i=r||t;n(i.data),i.children&&i.children.forEach((function(t){return e(n,t)}))}((function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=NaN)}))},setConfig:function(e){e.dashManifestModel&&(n=e.dashManifestModel)}},u(),e}s.__dashjs_factory_name="BaseURLTreeModel",t.default=o.default.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var d=t instanceof Date,f=n instanceof Date;if(d!=f)return!1;if(d&&f)return t.getTime()==n.getTime();var h=t instanceof RegExp,p=n instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==n.toString();var g=i(t);if((s=g.length)!==i(n).length)return!1;for(a=s;0!=a--;)if(!o.call(n,g[a]))return!1;for(a=s;0!=a--;)if(!e(t[l=g[a]],n[l]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(7)),o=r(n(3)),a=r(n(5)),s=r(n(254)),l=r(n(255)),u=r(n(256)),c=r(n(1)),d=r(n(6)),f=r(n(2));function h(){var e,t=this.context,n=(0,o.default)(t).getInstance(),r=void 0,c=void 0,h=void 0,p=void 0,g=void 0;function m(){c.reset()}return e={chooseSelectorFromManifest:function(e){!function(){if(!r||!r.hasOwnProperty("getIsDVB"))throw new Error(f.default.MISSING_CONFIG_ERROR)}(),g=r.getIsDVB(e)?p:h},select:function(e){if(e){var t=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return t[r];var o=g.select(t);return o?(e.selectedIdx=t.indexOf(o),o):(n.trigger(a.default.URL_RESOLUTION_FAILED,{error:new d.default(i.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,i.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(g===h&&m()))}},reset:m,setConfig:function(e){e.selector&&(g=e.selector),e.dashManifestModel&&(r=e.dashManifestModel)}},c=(0,s.default)(t).create({updateEventName:a.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:a.default.SERVICE_LOCATION_BLACKLIST_ADD}),h=(0,u.default)(t).create({blacklistController:c}),p=(0,l.default)(t).create({blacklistController:c}),g=h,e}h.__dashjs_factory_name="BaseURLSelector",t.default=c.default.getClassFactory(h),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(3));function a(e){e=e||{};var t=[],n=(0,o.default)(this.context).getInstance(),r=e.updateEventName,i=e.addBlacklistEventName;function a(e){-1===t.indexOf(e)&&(t.push(e),n.trigger(r,{entry:e}))}function s(e){a(e.entry)}return function(){i&&n.on(i,s,this)}(),{add:a,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==t.indexOf(e)},reset:function(){t=[]}}}a.__dashjs_factory_name="BlackListController",t.default=i.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).blacklistController;return{select:function(e){return e&&function(e){var t=0,n=[],r=0,i=void 0,o=void 0;if((o=e.sort((function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n})).filter((function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority}))).length)return o.length>1&&(o.forEach((function(e){t+=e.dvb_weight,n.push(t)})),i=Math.floor(Math.random()*(t-1)),n.every((function(e,t){return r=t,!(i<e)}))),o[r]}((n=[],e.filter((function(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&n.push(e.dvb_priority),!1)})).filter((function(e){return!n.length||!e.dvb_priority||-1===n.indexOf(e.dvb_priority)}))));var n}}}a.__dashjs_factory_name="DVBSelector",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n=0,r=void 0;return e&&e.some((function(e,r){return n=r,!t.contains(e.serviceLocation)}))&&(r=e[n]),r}}}a.__dashjs_factory_name="BasicSelector",t.default=o.default.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4));function a(){var e=void 0,t=void 0,n=this.context;return e={createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&t>=0&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){var n=e.sourceBuffers,r=n.length;if("open"===e.readyState){for(var i=0;i<r;i++){if(n[i].updating)return;if(0===n[i].buffered.length)return}t.info("call to mediaSource endOfStream"),e.endOfStream()}}},t=(0,o.default)(n).getInstance().getLogger(e),e}a.__dashjs_factory_name="MediaSourceController",t.default=i.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(259)),a=r(n(36)),s=r(n(18)),l=r(n(114)),u=r(n(6)),c=n(9),d=r(n(3)),f=r(n(5)),h=r(n(7)),p=r(n(1)),g=r(n(261)),m=r(n(4));function v(e){e=e||{};var t=this.context,n=(0,d.default)(t).getInstance(),r=(0,s.default)(t).getInstance(),p=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=e.mssHandler,T=e.errHandler;function S(e){n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return p={load:function(e){var o=new l.default(e,c.HTTPRequest.MPD_TYPE);_.load({request:o,success:function(o,a,s){if(y){var l=void 0,c=void 0,d=void 0;if(s&&s!==e?(c=r.parseBaseUrl(s),l=s):(r.isRelative(e)&&(e=r.resolve(e,window.location.href)),c=r.parseBaseUrl(e)),null===E&&(E=function(e){var n=null;return e.indexOf("SmoothStreamingMedia")>-1?(b&&(n=b.createMssParser(),b.registerEvents()),n):e.indexOf("MPD")>-1?(0,g.default)(t).create():n}(o)),null!==E){y.setMatchers(E.getMatchers()),y.setIron(E.getIron());try{d=E.parse(o)}catch(t){return void n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}d?(d.url=l||e,d.originalUrl||(d.originalUrl=d.url),d.hasOwnProperty(i.default.LOCATION)&&(c=r.parseBaseUrl(d.Location_asArray[0]),v.debug("BaseURI set by Location to: "+c)),d.baseUri=c,d.loadedTime=new Date,y.resolveManifestOnLoad(d)):n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}else n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:function(t,r,i){n.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(h.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,h.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(e+", ")+i)})}})},reset:function(){n.off(f.default.XLINK_READY,S,p),y&&(y.reset(),y=null),_&&(_.abort(),_=null),b&&b.reset()}},v=(0,m.default)(t).getInstance().getLogger(p),n.on(f.default.XLINK_READY,S,p),_=(0,a.default)(t).create({errHandler:T,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),y=(0,o.default)(t).create({errHandler:T,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),E=null,p}v.__dashjs_factory_name="ManifestLoader";var _=p.default.getClassFactory(v);t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(260)),o=r(n(3)),a=r(n(5)),s=r(n(1)),l=r(n(115)),u=r(n(18)),c=r(n(15));function d(e){e=e||{};var t=this.context,n=(0,o.default)(t).getInstance(),r=(0,u.default)(t).getInstance(),s=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0;function m(e,t,n){var i={},o=void 0,a=void 0;i.elements=e,i.type=t,i.resolveType=n,0===i.elements.length&&_(i);for(var s=0;s<i.elements.length;s++)o=i.elements[s],a=r.isHTTPURL(o.url)?o.url:o.originalContent.BaseURL+o.url,g.load(a,o,i)}function v(e){var t,n=void 0,r="";if(n=e.element,t=e.resolveObject,n.resolvedContent){var i=0;0===n.resolvedContent.indexOf("<?xml")&&(i=n.resolvedContent.indexOf("?>")+2),r=n.resolvedContent.substr(0,i)+"<response>"+n.resolvedContent.substr(i)+"</response>",n.resolvedContent=p.xml_str2json(r)}(function(e){var t=void 0;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0})(t)&&_(t)}function _(e){var t=[],r=void 0,i=void 0;if(function(e){var t=[],n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;for(o=e.elements.length-1;o>=0;o--){if(n=e.elements[o],r=n.type+"_asArray",n.resolvedContent){if(n.resolvedContent)for(a=0;a<n.resolvedContent[r].length;a++)i=n.resolvedContent[r][a],t.push(i)}else delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);for(n.parentElement[r].splice(n.index,1),s=0;s<t.length;s++)n.parentElement[r].splice(n.index+s,0,t[s]);t=[]}e.elements.length>0&&f.run(h)}(e),"onActuate"===e.resolveType&&n.trigger(a.default.XLINK_READY,{manifest:h}),"onLoad"===e.resolveType)switch(e.type){case c.default.PERIOD:for(r=0;r<h[c.default.PERIOD+"_asArray"].length;r++)(i=h[c.default.PERIOD+"_asArray"][r]).hasOwnProperty(c.default.ADAPTATION_SET+"_asArray")&&(t=t.concat(y(i[c.default.ADAPTATION_SET+"_asArray"],i,c.default.ADAPTATION_SET,"onLoad"))),i.hasOwnProperty(c.default.EVENT_STREAM+"_asArray")&&(t=t.concat(y(i[c.default.EVENT_STREAM+"_asArray"],i,c.default.EVENT_STREAM,"onLoad")));m(t,c.default.ADAPTATION_SET,"onLoad");break;case c.default.ADAPTATION_SET:n.trigger(a.default.XLINK_READY,{manifest:h})}}function y(e,t,n,r){var i=[],o=void 0,a=void 0,s=void 0;for(a=e.length-1;a>=0;a--)(o=e[a]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===o["xlink:href"]&&e.splice(a,1);for(a=0;a<e.length;a++)(o=e[a]).hasOwnProperty("xlink:href")&&o.hasOwnProperty("xlink:actuate")&&o["xlink:actuate"]===r&&(s=E(o["xlink:href"],t,n,a,r,o),i.push(s));return i}function E(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}return s={resolveManifestOnLoad:function(e){p=new l.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:d}),m(y((h=e).Period_asArray,h,c.default.PERIOD,"onLoad"),c.default.PERIOD,"onLoad")},setMatchers:function(e){e&&(d=e)},setIron:function(e){e&&(f=e)},reset:function(){n.off(a.default.XLINK_ELEMENT_LOADED,v,s),g&&(g.reset(),g=null)}},n.on(a.default.XLINK_ELEMENT_LOADED,v,s),g=(0,i.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),s}d.__dashjs_factory_name="XlinkController",t.default=s.default.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(6)),o=r(n(36)),a=n(9),s=r(n(114)),l=r(n(3)),u=r(n(5)),c=r(n(1)),d=r(n(7));function f(e){e=e||{};var t=this.context,n=(0,l.default)(t).getInstance(),r=(0,o.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier});return{load:function(e,t,o){var l=function(r,a){t.resolved=!0,t.resolvedContent=r||null,n.trigger(u.default.XLINK_ELEMENT_LOADED,{element:t,resolveObject:o,error:r||a?null:new i.default(d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,d.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})};if("urn:mpeg:dash:resolve-to-zero:2013"===e)l(null,!0);else{var c=new s.default(e,a.HTTPRequest.XLINK_EXPANSION_TYPE);r.load({request:c,success:function(e){l(e)},error:function(){l(null)}})}},reset:function(){r&&(r.abort(),r=null)}}}f.__dashjs_factory_name="XlinkLoader",t.default=c.default.getClassFactory(f),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4)),a=r(n(262)),s=r(n(115)),l=r(n(263)),u=r(n(264)),c=r(n(265)),d=r(n(266)),f=r(n(267)),h=r(n(269));function p(){var e=this.context,t=void 0,n=void 0,r=void 0,i=void 0,p=void 0;return t={parse:function(e){var t,r=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var o=window.performance.now();p.run(t);var a=window.performance.now();return n.info("Parsing complete: ( xml2json: "+(o-r).toPrecision(3)+"ms, objectiron: "+(a-o).toPrecision(3)+"ms, total: "+((a-r)/1e3).toPrecision(3)+"s)"),t},getMatchers:function(){return r},getIron:function(){return p}},n=(0,o.default)(e).getInstance().getLogger(t),r=[new u.default,new c.default,new d.default,new l.default],i=new s.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:r}),p=(0,a.default)(e).create({adaptationset:new f.default,period:new h.default}),t}p.__dashjs_factory_name="DashParser",t.default=i.default.getClassFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(e){function t(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function n(e,n,r){for(var i=0,o=e.length;i<o;++i){var a=e[i];if(n[a.name])if(r[a.name]){if(a.merge){var s=n[a.name],l=r[a.name];"object"==typeof s&&"object"==typeof l?t(s,l):r[a.name]=s+l}}else r[a.name]=n[a.name]}}function r(e,t){for(var i=0,o=e.children.length;i<o;++i){var a=e.children[i],s=t[a.name+"_asArray"];if(s)for(var l=0,u=s.length;l<u;++l){var c=s[l];n(e.properties,t,c),r(a,c)}}}return{run:function(t){if(null===t||"object"!=typeof t)return t;if("period"in e)for(var n=e.period,i=t.Period_asArray,o=0,a=i.length;o<a;++o){var s=i[o];if(r(n,s),"adaptationset"in e){var l=s.AdaptationSet_asArray;if(l)for(var u=e.adaptationset,c=0,d=l.length;c<d;++c)r(u,l[c])}}return t}}}a.__dashjs_factory_name="ObjectIron";var s=o.default.getClassFactory(a);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=r(n(46)),a=r(n(15)),s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e,t){var n,r=(i(n={},a.default.MPD,[a.default.ID,a.default.PROFILES]),i(n,a.default.PERIOD,[a.default.ID]),i(n,a.default.BASE_URL,[a.default.SERVICE_LOCATION,a.default.BYTE_RANGE]),i(n,a.default.SEGMENT_BASE,[a.default.INDEX_RANGE]),i(n,a.default.INITIALIZATION,[a.default.RANGE]),i(n,a.default.REPRESENTATION_INDEX,[a.default.RANGE]),i(n,a.default.SEGMENT_LIST,[a.default.INDEX_RANGE]),i(n,a.default.BITSTREAM_SWITCHING,[a.default.RANGE]),i(n,a.default.SEGMENT_URL,[a.default.MEDIA_RANGE,a.default.INDEX_RANGE]),i(n,a.default.SEGMENT_TEMPLATE,[a.default.INDEX_RANGE,a.default.MEDIA,a.default.INDEX,a.default.INITIALIZATION_MINUS,a.default.BITSTREAM_SWITCHING_MINUS]),i(n,a.default.ASSET_IDENTIFIER,[a.default.VALUE,a.default.ID]),i(n,a.default.EVENT_STREAM,[a.default.VALUE]),i(n,a.default.ADAPTATION_SET,[a.default.PROFILES,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.CONTENT_TYPE]),i(n,a.default.FRAME_PACKING,[a.default.VALUE,a.default.ID]),i(n,a.default.AUDIO_CHANNEL_CONFIGURATION,[a.default.VALUE,a.default.ID]),i(n,a.default.CONTENT_PROTECTION,[a.default.VALUE,a.default.ID]),i(n,a.default.ESSENTIAL_PROPERTY,[a.default.VALUE,a.default.ID]),i(n,a.default.SUPPLEMENTAL_PROPERTY,[a.default.VALUE,a.default.ID]),i(n,a.default.INBAND_EVENT_STREAM,[a.default.VALUE,a.default.ID]),i(n,a.default.ACCESSIBILITY,[a.default.VALUE,a.default.ID]),i(n,a.default.ROLE,[a.default.VALUE,a.default.ID]),i(n,a.default.RATING,[a.default.VALUE,a.default.ID]),i(n,a.default.VIEWPOINT,[a.default.VALUE,a.default.ID]),i(n,a.default.CONTENT_COMPONENT,[a.default.CONTENT_TYPE]),i(n,a.default.REPRESENTATION,[a.default.ID,a.default.DEPENDENCY_ID,a.default.MEDIA_STREAM_STRUCTURE_ID]),i(n,a.default.SUBSET,[a.default.ID]),i(n,a.default.METRICS,[a.default.METRICS_MINUS]),i(n,a.default.REPORTING,[a.default.VALUE,a.default.ID]),n);if(r.hasOwnProperty(t)){var o=r[t];return void 0!==o&&o.indexOf(e.name)>=0}return!1}),(function(e){return String(e)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(46)),o=r(n(2)),a=r(n(15)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e){for(var t=[a.default.MIN_BUFFER_TIME,a.default.MEDIA_PRESENTATION_DURATION,a.default.MINIMUM_UPDATE_PERIOD,a.default.TIMESHIFT_BUFFER_DEPTH,a.default.MAX_SEGMENT_DURATION,a.default.MAX_SUBSEGMENT_DURATION,o.default.SUGGESTED_PRESENTATION_DELAY,a.default.START,o.default.START_TIME,a.default.DURATION],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return s.test(e.value);return!1}),(function(e){var t=s.exec(e),n=31536e3*parseFloat(t[2]||0)+2592e3*parseFloat(t[4]||0)+86400*parseFloat(t[6]||0)+3600*parseFloat(t[8]||0)+60*parseFloat(t[10]||0)+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(46),o=(r=i)&&r.__esModule?r:{default:r},a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),(function(e){var t=a.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&1e3*parseFloat(t[7])||0),t[9]&&t[10]){var r=60*parseInt(t[9],10)+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*60*1e3}return new Date(n)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(46),o=(r=i)&&r.__esModule?r:{default:r},a=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,(function(e){return a.test(e.value)}),(function(e){return parseFloat(e)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(116)),o=r(n(15)),a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[o.default.PROFILES,o.default.WIDTH,o.default.HEIGHT,o.default.SAR,o.default.FRAMERATE,o.default.AUDIO_SAMPLING_RATE,o.default.MIME_TYPE,o.default.SEGMENT_PROFILES,o.default.CODECS,o.default.MAXIMUM_SAP_PERIOD,o.default.START_WITH_SAP,o.default.MAX_PLAYOUT_RATE,o.default.CODING_DEPENDENCY,o.default.SCAN_TYPE,o.default.FRAME_PACKING,o.default.AUDIO_CHANNEL_CONFIGURATION,o.default.CONTENT_PROTECTION,o.default.ESSENTIAL_PROPERTY,o.default.SUPPLEMENTAL_PROPERTY,o.default.INBAND_EVENT_STREAM];(function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}})(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,o.default.ADAPTATION_SET,e,[new i.default(o.default.REPRESENTATION,e,[new i.default(o.default.SUB_REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n;this._name=t,this._merge=(n=t)&&n.length&&n.charAt(0)===n.charAt(0).toUpperCase()}return r(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n(116)),o=r(n(15)),a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=[o.default.SEGMENT_BASE,o.default.SEGMENT_TEMPLATE,o.default.SEGMENT_LIST];(function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}})(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,o.default.PERIOD,e,[new i.default(o.default.ADAPTATION_SET,e,[new i.default(o.default.REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1));function s(){var e=this.context,t=(0,i.default)(e).getInstance();return{capabilityError:function(e){t.trigger(o.default.ERROR,{error:"capability",event:e})},downloadError:function(e,n,r){t.trigger(o.default.ERROR,{error:"download",event:{id:e,url:n,request:r}})},manifestError:function(e,n,r,i){t.trigger(o.default.ERROR,{error:"manifestError",event:{message:e,id:n,manifest:r,event:i}})},timedTextError:function(e,n,r){t.trigger(o.default.ERROR,{error:"cc",event:{message:e,id:n,cc:r}})},mediaSourceError:function(e){t.trigger(o.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function(e){t.trigger(o.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:function(e){t.trigger(o.default.ERROR,{error:"key_message",event:e})},error:function(e){t.trigger(o.default.ERROR,{error:e})}}}s.__dashjs_factory_name="ErrorHandler",t.default=a.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e,t=void 0;return e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!(!("MediaSource"in window)||!MediaSource.isTypeSupported(e))||!(!("WebKitMediaSource"in window)||!WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}},t=!1,e}a.__dashjs_factory_name="Capabilities",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(273)),o=r(n(1));function a(){var e=void 0;return{initialize:function(t){if(e=new i.default,!t)return null;var n=t.indexOf("#");if(-1!==n)for(var r=t.substr(n+1).split("&"),o=0,a=r.length;o<a;++o){var s=r[o],l=s.indexOf("=");if(-1!==l){var u=s.substring(0,l);e.hasOwnProperty(u)&&(e[u]=s.substr(l+1))}}},getURIFragmentData:function(){return e}}}a.__dashjs_factory_name="URIFragmentModel",t.default=o.default.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1));function s(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){n=e,e&&t.trigger(o.default.MANIFEST_LOADED,{data:e})}}}s.__dashjs_factory_name="ManifestModel",t.default=a.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(117)),a=r(n(1)),s=n(9),l=r(n(2)),u=r(n(105)),c=n(29);function d(){var e,t,n,r=void 0,a=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0,S=void 0,w=void 0,R=void 0,C=void 0,A=void 0,I=void 0,D=void 0,M=void 0,x=void 0,N=void 0,O=void 0,P=void 0,q=void 0,F=void 0,L=void 0,k=void 0,U=void 0,B=void 0,H=void 0,G=void 0,j=void 0,z=void 0,Y={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"};function V(e){var t=void 0;for(t=0;t<P.length;t++)if(P[t].rulename===e)return t;return-1}function K(){return U?h||3:h}function W(e,t){X(e,t);var n=new o.default;n.schemeIdUri=e,n.value=t,d.push(n)}function X(e,t){(0,c.checkParameterType)(e,"string"),(0,c.checkParameterType)(t,"string"),d.forEach((function(n,r){n.schemeIdUri===e&&n.value===t&&d.splice(r,1)}))}function Q(){return U}return e={setABRStrategy:function(e){if(e!==l.default.ABR_STRATEGY_DYNAMIC&&e!==l.default.ABR_STRATEGY_BOLA&&e!==l.default.ABR_STRATEGY_THROUGHPUT)throw l.default.BAD_ARGUMENT_ERROR;M=e},getABRStrategy:function(){return M},setUseDefaultABRRules:function(e){(0,c.checkParameterType)(e,"boolean"),x=e},getUseDefaultABRRules:function(){return x},getABRCustomRules:function(){return P},addABRCustomRule:function(e,t,n){if("string"!=typeof e||e!==u.default.ABANDON_FRAGMENT_RULES&&e!==u.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw l.default.BAD_ARGUMENT_ERROR;var r=V(t);-1===r?P.push({type:e,rulename:t,rule:n}):(P[r].type=e,P[r].rule=n)},removeABRCustomRule:function(e){if(e){var t=V(e);-1!==t&&P.splice(t,1)}else P=[]},setBandwidthSafetyFactor:function(e){(0,c.checkParameterType)(e,"number"),R=e},getBandwidthSafetyFactor:function(){return R},setAbandonLoadTimeout:function(e){(0,c.checkParameterType)(e,"number"),C=e},getAbandonLoadTimeout:function(){return C},setLastBitrateCachingInfo:function(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw l.default.BAD_ARGUMENT_ERROR;_.enabled=e,void 0!==t&&(_.ttl=t)},getLastBitrateCachingInfo:function(){return _},setLastMediaSettingsCachingInfo:function(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw l.default.BAD_ARGUMENT_ERROR;y.enabled=e,void 0!==t&&(y.ttl=t)},getLastMediaSettingsCachingInfo:function(){return y},setStableBufferTime:function(e){(0,c.checkParameterType)(e,"number"),E=e},getStableBufferTime:function(){return Q()?.6*K():isNaN(E)?O?20:12:E},setBufferTimeAtTopQuality:function(e){(0,c.checkParameterType)(e,"number"),b=e},getBufferTimeAtTopQuality:function(){return b},setBufferTimeAtTopQualityLongForm:function(e){(0,c.checkParameterType)(e,"number"),T=e},getBufferTimeAtTopQualityLongForm:function(){return T},setLongFormContentDurationThreshold:function(e){(0,c.checkParameterType)(e,"number"),S=e},getLongFormContentDurationThreshold:function(){return S},setSegmentOverlapToleranceTime:function(e){(0,c.checkParameterType)(e,"number"),w=e},getSegmentOverlapToleranceTime:function(){return w},getCacheLoadThresholdForType:function(e){return F[e]},setCacheLoadThresholdForType:function(e,t){(0,c.checkParameterType)(t,"number"),(0,c.checkIsVideoOrAudioType)(e),F[e]=t},setBufferToKeep:function(e){(0,c.checkParameterType)(e,"number"),g=e},getBufferToKeep:function(){return g},setBufferAheadToKeep:function(e){(0,c.checkParameterType)(e,"number"),m=e},getBufferAheadToKeep:function(){return m},setBufferPruningInterval:function(e){(0,c.checkParameterType)(e,"number"),v=e},getBufferPruningInterval:function(){return v},setRetryAttemptsForType:function(e,t){if("number"!=typeof t||"string"!=typeof e||e!==s.HTTPRequest.MPD_TYPE&&e!==s.HTTPRequest.MEDIA_SEGMENT_TYPE)throw l.default.BAD_ARGUMENT_ERROR;A[e]=t},getRetryAttemptsForType:function(e){return Q()?5*A[e]:A[e]},setRetryIntervalForType:function(e,t){(0,c.checkParameterType)(t,"number"),I[e]=t},getRetryIntervalForType:function(e){return Q()?I[e]/10:I[e]},setWallclockTimeUpdateInterval:function(e){(0,c.checkParameterType)(e,"number"),D=e},getWallclockTimeUpdateInterval:function(){return D},setScheduleWhilePaused:function(e){(0,c.checkParameterType)(e,"boolean"),p=e},getScheduleWhilePaused:function(){return p},getUseSuggestedPresentationDelay:function(){return a},setUseSuggestedPresentationDelay:function(e){(0,c.checkParameterType)(e,"boolean"),a=e},setLiveDelayFragmentCount:function(e){(0,c.checkParameterType)(e,"number"),f=e},getLiveDelayFragmentCount:function(){return f},getLiveDelay:K,setLiveDelay:function(e){void 0!==e&&(0,c.checkParameterType)(e,"number"),h=e},setUseManifestDateHeaderTimeSource:function(e){(0,c.checkParameterType)(e,"boolean"),r=e},getUseManifestDateHeaderTimeSource:function(){return r},addUTCTimingSource:W,removeUTCTimingSource:X,getUTCTimingSources:function(){return d},clearDefaultUTCTimingSources:function(){d=[]},restoreDefaultUTCTimingSources:function(){W(Y.scheme,Y.value)},setXHRWithCredentialsForType:function e(t,n){t?N[t]=!!n:Object.keys(N).forEach((function(t){e(t,n)}))},getXHRWithCredentialsForType:function(e){var t=N[e];return void 0===t?N.default:t},setFastSwitchEnabled:function(e){(0,c.checkParameterType)(e,"boolean"),O=e},getFastSwitchEnabled:function(){return O},setMovingAverageMethod:function(e){if(e!==l.default.MOVING_AVERAGE_SLIDING_WINDOW&&e!==l.default.MOVING_AVERAGE_EWMA)throw l.default.BAD_ARGUMENT_ERROR;q=e},getMovingAverageMethod:function(){return q},setJumpGaps:function(e){(0,c.checkParameterType)(e,"boolean"),L=e},getJumpGaps:function(){return L},setSmallGapLimit:function(e){(0,c.checkParameterType)(e,"number"),k=e},getSmallGapLimit:function(){return k},getLowLatencyEnabled:Q,setLowLatencyEnabled:function(e){(0,c.checkParameterType)(e,"boolean"),U=e},setCatchUpPlaybackRate:function(e){(0,c.checkParameterType)(e,"number"),(0,c.checkRange)(e,0,.5),z=e},getCatchUpPlaybackRate:function(){return z},setLowLatencyMinDrift:function(e){(0,c.checkParameterType)(e,"number"),G=e},getLowLatencyMinDrift:function(){return G},setLowLatencyMaxDriftBeforeSeeking:function(e){(0,c.checkParameterType)(e,"number"),j=e},getLowLatencyMaxDriftBeforeSeeking:function(){return j},setManifestUpdateRetryInterval:function(e){(0,c.checkParameterType)(e,"number"),B=e},getManifestUpdateRetryInterval:function(){return B},setKeepProtectionMediaKeys:function(e){(0,c.checkParameterType)(e,"boolean"),H=e},getKeepProtectionMediaKeys:function(){return H},getDefaultUtcTimingSource:function(){return Y},reset:function(){}},d=[],a=!1,r=!0,p=!0,M=l.default.ABR_STRATEGY_DYNAMIC,x=!0,O=!1,_={enabled:!0,ttl:36e4},y={enabled:!0,ttl:36e4},f=4,h=void 0,g=20,m=80,v=10,E=NaN,b=30,T=60,S=600,w=.2,R=.9,C=1e4,D=50,L=!1,k=.8,B=100,N={default:!1},P=[],q=l.default.MOVING_AVERAGE_SLIDING_WINDOW,U=!1,G=.02,j=0,z=.5,i(t={},s.HTTPRequest.MPD_TYPE,3),i(t,s.HTTPRequest.XLINK_EXPANSION_TYPE,1),i(t,s.HTTPRequest.MEDIA_SEGMENT_TYPE,3),i(t,s.HTTPRequest.INIT_SEGMENT_TYPE,3),i(t,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),i(t,s.HTTPRequest.INDEX_SEGMENT_TYPE,3),i(t,s.HTTPRequest.OTHER_TYPE,3),A=t,i(n={},s.HTTPRequest.MPD_TYPE,500),i(n,s.HTTPRequest.XLINK_EXPANSION_TYPE,500),i(n,s.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.INIT_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),i(n,s.HTTPRequest.OTHER_TYPE,1e3),I=n,(F={})[l.default.VIDEO]=50,F[l.default.AUDIO]=5,H=!1,e}d.__dashjs_factory_name="MediaPlayerModel",t.default=a.default.getSingletonFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(28)),a=r(n(277)),s=n(9),l=r(n(278)),u=r(n(279)),c=r(n(280)),d=r(n(281)),f=r(n(282)),h=n(283),p=r(n(284)),g=r(n(3)),m=r(n(285)),v=r(n(5)),_=r(n(1));function y(){var e,t=this.context,n=(0,g.default)(t).getInstance(),r=void 0;function _(){n.trigger(v.default.METRICS_CHANGED)}function y(e){n.trigger(v.default.METRIC_CHANGED,{mediaType:e}),_()}function E(e,t,r){n.trigger(v.default.METRIC_UPDATED,{mediaType:e,metric:t,value:r}),y(e)}function b(e,t,r){n.trigger(v.default.METRIC_ADDED,{mediaType:e,metric:t,value:r}),y(e)}function T(e){var t=void 0;return r.hasOwnProperty(e)?t=r[e]:(t=new a.default,r[e]=t),t}function S(e,t,n){var r=T(e);r[t].push(n),r[t].length>1e3&&r[t].shift()}function w(e,t,n){S(e,t,n),b(e,t,n)}return e={clearCurrentMetricsForType:function(e){delete r[e],y(e)},clearAllCurrentMetrics:function(){r={},_()},getReadOnlyMetricsFor:function(e){return r.hasOwnProperty(e)?r[e]:null},getMetricsFor:T,addHttpRequest:function e(t,n,r,i,a,l,u,c,d,f,h,p,g,m){var v=new s.HTTPRequest;a&&a!==i&&(e(t,null,r,i,null,null,u,c,null,null,null,p,null,null),v.actualurl=a),v.tcpid=n,v.type=r,v.url=i,v.range=u,v.trequest=c,v.tresponse=d,v.responsecode=h,v._tfinish=f,v._stream=t,v._mediaduration=p,v._responseHeaders=g,v._serviceLocation=l,m?m.forEach((function(e){!function(e,t,n,r){var i=new s.HTTPRequestTrace;i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n}(v,e.s,e.d,e.b)})):(delete v.interval,delete v.trace),w(t,o.default.HTTP_REQUEST,v)},addRepresentationSwitch:function(e,t,n,r,i){var a=new l.default;a.t=t,a.mt=n,a.to=r,i?a.lto=i:delete a.lto,w(e,o.default.TRACK_SWITCH,a)},addBufferLevel:function(e,t,n){var r=new u.default;r.t=t,r.level=n,w(e,o.default.BUFFER_LEVEL,r)},addBufferState:function(e,t,n){var r=new c.default;r.target=n,r.state=t,w(e,o.default.BUFFER_STATE,r)},addDVRInfo:function(e,t,n,r){var i=new d.default;i.time=t,i.range=r,i.manifestInfo=n,w(e,o.default.DVR_INFO,i)},addDroppedFrames:function(e,t){var n=new f.default,r=T(e).DroppedFrames;n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n||w(e,o.default.DROPPED_FRAMES,n)},addSchedulingInfo:function(e,t,n,r,i,a,s,l,u){var c=new p.default;c.mediaType=e,c.t=t,c.type=n,c.startTime=r,c.availabilityStartTime=i,c.duration=a,c.quality=s,c.range=l,c.state=u,w(e,o.default.SCHEDULING_INFO,c)},addRequestsQueue:function(e,t,n){var r=new m.default;r.loadingRequests=t,r.executedRequests=n,T(e).RequestsQueue=r,b(e,o.default.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,a,s,l,u,c,d){var f=new h.ManifestUpdate;f.mediaType=e,f.type=t,f.requestTime=n,f.fetchTime=r,f.availabilityStartTime=a,f.presentationStartTime=s,f.clientTimeOffset=l,f.currentTime=u,f.buffered=c,f.latency=d,S(i.default.STREAM,o.default.MANIFEST_UPDATE,f),b(e,o.default.MANIFEST_UPDATE,f)},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];E(e.mediaType,o.default.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,r,i){if(e){var a=new h.ManifestUpdateStreamInfo;a.id=t,a.index=n,a.start=r,a.duration=i,e.streamInfo.push(a),E(e.mediaType,o.default.MANIFEST_UPDATE_STREAM_INFO,e)}},addManifestUpdateRepresentationInfo:function(e,t,n,r,i,a,s,l){if(e){var u=new h.ManifestUpdateRepresentationInfo;u.id=t,u.index=n,u.streamIndex=r,u.mediaType=i,u.startNumber=s,u.fragmentInfoType=l,u.presentationTimeOffset=a,e.representationInfo.push(u),E(e.mediaType,o.default.MANIFEST_UPDATE_TRACK_INFO,e)}},addPlayList:function(e){var t=i.default.STREAM;e.trace&&Array.isArray(e.trace)?e.trace.forEach((function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel})):delete e.trace,w(t,o.default.PLAY_LIST,e)},addDVBErrors:function(e){w(i.default.STREAM,o.default.DVB_ERRORS,e)}},r={},e}y.__dashjs_factory_name="MetricsModel",t.default=_.default.getSingletonFactory(y),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.t=null,this.level=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(19),o=(r=i)&&r.__esModule?r:{default:r};t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=null,this.state=o.default.BUFFER_EMPTY},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.range=null,this.manifestInfo=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.time=null,this.droppedFrames=null},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.ManifestUpdate=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},t.ManifestUpdateStreamInfo=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},t.ManifestUpdateRepresentationInfo=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadingRequests=[],this.executedRequests=[]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(3)),a=r(n(5)),s=r(n(4));function l(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0,l=this.context,u=(0,o.default)(l).getInstance(),c=[];function d(){n&&(n.playbackRate=i||1,n.removeEventListener("canplay",d))}function f(e){n&&(n.readyState<=2&&e>0?n.addEventListener("canplay",d):n.playbackRate=e)}function h(){return c.length>0}function p(e){var t=c.indexOf(e),r=void 0;null!==e&&(-1!==t&&c.splice(t,1),n&&!1===h()&&0===n.playbackRate&&(f(i||1),n.paused||((r=document.createEvent("Event")).initEvent("playing",!0,!1),n.dispatchEvent(r))))}function g(){if(n&&h()&&0===n.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),n.dispatchEvent(e)}}function m(){return n?n.buffered:null}return e={initialize:function(){u.on(a.default.PLAYBACK_PLAYING,g,this)},setCurrentTime:function(e,t){if(n){if(n.currentTime==e)return;try{e=t?function(e){var t=m(),n=e,r=9999999999;if(t)for(var i=0;i<t.length;i++){var o=t.start(i),a=t.end(i),s=Math.abs(o-e),l=Math.abs(a-e);if(e>=o&&e<=a)return e;s<r&&(r=s,n=o),l<r&&(r=l,n=a)}return n}(e):e,n.currentTime=e}catch(t){0===n.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout((function(){n.currentTime=e}),400)}}},play:function(){if(n){n.autoplay=!0;var e=n.play();e&&e.catch&&"undefined"!=typeof Promise&&e.catch((function(e){"NotAllowedError"===e.name&&u.trigger(a.default.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing ("+e+")")}))}},isPaused:function(){return n?n.paused:null},pause:function(){n&&(n.pause(),n.autoplay=!1)},isSeeking:function(){return n?n.seeking:null},getTime:function(){return n?n.currentTime:null},getPlaybackRate:function(){return n?n.playbackRate:null},setPlaybackRate:f,getPlayedRanges:function(){return n?n.played:null},getEnded:function(){return n?n.ended:null},setStallState:function(e,t){!function(e,t){t?function(e){var t=void 0;if(null===e||n.seeking||-1!==c.indexOf(e))return;c.push(e),n&&1===c.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),i=n.playbackRate,f(0),n.dispatchEvent(t))}(e):p(e)}(e,t)},getElement:function(){return n},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(n=e)&&(n.preload="auto")},setSource:function(e){n&&(e?n.src=e:(n.removeAttribute("src"),n.load()))},getSource:function(){return n?n.src:null},getTTMLRenderingDiv:function(){return r},setTTMLRenderingDiv:function(e){(r=e).style.position="absolute",r.style.display="flex",r.style.overflow="hidden",r.style.pointerEvents="none",r.style.top=0,r.style.left=0},getPlaybackQuality:function(){if(!n)return null;var e="webkitDroppedFrameCount"in n&&"webkitDecodedFrameCount"in n,t=null;return"getVideoPlaybackQuality"in n?t=n.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:n.webkitDroppedFrameCount,totalVideoFrames:n.webkitDroppedFrameCount+n.webkitDecodedFrameCount,creationTime:new Date}),t},addEventListener:function(e,t){n&&n.addEventListener(e,t)},removeEventListener:function(e,t){n&&n.removeEventListener(e,t)},getReadyState:function(){return n?n.readyState:NaN},getBufferRange:m,getClientWidth:function(){return n?n.clientWidth:NaN},getClientHeight:function(){return n?n.clientHeight:NaN},getTextTracks:function(){return n?n.textTracks:[]},getTextTrack:function(e,t,r,i,o){if(n)for(var a=0;a<n.textTracks.length;a++)if(n.textTracks[a].kind===e&&(!t||n.textTracks[a].label==t)&&n.textTracks[a].language===r&&n.textTracks[a].isTTML===i&&n.textTracks[a].isEmbedded===o)return n.textTracks[a];return null},addTextTrack:function(e,t,r){return n?n.addTextTrack(e,t,r):null},appendChild:function(e){n&&(n.appendChild(e),void 0!==e.isTTML&&(n.textTracks[n.textTracks.length-1].isTTML=e.isTTML,n.textTracks[n.textTracks.length-1].isEmbedded=e.isEmbedded))},removeChild:function(e){n&&n.removeChild(e)},getVideoWidth:function(){return n?n.videoWidth:NaN},getVideoHeight:function(){return n?n.videoHeight:NaN},getVideoRelativeOffsetTop:function(){return n&&n.parentNode?n.getBoundingClientRect().top-n.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){return n&&n.parentNode?n.getBoundingClientRect().left-n.parentNode.getBoundingClientRect().left:NaN},reset:function(){u.off(a.default.PLAYBACK_PLAYING,g,this)}},t=(0,s.default)(l).getInstance().getLogger(e),e}l.__dashjs_factory_name="VideoModel",t.default=i.default.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(4)),a=r(n(2)),s=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];function l(e){e=e||{};var t=this.context,n=e.mediaPlayerModel,r=void 0,i=void 0,l=void 0;function u(e){if(void 0!==l)return l;l=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return i.warn("DOMStorage access denied: "+e.message),l}if(!t||"localStorage"!==e&&"sessionStorage"!==e)return l;try{t.setItem("1","1"),t.removeItem("1"),l=!0}catch(e){i.warn("DOMStorage is supported, but cannot be used: "+e.message)}return l}function c(){return 6e5*Math.round((new Date).getTime()/6e5)}function d(e,t){return u(e)&&n["get"+t+"CachingInfo"]().enabled}function f(){if(!n||!n.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error(a.default.MISSING_CONFIG_ERROR)}return r={getSavedBitrateSettings:function(e){var t=NaN;if(f(),d("localStorage","LastBitrate")){var r="dashjs_?_bitrate".replace(/\?/,e);try{var o=JSON.parse(localStorage.getItem(r))||{},a=(new Date).getTime()-parseInt(o.timestamp,10)>=n.getLastMediaSettingsCachingInfo().ttl||!1,s=parseFloat(o.bitrate);isNaN(s)||a?a&&localStorage.removeItem(r):(t=s,i.debug("Last saved bitrate for "+e+" was "+s))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(d("localStorage","LastBitrate")&&t){var n="dashjs_?_bitrate".replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t.toFixed(3),timestamp:c()}))}catch(e){i.error(e.message)}}},getSavedMediaSettings:function(e){if(f(),!d("localStorage","LastMediaSettings"))return null;var t=null,r="dashjs_?_settings".replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(r))||{},o=(new Date).getTime()-parseInt(i.timestamp,10)>=n.getLastMediaSettingsCachingInfo().ttl||!1;t=i.settings,o&&(localStorage.removeItem(r),t=null)}catch(e){return null}return t},setSavedMediaSettings:function(e,t){if(d("localStorage","LastMediaSettings")){var n="dashjs_?_settings".replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:c()}))}catch(e){i.error(e.message)}}}},i=(0,o.default)(t).getInstance().getLogger(r),u("localStorage")&&s.forEach((function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){i.error(e.message)}}})),r}l.__dashjs_factory_name="DOMStorage";var u=i.default.getSingletonFactory(l);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(15)),a=r(n(289)),s=r(n(290)),l=r(n(291)),u=r(n(292)),c=r(n(119)),d=r(n(1)),f=r(n(103)),h=n(29);function p(){var e,t=void 0,n=void 0,r=void 0,d=void 0;function p(e,t){return t&&e?t.getRepresentationForQuality(e.quality):null}function g(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&r[e.streamInfo.id]?r[e.streamInfo.id][e.index]:null}function m(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];if(e.id===i.id)return i}return null}function v(e){var n=new a.default,r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=t.getRepresentationFor(e.index,r);return n.id=e.id,n.quality=e.index,n.bandwidth=t.getBandwidth(i),n.DVRWindow=e.segmentAvailabilityRange,n.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),n.MSETimeOffset=e.MSETimeOffset,n.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,n.mediaInfo=_(e.adaptation),n}function _(e){var n,r=new s.default,i=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return r.id=e.id,r.index=e.index,r.type=e.type,r.streamInfo=E(e.period),r.representationCount=t.getRepresentationCount(i),r.labels=t.getLabelsForAdaptation(i),r.lang=t.getLanguageForAdaptation(i),n=t.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=t.getAccessibilityForAdaptation(i).map((function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==f.default&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n})),r.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map((function(e){return e.value})),r.roles=t.getRolesForAdaptation(i).map((function(e){return e.value})),r.codec=t.getCodec(i),r.mimeType=t.getMimeType(i),r.contentProtection=t.getContentProtectionData(i),r.bitrateList=t.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach((function(e){e.KID=t.getKID(e)})),r.isText=t.getIsTextTrack(r.mimeType),r}function y(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=i.default.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function E(e){var n,r,i=new l.default;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(n=e.mpd,(r=new u.default).DVRWindowSize=n.timeShiftBufferDepth,r.loadedTime=n.manifest.loadedTime,r.availableFrom=n.availabilityStartTime,r.minBufferTime=n.manifest.minBufferTime,r.maxFragmentDuration=n.maxSegmentDuration,r.duration=t.getDuration(n.manifest),r.isDynamic=t.getIsDynamic(n.manifest),r),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function b(e,n,r,i){var a,s=t.getAdaptationsForType(e,n,r);if(!s||0===s.length)return null;if(s.length>1&&i){var l=T(i,r);if(d[i.id]&&d[i.id][r])for(var u=0,c=s.length;u<c;u++)if(d[i.id][r].isMediaInfoEqual(l[u]))return s[u];for(u=0,c=s.length;u<c;u++)if(a=s[u],t.getRolesForAdaptation(a).filter((function(e){return e.value===o.default.MAIN}))[0])return s[u]}return s[0]}function T(e,o,a){var s,l=n,u=a,c=[],d=void 0,f=void 0,h=void 0,p=void 0,g=void 0;if(u){S();var v=t.getMpd(u);l=t.getRegularPeriods(v)}else{if(!(n.length>0))return c;u=n[0].mpd.manifest}var E=m(e,l),b=E.id,T=t.getAdaptationsForType(u,e.index,o!==i.default.EMBEDDED_TEXT?o:i.default.VIDEO);if(!T)return c;for(r[b]=r[b]||t.getAdaptationsForPeriod(E),p=0,s=T.length;p<s;p++)if(d=T[p],h=t.getIndexForAdaptation(d,u,e.index),f=_(r[b][h]),o===i.default.EMBEDDED_TEXT){var w=f.accessibility.length;for(g=0;g<w;g++)if(f){var R=f.accessibility[g];if(0===R.indexOf("cea-608:")){var C=R.substring(8).split(";");if("CC"===C[0].substring(0,2))for(g=0;g<C.length;g++)f||(f=_.call(this,r[b][h])),y(f,C[g].substring(0,3),C[g].substring(4)),c.push(f),f=null;else for(g=0;g<C.length;g++)f||(f=_.call(this,r[b][h])),y(f,"CC"+(g+1),C[g]),c.push(f),f=null}else 0===R.indexOf("cea-608")&&(y(f,i.default.CC1,"eng"),c.push(f),f=null)}}else o===i.default.IMAGE?(f.type=i.default.IMAGE,c.push(f),f=null):f&&c.push(f);return c}function S(){if(!t||!t.hasOwnProperty("getMpd")||!t.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function w(e){if(!(e&&e.hasOwnProperty("getRepresentationController")&&e.hasOwnProperty("getIndexHandler")&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getType")&&e.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function R(){n=[],r={},d={}}return e={convertDataToRepresentationInfo:v,getDataForMedia:g,getStreamsInfo:function(e,r){var i=[],o=n;if(e){S();var a=t.getMpd(e);o=t.getRegularPeriods(a)}r||(r=o.length);for(var s=0;s<r;s++)i.push(E(o[s]));return i},getMediaInfoForType:function(e,i){if(0===n.length)return null;var o=n[0].mpd.manifest,a=b(o,e.index,i,e);if(!a)return null;var s=m(e,n),l=s.id,u=t.getIndexForAdaptation(a,o,e.index);return r[l]=r[l]||t.getAdaptationsForPeriod(s),_(r[l][u])},getAllMediaInfoForType:T,getRepresentationInfo:function(e,t){!function(e){if(!e||!e.hasOwnProperty("getRepresentationForQuality")||!e.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}(e);var n=void 0;return void 0!==t?((0,h.checkInteger)(t),n=e.getRepresentationForQuality(t)):n=e.getCurrentRepresentation(),n?v(n):null},getAdaptationForType:b,updateData:function(e){w(e);var r,i=m(e.getStreamInfo(),n),o=e.getMediaInfo(),a=g(o),s=e.getType(),l=void 0;r=o?o.id:null,n.length>0&&(l=r?t.getAdaptationForId(r,n[0].mpd.manifest,i.index):t.getAdaptationForIndex(o.index,n[0].mpd.manifest,i.index),e.getRepresentationController().updateData(l,a,s))},getInitRequest:function(e,t){var n,r=void 0,i=void 0;return w(e),(0,h.checkInteger)(t),r=e.getRepresentationController(),i=e.getIndexHandler(),n=r?r.getRepresentationForQuality(t):null,i?i.getInitRequest(n):null},getFragmentRequest:function(e,t,n,r){var i,o=void 0,a=null;return w(e),i=p(t,e.getRepresentationController()),(o=e.getIndexHandler())&&(a=void 0!==n&&void 0!==r?o.getSegmentRequestForTime(i,n,r):o.getNextSegmentRequest(i)),a},getIndexHandlerTime:function(e){w(e);var t=e.getIndexHandler();return t?t.getCurrentTime():NaN},setIndexHandlerTime:function(e,t){w(e);var n=e.getIndexHandler();n&&n.setCurrentTime(t)},getEventsFor:function(e,r){var i=[];if(0===n.length)return i;var o=n[0].mpd.manifest;return e instanceof l.default?i=t.getEventsForPeriod(m(e,n)):e instanceof s.default?i=t.getEventStreamForAdaptationSet(o,g(e)):e instanceof a.default&&(i=t.getEventStreamForRepresentation(o,p(e,r.getRepresentationController()))),i},getEvent:function(e,t,n){if(!e||!t)return null;var r=new c.default,i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,l=e.event_duration,u=e.id,d=e.message_data,f=n*a+s;return t[i+"/"+o]?(r.eventStream=t[i+"/"+o],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=l,r.id=u,r.presentationTime=f,r.messageData=d,r.presentationTimeDelta=s,r):null},setConfig:function(e){e&&e.dashManifestModel&&(t=e.dashManifestModel)},updatePeriods:function(e){if(!e)return null;S();var i=t.getMpd(e);n=t.getRegularPeriods(i),r={}},reset:R,resetIndexHandler:function(e){w(e);var t=e.getIndexHandler();t&&t.resetIndex()},setCurrentMediaInfo:function(e,t,n){d[e]=d[e]||{},d[e][t]=d[e][t]||{},d[e][t]=n}},R(),e}p.__dashjs_factory_name="DashAdapter",t.default=d.default.getSingletonFactory(p),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}return r(e,[{key:"isMediaInfoEqual",value:function(e){if(!e)return!1;var t=this.id===e.id,n=this.viewpoint===e.viewpoint,r=this.lang===e.lang,i=this.roles.toString()===e.roles.toString(),o=this.accessibility.toString()===e.accessibility.toString(),a=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString();return t&&n&&r&&i&&o&&a}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(15)),a=r(n(70)),s=r(n(294)),l=r(n(295)),u=r(n(296)),c=r(n(117)),d=r(n(119)),f=r(n(113)),h=r(n(297)),p=r(n(112)),g=r(n(18)),m=r(n(1)),v=r(n(4)),_=r(n(6)),y=r(n(7)),E=n(109);function b(e){e=e||{};var t=void 0,n=void 0,r=this.context,m=(0,g.default)(r).getInstance(),b=e.timelineConverter,T=e.errHandler,S=e.BASE64,w=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function R(e,t){var n=void 0,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=!1,d=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),l=t!==i.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&e.Representation_asArray.length>0){var f=q(e.Representation_asArray[0]);if(f&&f.length>0&&E.THUMBNAILS_SCHEME_ID_URIS.indexOf(f[0].schemeIdUri)>=0)return t===i.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(o.default.CODECS)&&(0===(u=e.Representation_asArray[0].codecs).search(i.default.STPP)||0===u.search(i.default.WVTT)))return t===i.default.FRAGMENTED_TEXT}if(s){if(s.length>1)return t===i.default.MUXED;s[0]&&s[0].contentType===t&&(c=!0,d=!0)}if(e.hasOwnProperty(o.default.MIME_TYPE)&&(c=l.test(e.mimeType),d=!0),!d)for(n=0,r=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!d&&n<r;)(a=e.Representation_asArray[n]).hasOwnProperty(o.default.MIME_TYPE)&&(c=l.test(a.mimeType),d=!0),n++;return c}function C(e){return R(e,i.default.AUDIO)}function A(e){return R(e,i.default.VIDEO)}function I(e){return R(e,i.default.FRAGMENTED_TEXT)}function D(e){return R(e,i.default.IMAGE)}function M(e){return"text/vtt"===e||"application/ttml+xml"===e}function x(){return function(e,t){return e.bandwidth-t.bandwidth}}function N(e){return e&&void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort((function(e,t){return e.bandwidth-t.bandwidth})),e}function O(e,t){return e&&e.Period_asArray&&w(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function P(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===o.default.DYNAMIC),t}function q(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function F(e){if(e&&e.period&&w(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&w(e.index))return N(t.AdaptationSet_asArray[e.index])}}function L(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||t.r>=0}function k(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=l.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(o.default.ID)&&e.id.length>0&&"__proto__"!==e.id&&(n=e.id),n}function U(e,t){var n=[],r=void 0;if(!e)return n;for(r=0;r<e.length;r++){var a=new h.default;if(a.timescale=1,a.representation=t,!e[r].hasOwnProperty(i.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");a.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(o.default.TIMESCALE)&&(a.timescale=e[r].timescale),e[r].hasOwnProperty(o.default.VALUE)&&(a.value=e[r].value),n.push(a)}return n}function B(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some((function(n){if(n){var i=new f.default,a=n.__text||n;return m.isRelative(a)&&(r=!0,e.baseUri&&(a=m.resolve(a,e.baseUri))),i.url=a,n.hasOwnProperty(o.default.SERVICE_LOCATION)&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=a,n.hasOwnProperty(o.default.DVB_PRIORITY)&&(i.dvb_priority=n[o.default.DVB_PRIORITY]),n.hasOwnProperty(o.default.DVB_WEIGHT)&&(i.dvb_weight=n[o.default.DVB_WEIGHT]),n.hasOwnProperty(o.default.AVAILABILITY_TIME_OFFSET)&&(i.availabilityTimeOffset=n[o.default.AVAILABILITY_TIME_OFFSET]),n.hasOwnProperty(o.default.AVAILABILITY_TIME_COMPLETE)&&(i.availabilityTimeComplete="false"!==n[o.default.AVAILABILITY_TIME_COMPLETE]),t.push(i),r}})),t}return t={getIsTypeOf:R,getIsTextTrack:M,getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(o.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(o.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(o.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(o.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(o.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,n){var r=O(t,n);return r.length>0&&w(e)?r[e]:null},getIndexForAdaptation:function(e,t,n){var i=O(t,n),o=i.length;if(e)for(var a=0;a<o;a++){if((0,p.default)(r).getInstance().areEqual(i[a],e))return a}return-1},getAdaptationForId:function(e,t,n){var r,i=O(t,n),a=void 0;for(a=0,r=i.length;a<r;a++)if(i[a].hasOwnProperty(o.default.ID)&&i[a].id===e)return i[a];return null},getAdaptationsForType:function(e,t,n){var r,i=O(e,t),o=void 0,a=[];for(o=0,r=i.length;o<r;o++)R(i[o],n)&&a.push(N(i[o]));return a},getCodec:function(e,t,n){var r=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=w(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(r=i.mimeType+';codecs="'+i.codecs+'"',n&&void 0!==i.width&&(r+=';width="'+i.width+'";height="'+i.height+'"'))}return r},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(o.default.CENC_DEFAULT_KID)?e[o.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e.Label_asArray||!e.Label_asArray.length)return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(o.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:P,getIsDVB:function(e){return function(e,t){var n=!1;return e&&e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}(e,"urn:dvb:dash:profile:dvb-dash:2014")},getDuration:function(e){return e&&e.hasOwnProperty(o.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(o.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?N(e).Representation_asArray.map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null}})):null},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&w(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t=[],n=F(e),r=void 0,i=void 0;if(e&&e.period&&w(e.period.index)){var s=B(e.period.mpd.manifest);s&&(i=s[0])}if(n&&n.Representation_asArray)for(var l=0,u=n.Representation_asArray.length;l<u;++l){var c=n.Representation_asArray[l],d=new a.default;if(d.index=l,d.adaptation=e,c.hasOwnProperty(o.default.ID)&&(d.id=c.id),c.hasOwnProperty(o.default.CODECS)&&(d.codecs=c.codecs),c.hasOwnProperty(o.default.CODEC_PRIVATE_DATA)&&(d.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(o.default.BANDWITH)&&(d.bandwidth=c.bandwidth),c.hasOwnProperty(o.default.WIDTH)&&(d.width=c.width),c.hasOwnProperty(o.default.HEIGHT)&&(d.height=c.height),c.hasOwnProperty(o.default.SCAN_TYPE)&&(d.scanType=c.scanType),c.hasOwnProperty(o.default.MAX_PLAYOUT_RATE)&&(d.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(o.default.SEGMENT_BASE)?(r=c.SegmentBase,d.segmentInfoType=o.default.SEGMENT_BASE):c.hasOwnProperty(o.default.SEGMENT_LIST)?(r=c.SegmentList).hasOwnProperty(o.default.SEGMENT_TIMELINE)?(d.segmentInfoType=o.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=L(r.SegmentTimeline)):(d.segmentInfoType=o.default.SEGMENT_LIST,d.useCalculatedLiveEdgeTime=!0):c.hasOwnProperty(o.default.SEGMENT_TEMPLATE)?((r=c.SegmentTemplate).hasOwnProperty(o.default.SEGMENT_TIMELINE)?(d.segmentInfoType=o.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=L(r.SegmentTimeline)):d.segmentInfoType=o.default.SEGMENT_TEMPLATE,r.hasOwnProperty(o.default.INITIALIZATION_MINUS)&&(d.initialization=r.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):d.segmentInfoType=o.default.BASE_URL,d.essentialProperties=q(c),r){if(r.hasOwnProperty(o.default.INITIALIZATION)){var f=r.Initialization;f.hasOwnProperty(o.default.SOURCE_URL)?d.initialization=f.sourceURL:f.hasOwnProperty(o.default.RANGE)&&(d.range=f.range)}else c.hasOwnProperty(o.default.MIME_TYPE)&&M(c.mimeType)&&(d.range=0);r.hasOwnProperty(o.default.TIMESCALE)&&(d.timescale=r.timescale),r.hasOwnProperty(o.default.DURATION)&&(d.segmentDuration=r.duration/d.timescale),r.hasOwnProperty(o.default.MEDIA)&&(d.media=r.media),r.hasOwnProperty(o.default.START_NUMBER)&&(d.startNumber=r.startNumber),r.hasOwnProperty(o.default.INDEX_RANGE)&&(d.indexRange=r.indexRange),r.hasOwnProperty(o.default.PRESENTATION_TIME_OFFSET)&&(d.presentationTimeOffset=r.presentationTimeOffset/d.timescale),r.hasOwnProperty(o.default.AVAILABILITY_TIME_OFFSET)?d.availabilityTimeOffset=r.availabilityTimeOffset:i&&void 0!==i.availabilityTimeOffset&&(d.availabilityTimeOffset=i.availabilityTimeOffset),r.hasOwnProperty(o.default.AVAILABILITY_TIME_COMPLETE)?d.availabilityTimeComplete="false"!==r.availabilityTimeComplete:i&&void 0!==i.availabilityTimeComplete&&(d.availabilityTimeComplete=i.availabilityTimeComplete)}d.MSETimeOffset=b.calcMSETimeOffset(d),d.path=[e.period.index,e.index,l],t.push(d)}return t},getAdaptationsForPeriod:function(e){var t=e&&w(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,n=[],r=void 0,a=void 0,l=void 0;if(t&&t.AdaptationSet_asArray)for(l=0;l<t.AdaptationSet_asArray.length;l++)a=t.AdaptationSet_asArray[l],r=new s.default,a.hasOwnProperty(o.default.ID)&&(r.id=a.id),r.index=l,r.period=e,R(a,i.default.MUXED)?r.type=i.default.MUXED:C(a)?r.type=i.default.AUDIO:A(a)?r.type=i.default.VIDEO:I(a)?r.type=i.default.FRAGMENTED_TEXT:D(a)?r.type=i.default.IMAGE:r.type=i.default.TEXT,n.push(r);return n},getRegularPeriods:function(e){var t,r=!!e&&P(e.manifest),i=[],a=null,s=null,u=null,c=null,d=void 0;for(d=0,t=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;d<t;d++)(s=e.manifest.Period_asArray[d]).hasOwnProperty(o.default.START)?(c=new l.default).start=s.start:null!==a&&a.hasOwnProperty(o.default.DURATION)&&null!==u?(c=new l.default).start=parseFloat((u.start+u.duration).toFixed(5)):0!==d||r||((c=new l.default).start=0),null!==u&&isNaN(u.duration)&&(null!==c?u.duration=parseFloat((c.start-u.start).toFixed(5)):n.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==c&&(c.id=k(s,d),c.index=d,c.mpd=e,s.hasOwnProperty(o.default.DURATION)&&(c.duration=s.duration),i.push(c),a=s,u=c),s=null,c=null;return 0===i.length||null!==u&&isNaN(u.duration)&&(u.duration=parseFloat((function(e){var t=P(e.mpd.manifest),n=void 0;e.mpd.manifest.mediaPresentationDuration?n=e.mpd.manifest.mediaPresentationDuration:e.duration?n=e.duration:t?n=Number.POSITIVE_INFINITY:T.error(new _.default(y.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e));return n}(u)-u.start).toFixed(5))),i},getMpd:function(e){var t=new u.default;return e&&(t.manifest=e,e.hasOwnProperty(o.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty(o.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(o.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(o.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(i.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(o.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(o.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,n=t?t.Period_asArray:null,r=n&&e&&w(e.index)?n[e.index].EventStream_asArray:null,a=[],s=void 0,l=void 0;if(r)for(s=0;s<r.length;s++){var u=new h.default;if(u.period=e,u.timescale=1,!r[s].hasOwnProperty(i.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(u.schemeIdUri=r[s].schemeIdUri,r[s].hasOwnProperty(o.default.TIMESCALE)&&(u.timescale=r[s].timescale),r[s].hasOwnProperty(o.default.VALUE)&&(u.value=r[s].value),l=0;r[s].Event_asArray&&l<r[s].Event_asArray.length;l++){var c=new d.default;c.presentationTime=0,c.eventStream=u,r[s].Event_asArray[l].hasOwnProperty(o.default.PRESENTATION_TIME)&&(c.presentationTime=r[s].Event_asArray[l].presentationTime),r[s].Event_asArray[l].hasOwnProperty(o.default.DURATION)&&(c.duration=r[s].Event_asArray[l].duration),r[s].Event_asArray[l].hasOwnProperty(o.default.ID)&&(c.id=r[s].Event_asArray[l].id),r[s].Event_asArray[l].Signal&&r[s].Event_asArray[l].Signal.Binary?c.messageData=S.decodeArray(r[s].Event_asArray[l].Signal.Binary):c.messageData=r[s].Event_asArray[l].messageData||r[s].Event_asArray[l].__text,a.push(c)}}return a},getEventStreamForAdaptationSet:function(e,t){var n=void 0,r=void 0,i=void 0;return e&&e.Period_asArray&&t&&t.period&&w(t.period.index)&&(r=e.Period_asArray[t.period.index])&&r.AdaptationSet_asArray&&w(t.index)&&(i=r.AdaptationSet_asArray[t.index])&&(n=i.InbandEventStream_asArray),U(n,null)},getEventStreamForRepresentation:function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&w(t.adaptation.period.index)&&(r=e.Period_asArray[t.adaptation.period.index])&&r.AdaptationSet_asArray&&w(t.adaptation.index)&&(i=r.AdaptationSet_asArray[t.adaptation.index])&&i.Representation_asArray&&w(t.index)&&(o=i.Representation_asArray[t.index])&&(n=o.InbandEventStream_asArray),U(n,t)},getUTCTimingSources:function(e){var t=P(e),n=!!e&&e.hasOwnProperty(o.default.AVAILABILITY_START_TIME),r=e?e.UTCTiming_asArray:null,a=[];return(t||n)&&r&&r.forEach((function(e){var t=new c.default;e.hasOwnProperty(i.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(o.default.VALUE)&&(t.value=e.value.toString(),a.push(t)))})),a},getBaseURLsFromElement:B,getRepresentationSortFunction:x,getLocation:function(e){if(e&&e.hasOwnProperty(i.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var t=F(e).Representation_asArray[0],n=void 0;return t.hasOwnProperty(o.default.SEGMENT_LIST)?!(n=t.SegmentList).hasOwnProperty(o.default.SEGMENT_TIMELINE)||L(n.SegmentTimeline):!(!t.hasOwnProperty(o.default.SEGMENT_TEMPLATE)||!(n=t.SegmentTemplate).hasOwnProperty(o.default.SEGMENT_TIMELINE))&&L(n.SegmentTimeline)}},n=(0,v.default)(r).getInstance().getLogger(t),t}b.__dashjs_factory_name="DashManifestModel",t.default=m.default.getSingletonFactory(b),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};r.DEFAULT_ID="defaultId",t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),o=r(n(1)),a=r(n(28)),s=r(n(299));function l(e){var t=(e=e||{}).dashManifestModel,n=e.manifestModel;function r(e){var t=n.getValue();return t?t.Period_asArray[e]:-1}function o(e){return c(e,a.default.BUFFER_LEVEL)}function l(e){if(!e)return null;var t=e.HttpList,n=null,r=void 0;if(!t||t.length<=0)return null;for(r=t.length-1;r>=0;){if(t[r].responsecode){n=t[r];break}r--}return n}function u(e){return e&&e.HttpList?e.HttpList:[]}function c(e,t){if(!e)return null;var n=e[t];return!n||n.length<=0?null:n[n.length-1]}function d(e){var t={};if(!e)return t;for(var n=e.trim().split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function f(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e)for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)for(o=r[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(i=o[s]).id)return n?s:i;return null}function h(e,n){return t.getIsTypeOf(e,n)}return{getBandwidthForRepresentation:function(e,t){var n;return null===(n=f(r(t),e))?null:n.bandwidth},getIndexForRepresentation:function(e,t){return function(e,t){var n=f(e,t,!0);if(null!==n)return n;return-1}(r(t),e)},getMaxIndexForBufferType:function(e,t){return function(e,t){var n,r=void 0,i=void 0,o=void 0;if(!e||!t)return-1;for(n=e.AdaptationSet_asArray,o=0;o<n.length;o+=1)if(r=n[o],i=r.Representation_asArray,h(r,t))return i.length;return-1}(r(t),e)},getCurrentRepresentationSwitch:function(e){return c(e,a.default.TRACK_SWITCH)},getLatestBufferLevelVO:o,getCurrentBufferLevel:function(e){var t=o(e);return t?s.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:l,getHttpRequests:u,getCurrentDroppedFrames:function(e){return c(e,a.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return c(e,a.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return c(e,a.default.DVR_INFO)},getCurrentManifestUpdate:function(e){return c(e,a.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){var n={},r=l(e);return r&&(n=d(r._responseHeaders)),void 0===n[t]?null:n[t]},getLatestMPDRequestHeaderValueByID:function(e,t){var n,r={},o=void 0,a=void 0;for(a=(n=u(e)).length-1;a>=0;a--)if((o=n[a]).type===i.HTTPRequest.MPD_TYPE){r=d(o._responseHeaders);break}return void 0===r[t]?null:r[t]},getRequestsQueue:function(e){return e?e.RequestsQueue:null}}}l.__dashjs_factory_name="DashMetrics",t.default=o.default.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"round10",value:function(e,t){return function(e,t,n){if(void 0===n||0==+n)return Math[e](t);if(n=+n,null===(t=+t)||isNaN(t)||!("number"==typeof n&&n%1==0))return NaN;return t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))}("round",e,t)}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(5)),a=r(n(1));function s(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0,r=void 0,a=void 0;function s(e){n=e}function l(e,t,r,i){return i?r&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:r?new Date(t.availabilityStartTime.getTime()+1e3*(e-n)):t.availabilityStartTime}function u(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*n)/1e3}function c(e){r||void 0!==e.offset&&(s(e.offset/1e3),r=!0)}function d(){n=0,r=!1,a=NaN}return{initialize:function(){d(),t.on(o.default.TIME_SYNCHRONIZATION_COMPLETED,c,this)},isTimeSyncCompleted:function(){return r},setTimeSyncCompleted:function(e){r=e},getClientTimeOffset:function(){return n},setClientTimeOffset:s,getExpectedLiveEdge:function(){return a},setExpectedLiveEdge:function(e){a=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return l.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return l.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:u,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,i={start:n.start,end:n.start+n.duration};if(!t)return i;if(!r&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var o=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),a=u(new Date,n),s=n.start+n.duration;i.start=Math.max(a-n.mpd.timeShiftBufferDepth,n.start);var l=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<o?o-e.availabilityTimeOffset:o;return i.end=a>=s&&a-l<s?s:a-l,i},calcWallTimeForSegment:function(e,t){var n=void 0,r=void 0,i=void 0;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i},calcMSETimeOffset:function(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function(){t.off(o.default.TIME_SYNCHRONIZATION_COMPLETED,c,this),d()}}}s.__dashjs_factory_name="TimelineConverter",t.default=a.default.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";var r,i,o,l,u,c={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")}},d={};r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t=0,n=[],i=0|e.length/3;0<i--;){var o=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push(r.charAt(63&o))}return 2==e.length-t?(o=(e[t]<<16)+(e[t+1]<<8),n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push("=")):1==e.length-t&&(o=e[t]<<16,n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push("==")),n.join("")},o=function(){for(var e=[],t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),l=function(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var i=(o[e.charCodeAt(t)]<<18)+(o[e.charCodeAt(t+1)]<<12)+(o[e.charCodeAt(t+2)]<<6)+o[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n},u={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},d.decodeArray=function(e){var t=l(e);return new Uint8Array(t)},d.encodeASCII=function(e){var t=u.encode(e);return i(t)},d.decodeASCII=function(e){var t=l(e);return u.decode(t)},d.encode=function(e){var t=c.encode(e);return i(t)},d.decode=function(e){var t=l(e);return c.decode(t)},t.decode=d.decode,t.decodeArray=d.decodeArray,t.encode=d.encode,t.encodeASCII=d.encodeASCII},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(303)),o=r(n(47)),a=r(n(305)),s=r(n(121)),l=r(n(120));function u(){var e=this.context;return{createMetricsReporting:function(t){return(0,i.default)(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel,metricsConstants:t.metricsConstants,events:t.events}),(0,a.default)(e).create(t)},getReportingFactory:function(){return(0,l.default)(e).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(e).getInstance()}}}u.__dashjs_factory_name="MetricsReporting";var c=dashjs.FactoryMaker.getClassFactory(u);c.events=o.default,dashjs.FactoryMaker.updateClassFactory(u.__dashjs_factory_name,c),t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(304)),o=r(n(47));function a(e){var t=void 0,n=void 0,r=(e=e||{}).eventBus,a=e.metricsModel,s=e.metricsConstants,l=e.events;function u(e){var t=new i.default;if(n){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.mpdurl||(t.mpdurl=n.originalUrl||n.url),t.terror||(t.terror=new Date),a.addDVBErrors(t)}}function c(e){e.error||(n=e.manifest)}function d(e){u({errorcode:i.default.BASE_URL_CHANGED,servicelocation:e.entry})}function f(){u({errorcode:i.default.BECAME_REPORTER})}function h(e){switch(e.metric){case s.HTTP_REQUEST:(0===(t=e.value).responsecode||t.responsecode>=400||t.responsecode<100||t.responsecode>=600)&&u({errorcode:t.responsecode||i.default.CONNECTION_ERROR,url:t.url,terror:t.tresponse,servicelocation:t._serviceLocation})}var t}function p(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=i.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=i.default.CORRUPT_MEDIA_OTHER;break;default:return}u({errorcode:t})}function g(){r.on(l.MANIFEST_UPDATED,c,t),r.on(l.SERVICE_LOCATION_BLACKLIST_CHANGED,d,t),r.on(l.METRIC_ADDED,h,t),r.on(l.METRIC_UPDATED,h,t),r.on(l.PLAYBACK_ERROR,p,t),r.on(o.default.BECAME_REPORTING_PLAYER,f,t)}return t={initialise:g,reset:function(){r.off(l.MANIFEST_UPDATED,c,t),r.off(l.SERVICE_LOCATION_BLACKLIST_CHANGED,d,t),r.off(l.METRIC_ADDED,h,t),r.off(l.METRIC_UPDATED,h,t),r.off(l.PLAYBACK_ERROR,p,t),r.off(o.default.BECAME_REPORTING_PLAYER,f,t)}},g(),t}a.__dashjs_factory_name="DVBErrorsTranslator",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(306)),o=r(n(317)),a=r(n(47));function s(e){e=e||{};var t={},n=this.context,r=e.eventBus,s=e.events;function l(s){if(!s.error){var l=Object.keys(t);(0,o.default)(n).getInstance({dashManifestModel:e.dashManifestModel,constants:e.constants}).getMetrics(s.manifest).forEach((function(r){var o=JSON.stringify(r);if(t.hasOwnProperty(o))l.splice(o,1);else try{var a=(0,i.default)(n).create(e);a.initialize(r),t[o]=a}catch(e){}})),l.forEach((function(e){t[e].reset(),delete t[e]})),r.trigger(a.default.METRICS_INITIALISATION_COMPLETE)}}function u(){Object.keys(t).forEach((function(e){t[e].reset()})),t={}}return r.on(s.MANIFEST_UPDATED,l),r.on(s.STREAM_TEARDOWN_COMPLETE,u),{reset:function(){r.off(s.MANIFEST_UPDATED,l),r.off(s.STREAM_TEARDOWN_COMPLETE,u)}}}s.__dashjs_factory_name="MetricsCollectionController",t.default=dashjs.FactoryMaker.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(307)),o=r(n(308)),a=r(n(312));function s(e){e=e||{};var t=void 0,n=void 0,r=void 0,s=this.context;function l(){t&&t.reset(),n&&n.reset(),r&&r.reset()}return{initialize:function(u){try{(r=(0,i.default)(s).create({mediaElement:e.mediaElement})).initialize(u.Range),(n=(0,o.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants})).initialize(u.Reporting,r),(t=(0,a.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(u.metrics,n)}catch(e){throw l(),e}},reset:l}}s.__dashjs_factory_name="MetricsController",t.default=dashjs.FactoryMaker.getClassFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(96),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t,n=!1,r=this.context,i=void 0,a=e.mediaElement;return t={initialize:function(e){e&&e.length&&(e.forEach((function(e){var t=e.starttime,n=t+e.duration;i.add(t,n)})),n=!!e[0]._useWallClockTime)},reset:function(){i.clear()},isEnabled:function(){var e,t=i.length;if(!t)return!0;e=n?(new Date).getTime()/1e3:a.currentTime;for(var r=0;r<t;r+=1){var o=i.start(r),s=i.end(r);if(o<=e&&e<s)return!0}return!1}},i=(0,o.default)(r).create(),t}a.__dashjs_factory_name="RangeController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(120),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=[],n=(0,o.default)(this.context).getInstance(e);return{initialize:function(e,r){e.some((function(e){var i=n.create(e,r);if(i)return t.push(i),!0}))},reset:function(){t.forEach((function(e){return e.reset()})),t=[]},report:function(e,n){t.forEach((function(t){return t.report(e,n)}))}}}a.__dashjs_factory_name="ReportingController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(310)),o=r(n(311));function a(e){e=e||{};var t,n=this.context,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=[],f=e.metricsConstants;function h(){s=!1,l=!1,u=null,c=null}return t={report:function(e,t){Array.isArray(t)||(t=[t]),l&&c.isEnabled()&&t.forEach((function(t){var n=r.serialise(t);e!==f.DVB_ERRORS&&(n="metricname="+e+"&"+n),function(e,t,n){var r=new XMLHttpRequest,i=function(){var e=d.indexOf(r);-1!==e&&(d.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};d.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(e){r.onerror()}}(n=u+"?"+n,null,(function(){l=!1}))}))},initialize:function(e,t){var n=void 0;if(c=t,!(u=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");s||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=a.random())&&(l=!0),s=!0)},reset:function(){h()}},r=(0,i.default)(n).getInstance(),a=(0,o.default)(n).getInstance(),h(),t}a.__dashjs_factory_name="DVBReporting",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(){return{serialise:function e(t){var n=[],r=[],i=void 0,o=void 0;for(i in t)if(t.hasOwnProperty(i)&&0!==i.indexOf("_")){if(null==(o=t[i])&&(o=""),Array.isArray(o)){if(!o.length)continue;r=[],o.forEach((function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);r.push(n?t:e(t))})),o=r.map(encodeURIComponent).join(",")}else"string"==typeof o?o=encodeURIComponent(o):o instanceof Date?o=o.toISOString():"number"==typeof o&&(o=Math.round(o));n.push(i+"="+o)}return n.join("&")}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="MetricSerialiser",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){var e,t=window.crypto||window.msCrypto,n=Uint32Array,r=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,i=void 0,o=void 0;function a(){t&&(i||(i=new n(10)),t.getRandomValues(i),o=0)}return e={random:function(e,n){var s=void 0;return e||(e=0),n||(n=1),t?(o===i.length&&a(),s=i[o]/r,o+=1):s=Math.random(),s*(n-e)+e}},a(),e}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="RNG",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(121),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=[],n=void 0,r=this.context,i=e.eventBus,a=e.events,s=(0,o.default)(r).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function l(e){t.forEach((function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)}))}return n={initialize:function(e,r){e.split(",").forEach((function(e,n,i){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=i[n+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete i[n+1])}(o=s.create(e,r))&&t.push(o)})),i.on(a.METRIC_ADDED,l,n),i.on(a.METRIC_UPDATED,l,n)},reset:function(){i.off(a.METRIC_ADDED,l,n),i.off(a.METRIC_UPDATED,l,n),t.forEach((function(e){return e.reset()})),t=[]}}}a.__dashjs_factory_name="MetricsHandlersController",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(122),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,s=this.context,l=(0,o.default)(s).getInstance(),u=[],c=e.metricsConstants;function d(){var e=function(){try{return Object.keys(u).map((function(e){return u[e]})).reduce((function(e,t){return e.level<t.level?e:t}))}catch(e){return}}();e&&a!==e.t&&(a=e.t,t.report(r,e))}return{initialize:function(e,o,a){o&&(n=l.validateN(a),t=o,r=l.reconstructFullMetricName(e,a),i=setInterval(d,n))},reset:function(){clearInterval(i),i=null,n=0,t=null,a=null},handleNewMetric:function(e,t,n){e===c.BUFFER_LEVEL&&(u[n]=t)}}}a.__dashjs_factory_name="BufferLevelHandler",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(47),o=(r=i)&&r.__esModule?r:{default:r};t.default=dashjs.FactoryMaker.getClassFactory((function(e){var t=void 0,n=(e=e||{}).eventBus,r=e.metricsConstants;function i(){n.off(o.default.METRICS_INITIALISATION_COMPLETE,i,this),n.trigger(o.default.BECAME_REPORTING_PLAYER)}return{initialize:function(e,r){r&&(t=r,n.on(o.default.METRICS_INITIALISATION_COMPLETE,i,this))},reset:function(){t=null},handleNewMetric:function(e,n){e===r.DVB_ERRORS&&t&&t.report(e,n)}}})),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(122),o=(r=i)&&r.__esModule?r:{default:r};function a(e){e=e||{};var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,s=[],l=(0,o.default)(this.context).getInstance(),u=e.metricsConstants;function c(){var e=s;e.length&&t&&t.report(i,e),s=[]}return{initialize:function(e,o,s,u){o&&(n=l.validateN(s),t=o,u&&u.length&&(r=u),i=l.reconstructFullMetricName(e,s,u),a=setInterval(c,n))},reset:function(){clearInterval(a),a=null,n=null,r=null,s=[],t=null},handleNewMetric:function(e,t){e===u.HTTP_REQUEST&&(r&&r!==t.type||s.push(t))}}}a.__dashjs_factory_name="HttpListHandler",t.default=dashjs.FactoryMaker.getClassFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(){var e=void 0,t=void 0;return{initialize:function(n,r){e=n,t=r},reset:function(){t=null,e=void 0},handleNewMetric:function(n,r){n===e&&t&&t.report(e,r)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="GenericMetricHandler",t.default=dashjs.FactoryMaker.getClassFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(318)),o=r(n(319)),a=r(n(320));function s(e){var t=(e=e||{}).dashManifestModel,n=e.constants;return{getMetrics:function(e){var r=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach((function(s){var l=new i.default,u=t.getIsDynamic(e);s.hasOwnProperty("metrics")&&(l.metrics=s.metrics,s.Range_asArray&&s.Range_asArray.forEach((function(r){var i=new o.default;i.starttime=function(e,r,i){var o,a,s=t.getMpd(e),l=0;return r?l=s.availabilityStartTime.getTime()/1e3:(o=this.getRegularPeriods(s)).length&&(l=o[0].start),a=l,i&&i.hasOwnProperty(n.START_TIME)&&(a+=i.starttime),a}(e,u,r),r.hasOwnProperty("duration")?i.duration=r.duration:i.duration=t.getDuration(e),i._useWallClockTime=u,l.Range.push(i)})),s.Reporting_asArray&&(s.Reporting_asArray.forEach((function(e){var t=new a.default;if(e.hasOwnProperty(n.SCHEME_ID_URI)){for(var r in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(r)&&(t[r]=e[r]);l.Reporting.push(t)}})),r.push(l)))})),r}}}s.__dashjs_factory_name="ManifestParsing",t.default=dashjs.FactoryMaker.getSingletonFactory(s),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metrics="",this.Range=[],this.Reporting=[]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(322)),o=r(n(48)),a=r(n(332)),s=r(n(37)),l=r(n(333)),u=r(n(334)),c=r(n(335)),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function h(){var e=void 0,t=this.context;function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}return e={createProtectionSystem:function(r){var a=null,s=(0,o.default)(t).getInstance();s.setConfig({debug:r.debug,BASE64:r.BASE64}),s.initialize();var h=function(r){var i=r.debug,o=i.getLogger(e),a=r.eventBus,s=r.errHandler,h=r.videoModel?r.videoModel.getElement():null;return h&&void 0===h.onencrypted||h&&void 0===h.mediaKeys?n(h,f)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,u.default)(t).create({debug:i,eventBus:a,events:r.events,api:n(h,f)})):n(h,d)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,c.default)(t).create({debug:i,eventBus:a,errHandler:s,events:r.events,api:n(h,d)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,l.default)(t).create({debug:i,eventBus:a,events:r.events}))}(r);return!a&&h&&(a=(0,i.default)(t).create({protectionModel:h,protectionKeyController:s,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants}),r.capabilities.setEncryptedMediaSupported(!0)),a}}}h.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(h);p.events=a.default,p.errors=s.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(323)),a=r(n(72)),s=r(n(37)),l=r(n(6));function u(e){var t=(e=e||{}).protectionKeyController,n=e.protectionModel,r=e.eventBus,u=e.events,c=e.debug,d=e.BASE64,f=e.constants,h=[],p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0;function T(e,o){var a=i.default.getPSSHForKeySystem(b,e),c=R(b);if(a){for(var d=n.getAllInitData(),f=0;f<d.length;f++)if(t.initDataEquals(a,d[f]))return void g.warn("DRM: Ignoring initData because we have already seen it!");try{n.createKeySession(a,c,A(b),o)}catch(e){r.trigger(u.KEY_SESSION_CREATED,{data:null,error:new l.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?n.createKeySession(e,c,A(b),o):r.trigger(u.KEY_SESSION_CREATED,{data:null,error:new l.default(s.default.KEY_SESSION_CREATED_ERROR_CODE,s.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+b.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function S(e,t){n.loadKeySession(e,t,A(b))}function w(e){e?(n.setMediaElement(e),r.on(u.NEED_KEY,N,this)):null===e&&(n.setMediaElement(e),r.off(u.NEED_KEY,N,this))}function R(e){var t=null;if(e){var n=e.systemString;_&&(t=n in _?_[n]:null)}return t}function C(e){var t=R(e),n=[],r=[],i=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:E,s=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:E,l=A(e),u=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",c=t&&t.persistentState?t.persistentState:"temporary"===l?"optional":"required";return v.forEach((function(e){e.type===f.AUDIO?n.push(new o.default(e.codec,i)):e.type===f.VIDEO&&r.push(new o.default(e.codec,s))})),new a.default(n,r,u,c,[l])}function A(e){var t=R(e);return t&&t.sessionType?t.sessionType:y}function I(e,i){var o=this,a=[],c=void 0;if(b)for(c=0;c<e.length;c++){if(b===e[c].ks)if("break"===function(){a.push({ks:e[c].ks,configs:[C(b)]});return r.on(u.KEY_SYSTEM_ACCESS_COMPLETE,(function t(n){r.off(u.KEY_SYSTEM_ACCESS_COMPLETE,t,o),n.error?i||r.trigger(u.KEY_SYSTEM_SELECTED,{error:new l.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+n.error)}):(g.info("DRM: KeySystem Access Granted"),r.trigger(u.KEY_SYSTEM_SELECTED,{data:n.data}),e[c].sessionId?S(e[c].sessionId,e[c].initData):e[c].initData&&T(e[c].initData,e[c].cdmData))}),o),n.requestKeySystemAccess(a),"break"}())break}else if(void 0===b){var f;!function(){b=null,m.push(e);for(var h=0;h<e.length;h++)a.push({ks:e[h].ks,configs:[C(e[h].ks)]});var p=void 0,v=function e(t){r.off(u.KEY_SYSTEM_ACCESS_COMPLETE,e,o),t.error?(b=void 0,r.off(u.INTERNAL_KEY_SYSTEM_SELECTED,f,o),i||r.trigger(u.KEY_SYSTEM_SELECTED,{data:null,error:new l.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+t.error)})):(p=t.data,g.info("DRM: KeySystem Access Granted ("+p.keySystem.systemString+")!  Selecting key system..."),n.selectKeySystem(p))};f=function e(a){if(r.off(u.INTERNAL_KEY_SYSTEM_SELECTED,e,o),r.off(u.KEY_SYSTEM_ACCESS_COMPLETE,v,o),a.error)b=void 0,i||r.trigger(u.KEY_SYSTEM_SELECTED,{data:null,error:new l.default(s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,s.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+a.error)});else{if(!n)return;b=n.getKeySystem(),r.trigger(u.KEY_SYSTEM_SELECTED,{data:p});var f=R(b);f&&f.serverCertificate&&f.serverCertificate.length>0&&n.setServerCertificate(d.decodeArray(f.serverCertificate).buffer);for(var h=0;h<m.length;h++)for(c=0;c<m[h].length;c++)if(b===m[h][c].ks){if(t.isClearKey(b)&&f&&f.hasOwnProperty("clearkeys")){var g={kids:Object.keys(f.clearkeys)};m[h][c].initData=(new TextEncoder).encode(JSON.stringify(g))}m[h][c].sessionId?S(m[h][c].sessionId,m[h][c].initData):null!==m[h][c].initData&&T(m[h][c].initData,m[h][c].cdmData);break}}},r.on(u.INTERNAL_KEY_SYSTEM_SELECTED,f,o),r.on(u.KEY_SYSTEM_ACCESS_COMPLETE,v,o),n.requestKeySystemAccess(a)}()}else m.push(e)}function D(e,t){r.trigger(u.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function M(e){e.error?r.trigger(u.KEY_STATUSES_CHANGED,{data:null,error:e.error}):g.debug("DRM: key status = "+e.status)}function x(e){g.debug("DRM: onKeyMessage");var o=e.data;r.trigger(u.KEY_MESSAGE,{data:o});var a=o.messageType?o.messageType:"license-request",c=o.message,d=o.sessionToken,f=R(b),h=b?b.systemString:null,p=t.getLicenseServer(b,f,a),m={sessionToken:d,messageType:a};if(c&&0!==c.byteLength){if(!p)return g.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+d.getSessionID()),void D(m);if(t.isClearKey(b)){var v=t.processClearKeyLicenseRequest(b,f,c);if(v)return g.debug("DRM: ClearKey license request handled by application!"),D(m),void n.updateKeySession(d,v)}var _=null;if(f&&f.serverURL){var y=f.serverURL;"string"==typeof y&&""!==y?_=y:"object"==typeof y&&y.hasOwnProperty(a)&&(_=y[a])}else f&&f.laURL&&""!==f.laURL?_=f.laURL:(_=b.getLicenseServerURLFromInitData(i.default.getPSSHData(d.initData)))||(_=e.data.laURL);if(_=p.getServerURLFromMessage(_,c,a)){var E={},T=!1,S=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(T=!0),E[t]=e[t]};f&&S(f.httpRequestHeaders),S(b.getRequestHeadersFromMessage(c)),f&&"boolean"==typeof f.withCredentials&&(T=f.withCredentials);var w=function(e,t,n,r){var i=e.response?p.getErrorResponse(e.response,n,r):"NONE";D(t,new l.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i))},C=b.getLicenseRequestFromMessage(c),A=p.getHTTPMethod(a),I=p.getResponseType(h,a),M=f&&!isNaN(f.httpTimeout)?f.httpTimeout:8e3;!function e(t,n,r,i,o,a,s,l,u,c,d){var f=new XMLHttpRequest;f.open(r,t,!0),f.responseType=i,f.withCredentials=o,l>0&&(f.timeout=l);for(var h in n)f.setRequestHeader(h,n[h]);var p=function(){s--,setTimeout((function(){e(t,n,r,i,o,a,s,l,u,c,d)}),1e3)};f.onload=function(){200===this.status||s<=0?u(this):(g.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+s),p())},f.ontimeout=f.onerror=function(){s<=0?d(this):(g.warn("License request network request failed . Retrying it... Pending retries: "+s),p())},f.onabort=function(){c(this)},f.send(a)}(_,E,A,I,T,C,3,M,(function(e){if(n)if(200===e.status){var t=p.getLicenseMessage(e.response,h,a);null!==t?(D(m),n.updateKeySession(d,t)):w(e,m,h,a)}else w(e,m,h,a)}),(function(e){D(m,new l.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}),(function(e){D(m,new l.default(s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+h+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))}))}else D(m,new l.default(s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else D(m,new l.default(s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,s.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function N(e,r){if(g.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===v.length&&(g.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(r=void 0===r?1:r+1)<5))h.push(setTimeout((function(){N(e,r)}),500));else{var o=e.key.initData;if(ArrayBuffer.isView(o)&&(o=o.buffer),b){var a=i.default.getPSSHForKeySystem(b,o);if(a)for(var s=n.getAllInitData(),l=0;l<s.length;l++)if(t.initDataEquals(a,s[l]))return void g.warn("DRM: Ignoring initData because we have already seen it!")}g.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(o)));var u=t.getSupportedKeySystems(o,_);0!==u.length?I(u,!1):g.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else g.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return p={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");!function(){if(!(r&&r.hasOwnProperty("on")&&t&&t.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}(),r.on(u.INTERNAL_KEY_MESSAGE,x,this),r.on(u.INTERNAL_KEY_STATUS_CHANGED,M,this),v.push(e);var n=t.getSupportedKeySystemsFromContentProtection(e.contentProtection);n&&n.length>0&&I(n,!0)},createKeySession:T,loadKeySession:S,removeKeySession:function(e){n.removeKeySession(e)},closeKeySession:function(e){n.closeKeySession(e)},setServerCertificate:function(e){n.setServerCertificate(e)},setMediaElement:w,setSessionType:function(e){y=e},setRobustnessLevel:function(e){E=e},setProtectionData:function(e){_=e,t.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return t.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function(){return t?t.getKeySystems():[]},stop:function(){n&&n.stop()},reset:function(){r.off(u.INTERNAL_KEY_MESSAGE,x,this),r.off(u.INTERNAL_KEY_STATUS_CHANGED,M,this),w(null),b=void 0,n&&(n.reset(),n=null),h.forEach((function(e){return clearTimeout(e)})),h=[],v=[]}},g=c.getLogger(p),m=[],v=[],y="temporary",E="",p}u.__dashjs_factory_name="ProtectionController",t.default=dashjs.FactoryMaker.getClassFactory(u),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=t,this.robustness=n},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(73)),o=r(n(74)),a=r(n(31)),s=r(n(23)),l="e2719d58-a985-b3c9-781a-b030af78d30e",u=s.default.CLEARKEY_KEYSTEM_STRING;function c(e){var t=(e=e||{}).BASE64;return{uuid:l,schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:u,getInitData:function(e){return a.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),a=[],s=0;s<r.kids.length;s++){var l=r.kids[s],u=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!u)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");a.push(new i.default(l,u))}n=new o.default(a)}return n}}}c.__dashjs_factory_name="KeySystemClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(73)),o=r(n(74)),a=r(n(31)),s=r(n(23)),l="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",u=s.default.CLEARKEY_KEYSTEM_STRING;function c(e){var t=void 0,n=e.BASE64,r=e.debug.getLogger(t);return t={uuid:l,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:u,getInitData:function(e){return a.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],l=0;l<a.kids.length;l++){var u=a.kids[l],c=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!c)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");s.push(new i.default(u,c))}n=new o.default(s),r.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return n}}}c.__dashjs_factory_name="KeySystemW3CClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(c),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(23)),a="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",s=o.default.WIDEVINE_KEYSTEM_STRING;function l(e){var t=null,n=(e=e||{}).BASE64;return{uuid:a,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:s,init:function(e){e&&(t=e)},getInitData:function(e){return i.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}l.__dashjs_factory_name="KeySystemWidevine",t.default=dashjs.FactoryMaker.getSingletonFactory(l),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(31)),o=r(n(23)),a="9a04f079-9840-4286-ab92-e65be0885f95",s=o.default.PLAYREADY_KEYSTEM_STRING,l=void 0;function u(e){var t="utf16",n=(e=e||{}).BASE64;function r(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:a,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:s,getInitData:function(e){var t,o,a,s=new Uint8Array([112,115,115,104,0,0,0,0]),l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=0,c=null,d=void 0,f=void 0;if(r(),"pssh"in e)return i.default.parseInitDataFromContentProtection(e,n);if("pro"in e)c=n.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;c=n.decodeArray(e.prheader.__text)}return t=c.length,o=4+s.length+l.length+4+t,a=new ArrayBuffer(o),d=new Uint8Array(a),(f=new DataView(a)).setUint32(u,o),u+=4,d.set(s,u),u+=s.length,d.set(l,u),u+=l.length,f.setUint32(u,t),u+=4,d.set(c,u),u+=t,d.buffer},getRequestHeadersFromMessage:function(e){var n,r=void 0,i={},o=new DOMParser,a="utf16"===t?new Uint16Array(e):new Uint8Array(e);n=String.fromCharCode.apply(null,a);for(var s=(r=o.parseFromString(n,"application/xml")).getElementsByTagName("name"),l=r.getElementsByTagName("value"),u=0;u<s.length;u++)i[s[u].childNodes[0].nodeValue]=l[u].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i.hasOwnProperty("Content-Type")||(i["Content-Type"]="text/xml; charset="+t),i},getLicenseRequestFromMessage:function(e){var i=null,o=new DOMParser,a="utf16"===t?new Uint16Array(e):new Uint8Array(e);r();var s=String.fromCharCode.apply(null,a),l=o.parseFromString(s,"application/xml");if(l.getElementsByTagName("Challenge")[0]){var u=l.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;u&&(i=n.decode(u))}else if(l.getElementsByTagName("parsererror").length)return e;return i},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var l=e.slice(r,r+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),c=i.parseFromString(u,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var d=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(d)return d}if(c.getElementsByTagName("LUI_URL")[0]){var f=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(f)return f}}else r+=s}return null},getCDMData:function(){var e=void 0,t=void 0,i=void 0,o=void 0;if(r(),l&&l.cdmData){for(e=[],o=0;o<l.cdmData.length;++o)e.push(l.cdmData.charCodeAt(o)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=n.encode(e),t='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",e),i=[],o=0;o<t.length;++o)i.push(t.charCodeAt(o)),i.push(0);return new Uint8Array(i).buffer}return null},getSessionId:function(e){return l&&l.sessionId?l.sessionId:e&&e.sessionId?e.sessionId:null},setPlayReadyMessageFormat:function(e){if("utf8"!==e&&"utf16"!==e)throw new Error("Illegal PlayReady message format! -- "+e);t=e},init:function(e){e&&(l=e)}}}u.__dashjs_factory_name="KeySystemPlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(u),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(23),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t=(e=e||{}).BASE64,n={};n[o.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[o.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}};return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}a.__dashjs_factory_name="DRMToday",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";function r(){var e="http://schemas.xmlsoap.org/soap/envelope/";function t(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function n(n){if(window.DOMParser){var r=t(n),i=(new window.DOMParser).parseFromString(r,"text/xml"),o=i?i.getElementsByTagNameNS(e,"Envelope")[0]:null,a=o?o.getElementsByTagNameNS(e,"Body")[0]:null;if(a?a.getElementsByTagNameNS(e,"Fault")[0]:null)return null}return n}function r(n){var r="",i="",o="",a=-1,s=-1;if(window.DOMParser){var l=t(n),u=(new window.DOMParser).parseFromString(l,"text/xml"),c=u?u.getElementsByTagNameNS(e,"Envelope")[0]:null,d=c?c.getElementsByTagNameNS(e,"Body")[0]:null,f=d?d.getElementsByTagNameNS(e,"Fault")[0]:null,h=f?f.getElementsByTagName("detail")[0]:null,p=h?h.getElementsByTagName("Exception")[0]:null,g=null;if(null===f)return l;r=(g=f.getElementsByTagName("faultstring")[0].firstChild)?g.nodeValue:null,null!==p&&(i=(g=p.getElementsByTagName("StatusCode")[0])?g.firstChild.nodeValue:null,a=(o=(g=p.getElementsByTagName("Message")[0])?g.firstChild.nodeValue:null)?o.lastIndexOf("[")+1:-1,s=o?o.indexOf("]"):-1,o=o?o.substring(a,s):"")}var m="code: "+i+", name: "+r;return o&&(m+=", message: "+o),m}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return n.call(this,e)},getErrorResponse:function(e){return r.call(this,e)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="PlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(t,"__esModule",{value:!0}),r.__dashjs_factory_name="Widevine",t.default=dashjs.FactoryMaker.getSingletonFactory(r),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(73)),o=r(n(74));function a(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],a=r.kid.replace(/=/g,""),s=r.k.replace(/=/g,"");t.push(new i.default(a,s))}return new o.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}a.__dashjs_factory_name="ClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(a),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39),o=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default));t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(48)),o=r(n(75)),a=r(n(37)),s=r(n(6)),l=r(n(76)),u=r(n(77)),c=r(n(23));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0;function E(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function b(e){for(var t=0;t<v.length;t++)if(v[t]===e){v.splice(t,1);break}}function T(e){var t=void 0,n=void 0;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:n=e[1])),{status:t,keyId:n}}function S(e,t,i,o){var u={session:e,initData:t,sessionId:o,handleEvent:function(e){switch(e.type){case"keystatuseschange":n.trigger(r.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach((function(){var e=T(arguments);switch(e.status){case"expired":n.trigger(r.INTERNAL_KEY_STATUS_CHANGED,{error:new s.default(a.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,a.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:n.trigger(r.INTERNAL_KEY_STATUS_CHANGED,e)}}));break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new l.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getUsable:function(){var t=!1;return e.keyStatuses.forEach((function(){var e=T(arguments);"usable"===e.status&&(t=!0)})),t},getSessionType:function(){return i}};return e.addEventListener("keystatuseschange",u),e.addEventListener("message",u),e.closed.then((function(){b(u),h.debug("DRM: Session closed.  SessionID = "+u.getSessionID()),n.trigger(r.KEY_SESSION_CLOSED,{data:u.getSessionID()})})),v.push(u),u}return f={getAllInitData:function(){for(var e=[],t=0;t<v.length;t++)v[t].initData&&e.push(v[t].initData);return e},requestKeySystemAccess:function(e){!function e(t,i){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});!function(i){var o=t[i].ks,a=t[i].configs,s=o.systemString;s===c.default.PLAYREADY_KEYSTEM_STRING&&"required"===a[0].persistentState&&(s+=".recommendation"),navigator.requestMediaKeySystemAccess(s,a).then((function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,i=new u.default(o,t);i.mksa=e,n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:i})})).catch((function(o){++i<t.length?e(t,i):n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+o.message})}))}(i)}(e,0)},getKeySystem:function(){return p},selectKeySystem:function(e){e.mksa.createMediaKeys().then((function(t){p=e.keySystem,m=t,g?g.setMediaKeys(m).then((function(){n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED)})):n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED)})).catch((function(){n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))},setMediaElement:function(e){g!==e&&(g&&(g.removeEventListener("encrypted",_),g.setMediaKeys&&g.setMediaKeys(null)),(g=e)&&(g.addEventListener("encrypted",_),g.setMediaKeys&&m&&g.setMediaKeys(m)))},setServerCertificate:function(e){if(!p||!m)throw new Error("Can not set server certificate until you have selected a key system");m.setServerCertificate(e).then((function(){h.info("DRM: License server certificate successfully updated."),n.trigger(r.SERVER_CERTIFICATE_UPDATED)})).catch((function(e){n.trigger(r.SERVER_CERTIFICATE_UPDATED,{error:new s.default(a.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,a.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})}))},createKeySession:function(e,t,i){if(!p||!m)throw new Error("Can not create sessions until you have selected a key system");var o=m.createSession(i),l=S(o,e,i),u=this.getKeySystem().systemString===c.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";o.generateRequest(u,e).then((function(){h.debug("DRM: Session created.  SessionID = "+l.getSessionID()),n.trigger(r.KEY_SESSION_CREATED,{data:l})})).catch((function(e){b(l),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new s.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})}))},updateKeySession:function(e,t){var i=e.session;y.isClearKey(p)&&(t=t.toJWK()),i.update(t).catch((function(t){n.trigger(r.KEY_ERROR,{data:new s.default(a.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})}))},loadKeySession:function(e,t,i){if(!p||!m)throw new Error("Can not load sessions until you have selected a key system");for(var o=0;o<v.length;o++)if(e===v[o].sessionId)return void h.warn("DRM: Ignoring session ID because we have already seen it!");var l=m.createSession(i),u=S(l,t,i,e);l.load(e).then((function(t){t?(h.debug("DRM: Session loaded.  SessionID = "+u.getSessionID()),n.trigger(r.KEY_SESSION_CREATED,{data:u})):(b(u),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new s.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+e+")")}))})).catch((function(t){b(u),n.trigger(r.KEY_SESSION_CREATED,{data:null,error:new s.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+e+")! "+t.name)})}))},removeKeySession:function(e){e.session.remove().then((function(){h.debug("DRM: Session removed.  SessionID = "+e.getSessionID()),n.trigger(r.KEY_SESSION_REMOVED,{data:e.getSessionID()})}),(function(t){n.trigger(r.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})}))},closeKeySession:function(e){E(e).catch((function(t){b(e),n.trigger(r.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})}))},stop:function(){for(var e=void 0,t=0;t<v.length;t++)(e=v[t]).getUsable()||E(e).catch((function(){b(e)}))},reset:function(){var e=v.length,t=void 0;0!==e?function(){for(var i=function(e){b(e),0===v.length&&(g?(g.removeEventListener("encrypted",_),g.setMediaKeys(null).then((function(){n.trigger(r.TEARDOWN_COMPLETE)}))):n.trigger(r.TEARDOWN_COMPLETE))},o=0;o<e;o++)!function(e){t.session.closed.then((function(){i(e)})),E(t).catch((function(){i(e)}))}(t=v[o])}():n.trigger(r.TEARDOWN_COMPLETE)}},h=d.getLogger(f),p=null,g=null,m=null,v=[],y=(0,i.default)(t).getInstance(),_={handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new o.default(t,e.initDataType)})}}}},f}d.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(48)),o=r(n(75)),a=r(n(6)),s=r(n(37)),l=r(n(76)),u=r(n(72)),c=r(n(77));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=e.api,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0;function T(){try{for(var e=0;e<y.length;e++)S(y[e]);g&&g.removeEventListener(f.needkey,E),n.trigger(r.TEARDOWN_COMPLETE)}catch(e){n.trigger(r.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function S(e){var t=e.session;t.removeEventListener(f.error,e),t.removeEventListener(f.message,e),t.removeEventListener(f.ready,e),t.removeEventListener(f.close,e);for(var n=0;n<y.length;n++)if(y[n]===e){y.splice(n,1);break}t[f.release]()}function w(){var e=null,t=function(){g.removeEventListener("loadedmetadata",e),g[f.setMediaKeys](v),n.trigger(r.VIDEO_ELEMENT_SELECTED)};g.readyState>=1?t():(e=t.bind(this),g.addEventListener("loadedmetadata",e))}return h={getAllInitData:function(){for(var e=[],t=0;t<y.length;t++)e.push(y[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,i=0;i<e.length;i++)for(var o=e[i].ks.systemString,a=e[i].configs,s=null,l=null,d=0;d<a.length;d++){var h=a[d].audioCapabilities,p=a[d].videoCapabilities;if(h&&0!==h.length){s=[];for(var g=0;g<h.length;g++)window[f.MediaKeys].isTypeSupported(o,h[g].contentType)&&s.push(h[g])}if(p&&0!==p.length){l=[];for(var m=0;m<p.length;m++)window[f.MediaKeys].isTypeSupported(o,p[m].contentType)&&l.push(p[m])}if(!(!s&&!l||s&&0===s.length||l&&0===l.length)){t=!0;var v=new u.default(s,l),_=b.getKeySystemBySystemString(o);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:new c.default(_,v)});break}}t||n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return m},selectKeySystem:function(e){try{v=e.mediaKeys=new window[f.MediaKeys](e.keySystem.systemString),m=e.keySystem,_=e,g&&w(),n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+m.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){g!==e&&(g&&g.removeEventListener(f.needkey,E),(g=e)&&(g.addEventListener(f.needkey,E),v&&w()))},createKeySession:function(e,t,i,o){if(!m||!v||!_)throw new Error("Can not create sessions until you have selected a key system");var u=null;if(_.ksConfiguration.videoCapabilities&&_.ksConfiguration.videoCapabilities.length>0&&(u=_.ksConfiguration.videoCapabilities[0]),null===u&&_.ksConfiguration.audioCapabilities&&_.ksConfiguration.audioCapabilities.length>0&&(u=_.ksConfiguration.audioCapabilities[0]),null===u)throw new Error("Can not create sessions for unknown content types.");var c=u.contentType,d=v.createSession(c,new Uint8Array(e),o?new Uint8Array(o):null),h=function(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case f.error:n.trigger(r.KEY_ERROR,{data:new a.default(s.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case f.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new l.default(this,t,e.destinationURL)});break;case f.ready:p.debug("DRM: Key added."),n.trigger(r.KEY_ADDED);break;case f.close:p.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),n.trigger(r.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}(d,e);d.addEventListener(f.error,h),d.addEventListener(f.message,h),d.addEventListener(f.ready,h),d.addEventListener(f.close,h),y.push(h),p.debug("DRM: Session created.  SessionID = "+h.getSessionID()),n.trigger(r.KEY_SESSION_CREATED,{data:h})},updateKeySession:function(e,t){var n=e.session;b.isClearKey(m)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))},closeKeySession:S,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:T,reset:T},p=d.getLogger(h),g=null,m=null,v=null,_=null,y=[],b=(0,i.default)(t).getInstance(),E={handleEvent:function(e){switch(e.type){case f.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new o.default(t,"cenc")})}}}},h}d.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(48)),o=r(n(75)),a=r(n(6)),s=r(n(76)),l=r(n(72)),u=r(n(77)),c=r(n(37));function d(e){e=e||{};var t=this.context,n=e.eventBus,r=e.events,d=e.debug,f=e.api,h=e.errHandler,p=void 0,g=void 0,m=void 0,v=void 0,_=void 0,y=void 0,E=void 0,b=void 0,T=void 0;function S(){m&&C();for(var e=0;e<E.length;e++)w(E[e]);n.trigger(r.TEARDOWN_COMPLETE)}function w(e){try{m[f.cancelKeyRequest](v.systemString,e.sessionID)}catch(t){n.trigger(r.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function R(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function C(){m.removeEventListener(f.keyerror,T),m.removeEventListener(f.needkey,T),m.removeEventListener(f.keymessage,T),m.removeEventListener(f.keyadded,T)}return p={getAllInitData:function(){for(var e=[],t=0;t<y.length;t++)e.push(y[t].initData);for(t=0;t<E.length;t++)e.push(E[t].initData);return e},requestKeySystemAccess:function(e){var t=m;t||(t=document.createElement("video"));for(var i=!1,o=0;o<e.length;o++)for(var a=e[o].ks.systemString,s=e[o].configs,c=null,d=0;d<s.length;d++){var f=s[d].videoCapabilities;if(f&&0!==f.length){c=[];for(var h=0;h<f.length;h++)""!==t.canPlayType(f[h].contentType,a)&&c.push(f[h])}if(c&&(!c||0!==c.length)){i=!0;var p=new l.default(null,c),g=_.getKeySystemBySystemString(a);n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:new u.default(g,p)});break}}i||n.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return v},selectKeySystem:function(e){v=e.keySystem,n.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){if(m!==e){if(m){C();for(var t=0;t<E.length;t++)w(E[t]);E=[]}(m=e)&&(m.addEventListener(f.keyerror,T),m.addEventListener(f.needkey,T),m.addEventListener(f.keymessage,T),m.addEventListener(f.keyadded,T),n.trigger(r.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!v)throw new Error("Can not create sessions until you have selected a key system");if(b||0===E.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return y.push(t),m[f.generateKeyRequest](v.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(_.isClearKey(v))for(var r=0;r<t.keyPairs.length;r++)m[f.addKey](v.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else m[f.addKey](v.systemString,new Uint8Array(t),new Uint8Array(e.initData),n)},closeKeySession:w,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:S,reset:S},g=d.getLogger(p),m=null,v=null,y=[],E=[],_=(0,i.default)(t).getInstance(),T={handleEvent:function(e){var t=null;switch(e.type){case f.needkey:var i=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;n.trigger(r.NEED_KEY,{key:new o.default(i,"cenc")});break;case f.keyerror:if((t=R(E,e.sessionId))||(t=R(y,e.sessionId)),t){var l=c.default.MEDIA_KEYERR_CODE,u="";switch(e.errorCode.code){case 1:l=c.default.MEDIA_KEYERR_UNKNOWN_CODE,u+="MEDIA_KEYERR_UNKNOWN - "+c.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:l=c.default.MEDIA_KEYERR_CLIENT_CODE,u+="MEDIA_KEYERR_CLIENT - "+c.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:l=c.default.MEDIA_KEYERR_SERVICE_CODE,u+="MEDIA_KEYERR_SERVICE - "+c.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:l=c.default.MEDIA_KEYERR_OUTPUT_CODE,u+="MEDIA_KEYERR_OUTPUT - "+c.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:l=c.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,u+="MEDIA_KEYERR_HARDWARECHANGE - "+c.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:l=c.default.MEDIA_KEYERR_DOMAIN_CODE,u+="MEDIA_KEYERR_DOMAIN - "+c.default.MEDIA_KEYERR_DOMAIN_MESSAGE}u+="  System Code = "+e.systemCode,n.trigger(r.KEY_ERROR,{data:new a.default(l,u,t)})}else g.error("No session token found for key error");break;case f.keyadded:(t=R(E,e.sessionId))||(t=R(y,e.sessionId)),t?(g.debug("DRM: Key added."),n.trigger(r.KEY_ADDED,{data:t})):g.debug("No session token found for key added");break;case f.keymessage:if((b=null!==e.sessionId&&void 0!==e.sessionId)?!(t=R(E,e.sessionId))&&y.length>0&&(t=y.shift(),E.push(t),t.sessionID=e.sessionId,n.trigger(r.KEY_SESSION_CREATED,{data:t})):y.length>0&&(t=y.shift(),E.push(t),0!==y.length&&(h.mediaKeyMessageError(c.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE),h.error(new a.default(c.default.MEDIA_KEY_MESSAGE_ERROR_CODE,c.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)))),t){var d=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=d,n.trigger(r.INTERNAL_KEY_MESSAGE,{data:new s.default(t,d,e.defaultURL)})}else g.warn("No session token found for key message")}}},p}d.__dashjs_factory_name="ProtectionModel_01b",t.default=dashjs.FactoryMaker.getClassFactory(d),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(94),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){var e=void 0;function t(t,n,r){if(!t||!/^VIDEO$/i.test(t.nodeName))return null;if(t._dashjs_player)return t._dashjs_player;var i=void 0,a=t.id||t.name||"video element";if(!(n=n||[].slice.call(t.querySelectorAll("source")).filter((function(e){return"application/dash+xml"==e.type}))[0])&&t.src)(n=document.createElement("source")).src=t.src;else if(!n&&!t.src)return null;return r=r||{},(i=(0,o.default)(r).create()).initialize(t,n.src,t.autoplay),e||(e=i.getDebug().getLogger()),e.debug("Converted "+a+" to dash.js player and added content: "+n.src),t._dashjs_player=i,i}function n(e){for(var t=!0;t;){var n=e;if(t=!1,/^VIDEO$/i.test(n.nodeName))return n;e=n.parentNode,t=!0}}return{create:t,createAll:function(e,r){var i=[];e=e||"[data-dashjs-player]";for(var o=(r=r||document).querySelectorAll(e),a=0;a<o.length;a++){var s=t(o[a],null);i.push(s)}var l=r.querySelectorAll('source[type="application/dash+xml"]');for(a=0;a<l.length;a++){s=t(n(l[a]),null);i.push(s)}return i}}}(),s=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?a.createAll():s=window.setInterval((function(){window.dashjs&&(window.clearInterval(s),a.createAll())}),500):window.addEventListener("load",(function e(){window.removeEventListener("load",e),a.createAll()}))),t.default=a,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(338)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&void 0!==e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!(!n||!r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,i=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,(function(e,n){qq(n).hasClass(t)&&i.push(n)})),n?i[0]:i)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):void 0!==(n=e[t])&&null==/^false$/i.exec(n)}}},ExifRestorer;!function(){"use strict";var div;qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r,i,o,a,s,l;return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),r=new Uint8Array(t),qq.each(n,(function(e,t){r[e]=t.charCodeAt(0)})),o=t,a=i,s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,(l=s&&new s)?(l.append(o),l.getBlob(a)):new Blob([o],{type:a})},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,(function(e,t){var i=n.substring(0,r),o=n.substring(r+2);if((r=(n=i+t+o).indexOf("{}",r+t.length))<0)return!1})),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,(function(e,n){var r=n.toString(16);r.length<2&&(r="0"+r),t+=r})),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),i=new FileReader,o=new qq.Promise;return i.onload=function(){o.success(qq.arrayBufferToHex(i.result))},i.onerror=o.failure,i.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,(function(t,r){n&&qq.isObject(r)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],r,!0)):e[t]=r})),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,(function(t,r){void 0!==e[t]&&(n[t]=e[t]),e[t]=r})),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=(div=document.createElement("div"),function(e){div.innerHTML=e;var t=div.firstChild;return div.removeChild(t),t}),qq.each=function(e,t){var n;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&!1!==t(e.key(n),e.getItem(e.key(n)));n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(qq.isString(e))for(n=0;n<e.length&&!1!==t(n,e.charAt(n));n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],i="&",o=function(e,n){var i=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==i&&"undefined"!==n&&r.push("object"==typeof e?qq.obj2url(e,i,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))};return!n&&t?(i=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,(function(e,t){o(t,e)})):null!=e&&"object"==typeof e?qq.each(e,(function(e,t){o(t,e)})):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(i):r.join(i).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,(function(e,r){e=n?n+"["+e+"]":e,qq.isObject(r)?qq.obj2FormData(r,t,e):qq.isFunction(r)?t.append(e,r()):t.append(e,r)})),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,r){(n=document.createElement("input")).setAttribute("name",e),n.setAttribute("value",r),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do{(t=e.shift())&&t()}while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return qq}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.16.2",qq.supportedFeatures=function(){"use strict";var e,t,n,r,i,o,a,s,l,u,c,d,f,h,p,g,m;function v(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function _(){return void 0!==window.XDomainRequest}return e=function(){var e,t=!0;try{(e=document.createElement("input")).type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),t=(r=e&&qq.isXhrUploadSupported())&&!qq.androidStock(),i=(n=r&&(("draggable"in(g=document.createElement("span"))||"ondragstart"in g&&"ondrop"in g)&&!qq.android()&&!qq.ios()))&&((m=document.createElement("input")).type="file",!!("webkitdirectory"in(m||document.querySelectorAll("input[type=file]")[0]))),o=r&&qq.isFileChunkingSupported(),a=r&&o&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),s=r&&(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/),l=e&&(void 0!==window.postMessage||r),c=v(),u=_(),d=!!v()||_(),f=void 0!==document.createElement("input").webkitdirectory,h=r&&void 0!==window.FileReader,p=!!r&&!qq.androidStock()&&!qq.iosChrome(),{ajaxUploading:r,blobUploading:t,canDetermineSize:r,chunking:o,deleteFileCors:d,deleteFileCorsXdr:u,deleteFileCorsXhr:c,dialogElement:!!window.HTMLDialogElement,fileDrop:n,folderDrop:i,folderSelection:f,imagePreviews:h,imageValidation:h,itemSizeValidation:r,pause:o,progressBar:p,resume:a,scaling:h&&t,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:e,uploadCors:l,uploadCustomHeaders:r,uploadNonMultipart:r,uploadViaPaste:s}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],r=[],i=[],o=0;qq.extend(this,{then:function(i,a){return 0===o?(i&&n.push(i),a&&r.push(a)):-1===o?a&&a.apply(null,t):i&&i.apply(null,e),this},done:function(n){return 0===o?i.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,(function(t,n){n.apply(null,e)})),i.length&&qq.each(i,(function(t,n){n.apply(null,e)})),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,(function(e,n){n.apply(null,t)})),i.length&&qq.each(i,(function(e,n){n.apply(null,t)})),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";var t,n,r=this,i=new qq.DisposeSupport,o={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};function a(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,n),e.setAttribute("title",o.title),r.setMultiple(o.multiple,e),o.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),o.acceptFiles&&e.setAttribute("accept",o.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",o.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),o.element.appendChild(e),i.attach(e,"change",(function(){o.onChange(e)})),i.attach(e,"mouseover",(function(){qq(o.element).addClass(o.hoverClass)})),i.attach(e,"mouseout",(function(){qq(o.element).removeClass(o.hoverClass)})),i.attach(e,"focus",(function(){qq(o.element).addClass(o.focusClass)})),i.attach(e,"blur",(function(){qq(o.element).removeClass(o.focusClass)})),e}qq.extend(o,e),n=qq.getUniqueId(),qq(o.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return t},getButtonId:function(){return n},setMultiple:function(e,t){var n=t||this.getInput();o.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())||e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==o.acceptFiles&&t.setAttribute("accept",e)},reset:function(){t.parentNode&&qq(t).remove(),qq(o.element).removeClass(o.focusClass),t=null,t=a()}}),t=a()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";var t=[],n={},r={},i={},o={};function a(e){if(qq.isArray(e)){var n=[];return qq.each(e,(function(e,r){n.push(t[r])})),n}return t[e]}qq.extend(this,{addFile:function(a){var s=a.status||qq.status.SUBMITTING,l=t.push({name:a.name,originalName:a.name,uuid:a.uuid,size:null==a.size?-1:a.size,status:s,file:a.file})-1;return a.batchId&&(t[l].batchId=a.batchId,void 0===o[a.batchId]&&(o[a.batchId]=[]),o[a.batchId].push(l)),a.proxyGroupId&&(t[l].proxyGroupId=a.proxyGroupId,void 0===i[a.proxyGroupId]&&(i[a.proxyGroupId]=[]),i[a.proxyGroupId].push(l)),t[l].id=l,n[a.uuid]=l,void 0===r[s]&&(r[s]=[]),r[s].push(l),a.onBeforeStatusChange&&a.onBeforeStatusChange(l),e.onStatusChange(l,null,s),l},retrieve:function(e){return qq.isObject(e)&&t.length?void 0!==e.id?a(e.id):void 0!==e.uuid?function(e){if(qq.isArray(e)){var r=[];return qq.each(e,(function(e,i){r.push(t[n[i]])})),r}return t[n[e]]}(e.uuid):e.status?(i=e.status,o=[],s=[].concat(i),qq.each(s,(function(e,n){var i=r[n];void 0!==i&&qq.each(i,(function(e,n){o.push(t[n])}))})),o):void 0:qq.extend([],t,!0);var i,o,s},removeFileRef:function(e){var t=a(e);t&&delete t.file},reset:function(){t=[],n={},r={},o={}},setStatus:function(n,i){var o=t[n].status,a=qq.indexOf(r[o],n);r[o].splice(a,1),t[n].status=i,void 0===r[i]&&(r[i]=[]),r[i].push(n),e.onStatusChange(n,o,i)},uuidChanged:function(e,r){var i=t[e].uuid;t[e].uuid=r,n[r]=e,delete n[i]},updateName:function(e,n){t[e].name=n},updateSize:function(e,n){t[e].size=n},setParentId:function(e,n){t[e].parentId=n},getIdsInProxyGroup:function(e){var n=t[e].proxyGroupId;return n?i[n]:[]},getIdsInBatch:function(e){var n=t[e].batchId;return o[n]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_FINALIZING:"upload finalizing",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,(function(e,n){t._addCannedFile(n)}))},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,i=qq.bind((function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},r,c)}),this),o=qq.bind((function(e){this._handleNewFile(e,r,c)}),this),a=qq.bind((function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},r,c)}),this),s=qq.bind((function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},r,c)}),this),l=qq.bind((function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,(function(e,t){n._handleNewFile(t,r,c)}))}else this._handleNewFile(e,r,c)}),this),u=this,c=[];this._currentBatchId=r,e&&(qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e),qq.each(e,(function(e,t){qq.isFileOrInput(t)?l(t):qq.isBlob(t)?i(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&s(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):u.log(t+" is not a valid file container!  Ignoring!","warn")})),this.log("Received "+c.length+" files."),this._prepareItemsForUpload(c,t,n))},cancel:function(e){var t=this._uploadData.retrieve({id:e});t&&t.status===qq.status.UPLOAD_FINALIZING?this.log(qq.format("Ignoring cancel for file ID {} ({}).  Finalizing upload.",e,this.getName(e)),"error"):this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,(function(e,n){t.cancel(n)})),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled)&&(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,i){var o,a,s=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],a={customResizeFunction:i,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?s.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,a).then((function(e){s.success(e)}),(function(e,t){s.failure({container:e,error:t||"Problem generating thumbnail"})}))):s.failure({container:t,error:"Missing image generator module"}),s},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){var t,n=this._handler.getFile(e);return n||(t=this._uploadData.retrieve({id:e}))&&(n=t.file),n||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},isResumable:function(e){return this._handler.hasResumeRecord(e)},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e),this._uploadData.removeFileRef(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,(function(e,t){t.reset()})),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset(),this._customResumeDataStore.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(this.log,this),getFile:qq.bind(this.getFile,this),uploadData:this._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setCustomResumeData:function(e,t){this._customResumeDataStore.set(t,e)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var n="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(n),new qq.Error(n)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,i={},o=t,a=function(e){return qq.isObject(e)?qq.extend({},e):e},s=function(e,t){o&&qq.isObject(t)&&qq.extend(t,qq.isFunction(o)?o():o),i[e]&&qq.extend(t,i[e])};return{set:function(e,t){null==t?(n={},r=a(e)):n[t]=a(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:a(r),s(e,t),a(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(i[e]=i[e]||{},qq.extend(i[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},i={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout((function(){e._totalProgress.onStatusChange(t,n,r)}),0)}})},_createUploadButton:function(e){var t,n=this,r=e.accept||this._options.validation.acceptFiles,i=e.allowedExtensions||this._options.validation.allowedExtensions;return t=new qq.UploadButton({acceptFiles:r,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:!!qq.supportedFeatures.ajaxUploading&&!(n._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&n._isAllowedExtension(i,".mov"))&&(void 0===e.multiple?n._options.multiple:e.multiple),name:this._options.request.inputName,onChange:function(e){n._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer((function(){t.dispose()})),n._buttons.push(t),t},_createUploadHandler:function(e,t){var n=this,r={},i={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,i,o){i<0||o<0||(r[e]&&r[e].loaded===i&&r[e].total===o||(n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)),r[e]={loaded:i,total:o})},onComplete:function(e,t,i,o){delete r[e];var a,s=n.getUploads({id:e}).status;s!==qq.status.UPLOAD_SUCCESSFUL&&s!==qq.status.UPLOAD_FAILED&&((a=n._onComplete(e,t,i,o))instanceof qq.Promise?a.done((function(){n._options.callbacks.onComplete(e,t,i,o)})):n._options.callbacks.onComplete(e,t,i,o))},onCancel:function(e,t,r){var i=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:i.failure,onSuccess:function(){r.then((function(){n._onCancel(e,t)})),i.success()},identifier:e}),i},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t);var r=n._options.callbacks.onUpload(e,t);return qq.isGenericPromise(r)?(n.log(qq.format("onUpload for {} returned a Promise - waiting for resolution.",e)),r):(new qq.Promise).success()},onUploadChunk:function(e,t,r){n._onUploadChunk(e,r);var i=n._options.callbacks.onUploadChunk(e,t,r);return qq.isGenericPromise(i)?(n.log(qq.format("onUploadChunk for {}.{} returned a Promise - waiting for resolution.",e,r.partIndex)),i):(new qq.Promise).success()},onUploadChunkSuccess:function(e,t,r,i){n._onUploadChunkSuccess(e,t),n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,r,i){return n._options.callbacks.onResume(e,t,r,i)},onAutoRetry:function(e,t,r,i){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch,isInProgress:function(e){return n.getUploads({id:e}).status===qq.status.UPLOADING},getCustomResumeData:qq.bind(n._getCustomResumeData,n),setStatus:function(e,t){n._uploadData.setStatus(e,t)}};return qq.each(this._options.request,(function(e,t){i[e]=t})),i.customHeaders=this._customHeadersStore,e&&qq.each(e,(function(e,t){i[e]=t})),new qq.UploadHandlerController(i,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];var t=-1;do{e/=1e3,t++}while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,(function(t,n){var r=n.multiple,i=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===r&&(r=e._options.multiple),o.validation&&qq.extend(i,n.validation,!0),qq.extend(o,{multiple:r,validation:i},!0),e._initExtraButton(o)}))},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if("input"===r.tagName.toLowerCase()&&"file"===r.type.toLowerCase())return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,(function(e,t){if("file"===t.getAttribute("type"))return n=t,!1})),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getCustomResumeData:function(e){return this._customResumeDataStore.get(e)},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,(function(e,r){n.push(t._getValidationDescriptor(r))})),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e=this._options.camera.button,t=e?this._getButtonId(e):this._defaultButtonId,n=this._options;t&&t!==this._defaultButtonId&&(n=this._extraButtonSpecs[t]),n.multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles="image/*;capture=camera":n.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,(function(e,r){if(r.getButtonId()===t)return r.setMultiple(n.multiple),r.setAcceptFiles(n.acceptFiles),!1}))}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then((function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)}),(function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)}))):(!1!==n?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,i=qq.getUniqueId(),o=-1,a=qq.getFilename(e),s=e.blob||e,l=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(s)&&s.size>=0&&(o=s.size),l(s,a,i,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(e,t){r._handler.add(e,t),r._netUploadedOrQueued++,r._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,r,i,o){var a=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o,file:e});this._handler.add(a,e),this._trackButton(a),this._netUploadedOrQueued++,i.push({id:a,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;null==r&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled)&&(!this._options.cors.expected||(!!qq.supportedFeatures.deleteFileCorsXhr||!(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr)))},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,(function(e,r){if(qq.isString(r)){var i=new RegExp("\\."+r+"$","i");if(null!=t.match(i))return n=!0,!1}})),n)},_itemError:function(e,t,n){var r,i,o=this._options.messages[e],a=[],s=[].concat(t),l=s[0],u=this._getButtonId(n),c=this._getValidationBase(u);function d(e,t){o=o.replace(e,t)}return qq.each(c.allowedExtensions,(function(e,t){qq.isString(t)&&a.push(t)})),r=a.join(", ").toLowerCase(),d("{file}",this._options.formatFileName(l)),d("{extensions}",r),d("{sizeLimit}",this._formatSize(c.sizeLimit)),d("{minSizeLimit}",this._formatSize(c.minSizeLimit)),null!==(i=o.match(/(\{\w+\})/g))&&qq.each(i,(function(e,t){d(t,s[e])})),this._options.callbacks.onError(null,l,o,void 0),o},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===r&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout((function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)}),0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout((function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)}),0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&200!==r.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var i=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,i,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,i){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout((function(){var e=o._getValidationDescriptor(t[n]),a=o._getButtonId(t[n].file),s=o._getButton(a);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,s),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,i),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,i),identifier:"Item '"+e.name+"', size: "+e.size})}),0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,i){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e)){var a=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout((function(){o.log("Starting retry for "+t+"..."),i?i(e):o._handler.retry(e)}),a),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===n[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e);n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,(function(e,t){t.reset()}))},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r,i=this.getUuid(e);return t&&(r=qq.bind(t,this,e,i,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:r||qq.bind(this._deleteHandler.sendDelete,this,e,i,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadChunkSuccess:function(e,t){!this._preventRetries[e]&&this._options.retry.enableAuto&&(this._autoRetries[e]=0)},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,(function(e,n){t._fileOrBlobRejected(n.id)}))},_onValidateBatchCallbackSuccess:function(e,t,n,r,i){var o,a=this._currentItemLimit,s=this._netUploadedOrQueued;0===a||s<=a?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],i),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,s).replace(/\{itemLimit\}/g,a),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var i=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,i,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var i=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then((function(){i._upload(e[t].id,n,r),i._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)}),(function(){i._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)}))},_prepareItemsForUpload:function(e,t,n){if(0!==e.length){var r=this._getValidationDescriptors(e),i=this._getButtonId(e[0].file),o=this._getButton(i);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})}else this._itemError("noFilesError")},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",(function(t){if(e.getInProgress())return(t=t||window.event).returnValue=e._options.messages.onLeave,e._options.messages.onLeave}))},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout((function(){e._session.refresh().then((function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)}),(function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)}))}),0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e){var t=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&t.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;(t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)))&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout((function(){n._uploadStoredFiles()}),1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file,i=t.name,o=t.size,a=this._getButtonId(e.file),s=this._getValidationBase(a),l=new qq.Promise;return l.then((function(){}),(function(){n._fileOrBlobRejected(e.id,i)})),qq.isFileOrInput(r)&&!this._isAllowedExtension(s.allowedExtensions,i)?(this._itemError("typeError",i,r),l.failure()):this._options.validation.allowEmpty||0!==o?o>0&&s.sizeLimit&&o>s.sizeLimit?(this._itemError("sizeError",i,r),l.failure()):o>0&&o<s.minSizeLimit?(this._itemError("minSizeError",i,r),l.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(s.image).then(l.success,(function(e){n._itemError(e+"ImageError",i,r),l.failure()})):l.success(),l):(this._itemError("emptyError",i,r),l.failure())},_wrapCallbacks:function(){var e,t,n;for(n in e=this,t=function(t,n,r){var i;try{return n.apply(e,r)}catch(n){i=n.message||n.toString(),e.log("Caught exception in '"+t+"' callback - "+i,"error")}},this._options.callbacks)!function(){var r,i;r=n,i=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,i,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,warnBeforeUnload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",omitDefaultParams:!1,params:{},paramsInBody:!0,requireSuccessJson:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,r){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onResume:function(e,t,n,r){},onProgress:function(e,t,n,r){},onTotalProgress:function(e,t){},onError:function(e,t,n,r){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:function(e){return 2e6},success:{endpoint:null,headers:function(e){return null},jsonPayload:!1,method:"POST",params:function(e){return null},resetOnStatus:[]}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"},customKeys:function(e){return[]}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._options.warnBeforeUnload&&this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),(function(e){var n=t._uploadData.retrieve({id:e});return n&&n.size||0}))),this._currentItemLimit=this._options.validation.itemLimit,this._customResumeDataStore=this._createStore()},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";var t,n,r=[],i={},o={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(o,e),t=o.log,qq.indexOf(o.validMethods,o.method)<0)throw new Error("'"+o.method+"' is not a supported method for this type of request!");function a(e){return o.cors.expected&&void 0===e.withCredentials}function s(e,t){var n=i[e]&&i[e].xhr;return n||(n=t||(o.cors.expected?function(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&void 0===(e=qq.createXhrInstance()).withCredentials&&((e=new XDomainRequest).onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){}),e}():qq.createXhrInstance()),i[e].xhr=n),n}function l(e){var t=qq.indexOf(r,e),n=o.maxConnections;delete i[e],r.splice(t,1),r.length>=n&&t<n&&c(r[n-1])}function u(e,n){var r,i=s(e),u=o.method,c=!0===n;l(e),c?t(u+" request for "+e+" has failed","error"):a(i)||(r=i.status,qq.indexOf(o.successfulResponseCodes[o.method],r)>=0)||(c=!0,t(u+" request for "+e+" has failed - response code "+i.status,"error")),o.onComplete(e,i,c)}function c(e,r){var l,c=s(e,r),d=o.method,f=function(e){var t,n=i[e].additionalParams,r=o.mandatedParams;return o.paramsStore.get&&(t=o.paramsStore.get(e)),n&&qq.each(n,(function(e,n){(t=t||{})[e]=n})),r&&qq.each(r,(function(e,n){(t=t||{})[e]=n})),t}(e),h=i[e].payload;return o.onSend(e),l=function(e,t,r){var a=o.endpointStore.get(e),s=i[e].addToPath;null!=s&&(a+="/"+s);n&&t&&(a=qq.obj2url(t,a));r&&(a=qq.obj2url(r,a));return a}(e,f,i[e].additionalQueryParams),a(c)?(c.onload=function(e){return function(){u(e)}}(e),c.onerror=function(e){return function(){u(e,!0)}}(e)):c.onreadystatechange=function(e){return function(){4===s(e).readyState&&u(e)}}(e),function(e){var t=o.onProgress;t&&(s(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}(e),c.open(d,l,!0),o.cors.expected&&o.cors.sendCredentials&&!a(c)&&(c.withCredentials=!0),function(e){var t=s(e),n=o.customHeaders,r=i[e].additionalHeaders||{},l=o.method,u={};a(t)||(o.acceptHeader&&t.setRequestHeader("Accept",o.acceptHeader),o.allowXRequestedWithAndCacheControl&&(o.cors.expected&&qq.indexOf(["GET","POST","HEAD"],o.method)>=0&&(c=!1,qq.each(c,(function(e,t){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],t)<0)return c=!0,!1})),!c)||(t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.setRequestHeader("Cache-Control","no-cache"))),!o.contentType||"POST"!==l&&"PUT"!==l||t.setRequestHeader("Content-Type",o.contentType),qq.extend(u,qq.isFunction(n)?n(e):n),qq.extend(u,r),qq.each(u,(function(e,n){t.setRequestHeader(e,n)})));var c}(e),t("Sending "+d+" request for "+e),h?c.send(h):n||!f?c.send():f&&o.contentType&&o.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?c.send(qq.obj2url(f,"")):f&&o.contentType&&o.contentType.toLowerCase().indexOf("application/json")>=0?c.send(JSON.stringify(f)):c.send(f),c}n="GET"===o.method||"DELETE"===o.method,qq.extend(this,{initTransport:function(e){var t,n,a,s,l,u;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return u=e,this},withHeaders:function(e){return a=e,this},withPayload:function(e){return s=e,this},withCacheBuster:function(){return l=!0,this},send:function(d){return l&&qq.indexOf(["GET","DELETE"],o.method)>=0&&(n.qqtimestamp=(new Date).getTime()),function(e,t,n,a,s,l,u){if(i[e]={addToPath:n,additionalParams:a,additionalQueryParams:s,additionalHeaders:l,payload:u},r.push(e)<=o.maxConnections)return c(e,t)}(e,d,t,n,u,a,s)}}},canceled:function(e){l(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},r=t.onCancel,i=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise;r(e,i(e),o).then((function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()}))},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,r,i,o,a=this,s=!1,l=!1,u={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,r){},onComplete:function(e,t,n,r){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onAutoRetry:function(e,t,n,r){},onResume:function(e,t,n,r){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){},isInProgress:function(e){}},c={done:function(e,t,n,r){var o=i._getChunkData(e,t);i._getFileState(e).attemptingResume=!1,delete i._getFileState(e).temp.chunkProgress[t],i._getFileState(e).loaded+=o.size,u.onUploadChunkSuccess(e,i._getChunkDataForCallback(o),n,r)},finalize:function(e){var t=u.getSize(e),n=u.getName(e);r("All chunks have been uploaded for "+e+" - finalizing...."),i.finalizeChunks(e).then((function(o,a){r("Finalize successful for "+e);var s=h.normalizeResponse(o,!0);u.onProgress(e,n,t,t),i._maybeDeletePersistedChunkData(e),h.cleanup(e,s,a)}),(function(t,i){var o=h.normalizeResponse(t,!1);r("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),(o.reset||i&&u.chunking.success.resetOnStatus.indexOf(i.status)>=0)&&c.reset(e),u.onAutoRetry(e,n,o,i)||h.cleanup(e,o,i)}))},handleFailure:function(e,t,n,o){var a=u.getName(t);r("Chunked upload request failed for "+t+", chunk "+e),i.clearCachedChunk(t,e);var s,f=h.normalizeResponse(n,!1);if(f.reset)c.reset(t);else{var p=i._getFileState(t).chunking.inProgress;(s=p?qq.indexOf(p,e):-1)>=0&&(i._getFileState(t).chunking.inProgress.splice(s,1),i._getFileState(t).chunking.remaining.unshift(e))}i._getFileState(t).temp.ignoreFailure||(l&&(i._getFileState(t).temp.ignoreFailure=!0,r(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(i._getXhrs(t))),JSON.stringify(i._getFileState(t).chunking.inProgress))),qq.each(i._getXhrs(t),(function(e,n){r(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0})),i.moveInProgressToRemaining(t),d.free(t,!0)),u.onAutoRetry(t,a,f,o)||h.cleanup(t,f,o))},hasMoreParts:function(e){return!!i._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=i._getFileState(e).chunking.remaining.shift();return t>=i._getTotalChunks(e)&&(t=null),t},reset:function(e){r("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),i._maybeDeletePersistedChunkData(e),i.reevaluateChunking(e),i._getFileState(e).loaded=0,i._getFileState(e).attemptingResume=!1},sendNext:function(e){var t=u.getSize(e),n=u.getName(e),o=c.nextPart(e),a=i._getChunkData(e,o),s=i._getFileState(e),f=s.attemptingResume,p=s.chunking.inProgress||[];(null==s.loaded&&(s.loaded=0),f&&!1===u.onResume(e,n,a,s.customResumeData)&&(c.reset(e),o=c.nextPart(e),a=i._getChunkData(e,o),f=!1),null==o&&0===p.length)?c.finalize(e):(p.push(o),i._getFileState(e).chunking.inProgress=p,l&&d.open(e,o),l&&d.available()&&i._getFileState(e).chunking.remaining.length&&c.sendNext(e),0===a.blob.size&&(r(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),c.handleFailure(o,e,"File is no longer available",null)),u.onUploadChunk(e,n,i._getChunkDataForCallback(a)).then((function(n){if(u.isInProgress(e)){r(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,a.start+1,a.end,t));var s={chunkIdx:o,id:e,overrides:n,resuming:f};i.uploadChunk(s).then((function(t,n){r("Chunked upload request succeeded for "+e+", chunk "+o),i.clearCachedChunk(e,o);var a=i._getFileState(e).chunking.inProgress||[],s=h.normalizeResponse(t,!0),l=qq.indexOf(a,o);r(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),c.done(e,o,s,n),l>=0&&a.splice(l,1),i._maybePersistChunkedState(e),c.hasMoreParts(e)||0!==a.length?c.hasMoreParts(e)?c.sendNext(e):r(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(a))):c.finalize(e)}),(function(t,n){c.handleFailure(o,e,t,n)})).done((function(){i.clearXhr(e,o)}))}else r(qq.format("Not sending chunked upload request for item {}.{} - no longer in progress.",e,o))}),(function(t){c.handleFailure(o,e,t,null)})))}},d={_open:[],_openChunks:{},_waiting:[],available:function(){var e=u.maxConnections,t=0,n=0;return qq.each(d._openChunks,(function(e,r){t++,n+=r.length})),e-(d._open.length-t+n)},free:function(e,t){var n,o=!t,a=qq.indexOf(d._waiting,e),s=qq.indexOf(d._open,e);delete d._openChunks[e],h.getProxyOrBlob(e)instanceof qq.BlobProxy&&(r("Generated blob upload has ended for "+e+", disposing generated blob."),delete i._getFileState(e).file),a>=0?d._waiting.splice(a,1):o&&s>=0&&(d._open.splice(s,1),(n=d._waiting.shift())>=0&&(d._open.push(n),h.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(d._openChunks,(function(t,n){n&&n.length&&e.push(parseInt(t))})),qq.each(d._open,(function(t,n){d._openChunks[n]||e.push(parseInt(n))})),e=e.concat(d._waiting)},isUsingConnection:function(e){return qq.indexOf(d._open,e)>=0},open:function(e,t){return null==t&&d._waiting.push(e),!!d.available()&&(null==t?(d._waiting.pop(),d._open.push(e)):((n=d._openChunks[e]||[]).push(t),d._openChunks[e]=n),!0);var n},reset:function(){d._waiting=[],d._open=[]}},f=function(e,t){var n=i._getFileState(e);n?(n.loaded=0,r("Sending simple upload request for "+e),i.uploadFile(e).then((function(n,i){r("Simple upload request succeeded for "+e);var o=h.normalizeResponse(n,!0),a=u.getSize(e);u.onProgress(e,t,a,a),h.maybeNewUuid(e,o),h.cleanup(e,o,i)}),(function(n,i){r("Simple upload request failed for "+e);var o=h.normalizeResponse(n,!1);u.onAutoRetry(e,t,o,i)||h.cleanup(e,o,i)}))):r("Ignoring send request as this upload may have been cancelled, File ID "+e,"warn")},h={cancel:function(e){r("Cancelling "+e),u.paramsStore.remove(e),d.free(e)},cleanup:function(e,t,n){var r=u.getName(e);u.onComplete(e,r,t,n),i._getFileState(e)&&i._clearXhrs&&i._clearXhrs(e),d.free(e)},getProxyOrBlob:function(e){return i.getProxy&&i.getProxy(e)||i.getFile&&i.getFile(e)},initHandler:function(){var e=t?qq[t]:qq.traditional,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";(i=new e[n+"UploadHandler"](u,{getCustomResumeData:u.getCustomResumeData,getDataByUuid:u.getDataByUuid,getName:u.getName,getSize:u.getSize,getUuid:u.getUuid,log:r,onCancel:u.onCancel,onProgress:u.onProgress,onUuidChanged:u.onUuidChanged,onFinalizing:function(e){u.setStatus(e,qq.status.UPLOAD_FINALIZING)}}))._removeExpiredChunkingRecords&&i._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return u.isQueued(e)},maybeDefer:function(e,t){return t&&!i.getFile(e)&&t instanceof qq.BlobProxy?(u.onUploadPrep(e),r("Attempting to generate a blob on-demand for "+e),t.create().then((function(t){r("Generated an on-demand blob for "+e),i.updateBlob(e,t),u.setSize(e,t.size),i.reevaluateChunking(e),h.maybeSendDeferredFiles(e)}),(function(t){var i={};t&&(i.error=t),r(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),u.onComplete(e,u.getName(e),qq.extend(i,n),null),h.maybeSendDeferredFiles(e),d.free(e)})),!1):h.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=u.getIdsInProxyGroup(e),n=!1;return t&&t.length?(r("Maybe ready to upload proxy group file "+e),qq.each(t,(function(t,r){if(h.isDeferredEligibleForUpload(r)&&i.getFile(r))n=r===e,h.now(r);else if(h.isDeferredEligibleForUpload(r))return!1}))):(n=!0,h.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&u.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=u.getName(e);if(!a.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");u.onUpload(e,t).then((function(n){n&&n.pause?(u.setStatus(e,qq.status.PAUSED),i.pause(e),d.free(e)):s&&i._shouldChunkThisFile(e)?c.sendNext(e):f(e,t)}),(function(n){if(r(e+" upload start aborted due to rejected onUpload Promise - details: "+(n=n||{}),"error"),!u.onAutoRetry(e,t,n.responseJSON||{})){var i=h.normalizeResponse(n.responseJSON,!1);h.cleanup(e,i)}}))},start:function(e){var t=h.getProxyOrBlob(e);return t?h.maybeDefer(e,t):(h.now(e),!0)}};qq.extend(this,{add:function(e,t){i.add.apply(this,arguments)},upload:function(e){return!!d.open(e)&&h.start(e)},retry:function(e){return l&&(i._getFileState(e).temp.ignoreFailure=!1),d.isUsingConnection(e)?h.start(e):a.upload(e)},cancel:function(e){var t=i.cancel(e);qq.isGenericPromise(t)?t.then((function(){h.cancel(e)})):!1!==t&&h.cancel(e)},cancelAll:function(){var e,t=d.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)a.cancel(t[e]);d.reset()},getFile:function(e){return i.getProxy&&i.getProxy(e)?i.getProxy(e).referenceBlob:i.getFile&&i.getFile(e)},isProxied:function(e){return!(!i.getProxy||!i.getProxy(e))},getInput:function(e){if(i.getInput)return i.getInput(e)},reset:function(){r("Resetting upload handler"),a.cancelAll(),d.reset(),i.reset()},expunge:function(e){if(a.isValid(e))return i.expunge(e)},isValid:function(e){return i.isValid(e)},hasResumeRecord:function(e){var t=i.isValid(e)&&i._getLocalStorageId&&i._getLocalStorageId(e);return!!t&&!!localStorage.getItem(t)},getResumableFilesData:function(){return i.getResumableFilesData?i.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(a.isValid(e))return i.getThirdPartyFileId(e)},pause:function(e){return!!(a.isResumable(e)&&i.pause&&a.isValid(e)&&i.pause(e))&&(d.free(e),i.moveInProgressToRemaining(e),!0)},isAttemptingResume:function(e){return!!i.isAttemptingResume&&i.isAttemptingResume(e)},isResumable:function(e){return!!i.isResumable&&i.isResumable(e)}}),qq.extend(u,e),r=u.log,s=u.chunking.enabled&&qq.supportedFeatures.chunking,l=s&&u.chunking.concurrent.enabled,(o={})[u.preventRetryParam]=!0,n=o,h.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={};qq.extend({log:function(e,t){}},e),qq.extend(this,{receiveMessage:function(e,n){window.postMessage?t[e]=qq(window).attach("message",(function(e){n(e.data)})):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var n=t[e];n&&n()}}})},qq.FormUploadHandler=function(e){"use strict";var t=e.options,n=this,r=e.proxy,i=qq.getUniqueId(),o={},a={},s={},l=t.isCors,u=t.inputName,c=r.getUuid,d=r.log,f=new qq.WindowReceiveMessage({log:d});function h(e){return e.split("_")[0]}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,(function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",u),n.parentNode&&qq(n).remove()},expunge:function(t){!function(e){delete a[e],l&&(clearTimeout(s[e]),delete s[e],f.stopReceivingMessages(e));var t=document.getElementById(n._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}(t),e.expunge(t)},isValid:function(t){return e.isValid(t)&&void 0!==n._getFileState(t).input}}})),qq.extend(this,{getInput:function(e){return n._getFileState(e).input},_attachLoadEvent:function(e,t){var r;l?function(e,t){var r=e.id,i=h(r),l=c(i);o[l]=t,a[i]=qq(e).attach("load",(function(){n.getInput(i)&&(d("Received iframe load event for CORS upload request (iframe name "+r+")"),s[r]=setTimeout((function(){var e="No valid message received from loaded iframe for iframe name "+r;d(e,"error"),t({error:e})}),1e3))})),f.receiveMessage(r,(function(e){d("Received the following window message: '"+e+"'");h(r);var t,i=n._parseJsonResponse(e),a=i.uuid;a&&o[a]?(d("Handling response for iframe name "+r),clearTimeout(s[r]),delete s[r],n._detachLoadEvent(r),t=o[a],delete o[a],f.stopReceivingMessages(r),t(i)):a||d("'"+e+"' does not contain a UUID - ignoring.")}))}(e,t):a[e.id]=qq(e).attach("load",(function(){if(d("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){d("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),r={success:!1}}t(r)}}))},_createIframe:function(e){return function(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}(n._getIframeName(e))},_detachLoadEvent:function(e){void 0!==a[e]&&(a[e](),delete a[e])},_getIframeName:function(e){return e+"_"+i},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,r=e.params,i=e.paramsInBody,o=e.targetName,a=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),s=n;return i?qq.obj2Inputs(r,a):s=qq.obj2url(r,n),a.setAttribute("action",s),a.setAttribute("target",o),a.style.display="none",document.body.appendChild(a),a},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){d("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";var t=this,n=e.options.namespace,r=e.proxy,i=e.options.chunking,o=function(e){var n=t._getFileState(e);if(n.chunkSize)return n.chunkSize;var r=i.partSize;return qq.isFunction(r)&&(r=r(e,c(e))),n.chunkSize=r,r},a=e.options.resume,s=i&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,l=a&&e.options.resume.enabled&&s&&qq.supportedFeatures.resume,u=r.getName,c=r.getSize,d=r.getUuid,f=r.getEndpoint,h=r.getDataByUuid,p=r.onUuidChanged,g=r.onProgress,m=r.log,v=r.getCustomResumeData;function _(e){qq.each(t._getXhrs(e),(function(n,r){var i=t._getAjaxRequester(e,n);r.onreadystatechange=null,r.upload.onprogress=null,r.abort(),i&&i.canceled&&i.canceled(e)}))}qq.extend(this,new qq.UploadHandler(e)),qq.override(this,(function(e){return{add:function(n,r){if(qq.isFile(r)||qq.isBlob(r))e.add(n,{file:r});else{if(!(r instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(n,{proxy:r})}t._initTempState(n),l&&t._maybePrepareForResume(n)},expunge:function(n){_(n),t._maybeDeletePersistedChunkData(n),t._clearXhrs(n),e.expunge(n)}}})),qq.extend(this,{clearCachedChunk:function(e,n){var r=t._getFileState(e);r&&delete r.temp.cachedChunks[n]},clearXhr:function(e,n){var r=t._getFileState(e).temp;r.xhrs&&delete r.xhrs[n],r.ajaxRequesters&&delete r.ajaxRequesters[n]},finalizeChunks:function(e,n){var r=t._getTotalChunks(e)-1,i=t._getXhr(e,r);return n?(new qq.Promise).success(n(i),i):(new qq.Promise).success({},i)},getFile:function(e){return t.isValid(e)&&t._getFileState(e).file},getProxy:function(e){return t.isValid(e)&&t._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return t._iterateResumeRecords((function(n,r){t.moveInProgressToRemaining(null,r.chunking.inProgress,r.chunking.remaining);var i={name:r.name,remaining:r.chunking.remaining,size:r.size,uuid:r.uuid};r.key&&(i.key=r.key),r.customResumeData&&(i.customResumeData=r.customResumeData),e.push(i)})),e},isAttemptingResume:function(e){return t._getFileState(e).attemptingResume},isResumable:function(e){return!!i&&t.isValid(e)&&!t._getFileState(e).notResumable},moveInProgressToRemaining:function(e,n,r){var i=(t._getFileState(e)||{}).chunking||{},o=n||i.inProgress,a=r||i.remaining;o&&(m(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(o))),o.reverse(),qq.each(o,(function(e,t){a.unshift(t)})),o.length=0)},pause:function(e){if(t.isValid(e))return m(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,u(e))),t._getFileState(e).paused=!0,_(e),!0},reevaluateChunking:function(e){if(i&&t.isValid(e)){var n,r,o=t._getFileState(e);if(delete o.chunking,o.chunking={},(n=t._getTotalChunks(e))>1||i.mandatory){for(o.chunking.enabled=!0,o.chunking.parts=n,o.chunking.remaining=[],r=0;r<n;r++)o.chunking.remaining.push(r);t._initTempState(e)}else o.chunking.enabled=!1}},updateBlob:function(e,n){t.isValid(e)&&(t._getFileState(e).file=n)},_clearXhrs:function(e){var n=t._getFileState(e).temp;qq.each(n.ajaxRequesters,(function(e){delete n.ajaxRequesters[e]})),qq.each(n.xhrs,(function(e){delete n.xhrs[e]}))},_createXhr:function(e,n){return t._registerXhr(e,n,qq.createXhrInstance())},_getAjaxRequester:function(e,n){var r=null==n?-1:n;return t._getFileState(e).temp.ajaxRequesters[r]},_getChunkData:function(e,n){var r=o(e),i=c(e),a=t.getFile(e),s=r*n,l=s+r>=i?i:s+r,u=t._getTotalChunks(e),d=this._getFileState(e).temp.cachedChunks,f=d[n]||qq.sliceBlob(a,s,l);return d[n]=f,{part:n,start:s,end:l,count:u,blob:f,size:l-s}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=u(e),r=c(e),i=o(e),s=f(e),l=a.customKeys(e),d=qq.format("qq{}resume{}-{}-{}-{}-{}",n,"5.0",t,r,i,s);return l.forEach((function(e){d+="-"+e})),d},_getMimeType:function(e){return t.getFile(e).type},_getPersistableData:function(e){return t._getFileState(e).chunking},_getTotalChunks:function(e){if(i){var t=c(e),n=o(e);return Math.ceil(t/n)}},_getXhr:function(e,n){var r=null==n?-1:n;return t._getFileState(e).temp.xhrs[r]},_getXhrs:function(e){return t._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){l&&qq.each(localStorage,(function(t,r){if(0===t.indexOf(qq.format("qq{}resume",n))){var i=JSON.parse(r);e(t,i)}}))},_initTempState:function(e){t._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){t._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var n;return!!(l&&t.isResumable(e)&&(n=t._getLocalStorageId(e))&&localStorage.getItem(n))&&(localStorage.removeItem(n),!0)},_maybePrepareForResume:function(e){var n,r,i=t._getFileState(e);l&&void 0===i.key&&(n=t._getLocalStorageId(e),(r=localStorage.getItem(n))&&(r=JSON.parse(r),h(r.uuid)?t._markNotResumable(e):(m(qq.format("Identified file with ID {} and name of {} as resumable.",e,u(e))),p(e,r.uuid),i.key=r.key,i.chunking=r.chunking,i.loaded=r.loaded,i.customResumeData=r.customResumeData,i.attemptingResume=!0,t.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var n,r,i=t._getFileState(e);if(l&&t.isResumable(e)){var o=v(e);n=t._getLocalStorageId(e),r={name:u(e),size:c(e),uuid:d(e),key:i.key,chunking:i.chunking,loaded:i.loaded,lastUpdated:Date.now()},o&&(r.customResumeData=o);try{localStorage.setItem(n,JSON.stringify(r))}catch(t){m(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(e,n,r){var i=t._getXhr(e,n),o=u(e),a={simple:function(t,n){var r=c(e);g(e,o,t===n?r:t>=r?r-1:t,r)},chunked:function(i,a){var s=t._getFileState(e).temp.chunkProgress,l=t._getFileState(e).loaded,u=i,d=a,f=c(e),h=u-(d-r),p=l;s[n]=h,qq.each(s,(function(e,t){p+=t})),g(e,o,p,f)}};i.upload.onprogress=function(e){e.lengthComputable&&a[null==r?"simple":"chunked"](e.loaded,e.total)}},_registerXhr:function(e,n,r,i){var o=null==n?-1:n,a=t._getFileState(e).temp;return a.xhrs=a.xhrs||{},a.ajaxRequesters=a.ajaxRequesters||{},a.xhrs[o]=r,i&&(a.ajaxRequesters[o]=i),r},_removeExpiredChunkingRecords:function(){var e=a.recordsExpireIn;t._iterateResumeRecords((function(t,n){var r=new Date(n.lastUpdated);r.setDate(r.getDate()+e),r.getTime()<=Date.now()&&(m("Removing expired resume record with key "+t),localStorage.removeItem(t))}))},_shouldChunkThisFile:function(e){var n=t._getFileState(e);if(n)return n.chunking||t.reevaluateChunking(e),n.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:"POST"===n.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:n.maxConnections,customHeaders:function(e){return n.customHeaders.get(e)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(e,r,i){var o=i||{};n.log("Submitting delete file request for "+e),"DELETE"===n.method?t.initTransport(e).withPath(r).withParams(o).send():(o[n.uuidParamName]=r,t.initTransport(e).withParams(o).send())}})},function(){function e(e,n,r,i,o){var a,s=e.naturalWidth,l=e.naturalHeight,u=i.width,c=i.height,d=r.getContext("2d"),f=new qq.Promise;return d.save(),i.resize?function(e){var n=e.blob,r=e.image,i=e.imageHeight,o=e.imageWidth,a=e.orientation,s=new qq.Promise,l=e.resize,u=document.createElement("canvas"),c=u.getContext("2d"),d=e.canvas,f=e.targetHeight,h=e.targetWidth;return t(u,o,i,a),d.height=f,d.width=h,c.drawImage(r,0,0),l({blob:n,height:f,image:r,sourceCanvas:u,targetCanvas:d,width:h}).then((function(){d.qqImageRendered&&d.qqImageRendered(),s.success()}),s.failure),s}({blob:n,canvas:r,image:e,imageHeight:l,imageWidth:s,orientation:i.orientation,resize:i.resize,targetHeight:c,targetWidth:u}):(qq.supportedFeatures.unlimitedScaledImageSize||(a=function(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(e.origHeight*e.origWidth>5241e3)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}({origWidth:u,origHeight:c}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",u,c,a.newWidth,a.newHeight),"warn"),u=a.newWidth,c=a.newHeight),t(r,u,c,i.orientation),qq.ios()?function(){(function(e){var t,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return n*r>1048576&&(i.width=i.height=1,(t=i.getContext("2d")).drawImage(e,1-n,0),0===t.getImageData(0,0,1,1).data[3])})(e)&&(s/=2,l/=2);var t,n,r,i=1024,a=document.createElement("canvas"),f=o?function(e,t,n){var r,i,o,a=document.createElement("canvas"),s=0,l=n,u=n;for(a.width=1,a.height=n,(r=a.getContext("2d")).drawImage(e,0,0),i=r.getImageData(0,0,1,n).data;u>s;)0===i[4*(u-1)+3]?l=u:s=u,u=l+s>>1;return 0===(o=u/n)?1:o}(e,0,l):1,h=Math.ceil(i*u/s),p=Math.ceil(i*c/l/f),g=0,m=0;for(a.width=a.height=i,t=a.getContext("2d");g<l;){for(n=0,r=0;n<s;)t.clearRect(0,0,i,i),t.drawImage(e,-n,-g),d.drawImage(a,0,0,i,i,r,m,h,p),n+=i,r+=h;g+=i,m+=p}d.restore(),a=t=null}():d.drawImage(e,0,0,u,c),r.qqImageRendered&&r.qqImageRendered(),f.success(),f)}function t(e,t,n,r){switch(r){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var i=e.getContext("2d");switch(r){case 2:i.translate(t,0),i.scale(-1,1);break;case 3:i.translate(t,n),i.rotate(Math.PI);break;case 4:i.translate(0,n),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-n);break;case 7:i.rotate(.5*Math.PI),i.translate(t,-n),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-t,0)}}function n(e,t){var n=this;window.Blob&&e instanceof Blob&&function(){var t=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!r)throw Error("No createObjectURL function found to create blob url");t.src=r.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout((function(){for(var t=0,n=e.length;t<n;t++)e[t]()}),0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}n.prototype.render=function(t,n){n=n||{};var r,i,o=this,a=this.srcImage.naturalWidth,s=this.srcImage.naturalHeight,l=n.width,u=n.height,c=n.maxWidth,d=n.maxHeight,f=!this.blob||"image/jpeg"===this.blob.type,h=t.tagName.toLowerCase();this.imageLoadListeners?this.imageLoadListeners.push((function(){o.render(t,n)})):(l&&!u?u=s*l/a<<0:u&&!l?l=a*u/s<<0:(l=a,u=s),c&&l>c&&(u=s*(l=c)/a<<0),d&&u>d&&(l=a*(u=d)/s<<0),r={width:l,height:u},qq.each(n,(function(e,t){r[e]=t})),"img"===h?(i=t.src,function(t,n,r,i){var o=document.createElement("canvas"),a=r.mime||"image/jpeg",s=new qq.Promise;return e(t,n,o,r,i).then((function(){s.success(o.toDataURL(a,r.quality||.8))})),s}(o.srcImage,o.blob,r,f).then((function(e){t.src=e,i===t.src&&t.onload()}))):"canvas"===h&&e(this.srcImage,this.blob,t,r,f),"function"==typeof this.onrender&&this.onrender(t))},qq.MegaPixImage=n}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function r(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],r=qq.getExtension(n);switch(r=r&&r.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function i(e){var t,n,r,i=document.createElement("a");return i.href=e,t=i.protocol,r=i.port,n=i.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||(n.toLowerCase()!==window.location.hostname.toLowerCase()||r!==window.location.port&&!qq.ie())}function o(r,i){var o=t(r)||n(r);return t(r)?function(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}(r,i):n(r)?function(e,t){e.qqImageRendered=function(){t.success(e)}}(r,i):(i.failure(r),e(qq.format("Element container of type {} is not supported!",r.tagName),"error")),o}function a(e,t,n,a,s){var l=new Image,u=new qq.Promise;o(l,u),i(e)&&(l.crossOrigin="anonymous"),l.src=e,u.then((function(){o(t,n),new qq.MegaPixImage(l).render(t,{maxWidth:a,maxHeight:a,mime:r(e),resize:s})}),n.failure)}function s(e,t,n,r){o(t,n),qq(t).css({maxWidth:r+"px",maxHeight:r+"px"}),t.src=e}function l(e,r,l){var u,c=new qq.Promise,d=l.scale,f=d?l.maxSize:null;return d&&t(r)?(u=document.createElement("canvas")).getContext&&u.getContext("2d")?i(e)&&void 0===(new Image).crossOrigin?s(e,r,c,f):a(e,r,c,f):s(e,r,c,f):n(r)?a(e,r,c,f):o(r,c)&&(r.src=e),c}qq.extend(this,{generate:function(t,n,r){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),l(t,n,r||{})):(e("Attempting to draw client-side image preview."),function(t,n,r){var i=new qq.Promise,a=new qq.Identify(t,e),s=r.maxSize,l=null==r.orient||r.orient,u=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),i.failure(n,"Browser cannot render image!")};return a.isPreviewable().then((function(a){var c={parse:function(){return(new qq.Promise).success()}},d=l?new qq.Exif(t,e):c,f=new qq.MegaPixImage(t,u);o(n,i)&&d.parse().then((function(e){var t=e&&e.Orientation;f.render(n,{maxWidth:s,maxHeight:s,orientation:t,mime:a,resize:r.customResizeFunction})}),(function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),f.render(n,{maxWidth:s,maxHeight:s,mime:a,resize:r.customResizeFunction})}))}),(function(){e("Not previewable"),i.failure(n,"Not previewable")})),i}(t,n,r||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=i,this._testing.determineMimeOfFileName=r},qq.Exif=function(e,t){"use strict";var n=[274],r={274:{name:"Orientation",bytes:2}};function i(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function o(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then((function(n){0!==n.indexOf("ffd8")?t.failure("Not a valid JPEG!"):function t(n,r){var i=n,o=r;return void 0===i&&(i=2,o=new qq.Promise),qq.readBlobToHex(e,i,4).then((function(e){var n,r=/^ffe([0-9])/.exec(e);r?"1"!==r[1]?(n=parseInt(e.slice(4,8),16),t(i+n+2,o)):o.success(i):o.failure("No EXIF header to be found!")})),o}().then((function(e){t.success(e)}),(function(e){t.failure(e)}))})),t}qq.extend(this,{parse:function(){var a=new qq.Promise,s=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),a.failure(e)};return o().then((function(o){var l,u;t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),(l=o,u=new qq.Promise,qq.readBlobToHex(e,l+10,2).then((function(e){u.success("4949"===e)})),u).then((function(l){t(qq.format("EXIF Byte order is {} endian",l?"little":"big")),function(t,n){var r=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then((function(e){if(n)return r.success(i(e));r.success(parseInt(e,16))})),r}(o,l).then((function(u){t(qq.format("Found {} APP1 directory entries",u)),function(t,n){var r=t+20,i=12*n;return qq.readBlobToHex(e,r,i)}(o,u).then((function(e){var o=function(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}(e),s=function(e,t){var o=qq.extend([],n),a={};return qq.each(t,(function(t,n){var s,l,u,c=n.slice(0,4),d=e?i(c):parseInt(c,16),f=o.indexOf(d);if(f>=0&&(l=r[d].name,u=r[d].bytes,s=n.slice(16,16+2*u),a[l]=e?i(s):parseInt(s,16),o.splice(f,1)),0===o.length)return!1})),a}(l,o);t("Successfully parsed some EXIF tags"),a.success(s)}),s)}),s)}),s)}),s),a}}),this._testing={},this._testing.parseLittleEndian=i},qq.Identify=function(e,t){"use strict";qq.extend(this,{isPreviewable:function(){var n=this,r=new qq.Promise,i=!1,o=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",o)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then((function(e){qq.each(n.PREVIEWABLE_MIME_TYPES,(function(t,n){if(o=e,a=!1,s=[].concat(n),qq.each(s,(function(e,t){if(0===o.indexOf(t))return a=!0,!1})),a)return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(i=!0,r.success(t)),!1;var o,a,s})),t(qq.format("'{}' is {} able to be rendered in this browser",o,i?"":"NOT")),i||r.failure()}),(function(){t("Error reading file w/ name '"+o+"'.  Not able to be rendered in this browser."),r.failure()}))):r.failure(),r},isPreviewableSync:function(){var n=e.type,r=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,i=!1,o=void 0===e.name?"blob":e.name;return r&&(i="image/tiff"!==n||qq.supportedFeatures.tiffPreviews),!i&&t(o+" is not previewable in this browser per the blob's type attr"),i}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";this.validate=function(n){var r,i=new qq.Promise;return t("Attempting to validate image."),!function(e){var t=!1;return qq.each(e,(function(e,n){if(n>0)return t=!0,!1})),t}(n)?i.success():(r=new qq.Promise,new qq.Identify(e,t).isPreviewable().then((function(){var n=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;i?(n.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),r.failure()},n.onload=function(){r.success({width:this.width,height:this.height})},n.src=i.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),r.failure())}),r.failure),r).then((function(e){var t=function(e,t){var n;return qq.each(e,(function(e,r){if(r>0){var i=/(max|min)(Width|Height)/.exec(e),o=i[2].charAt(0).toLowerCase()+i[2].slice(1),a=t[o];switch(i[1]){case"min":if(a<r)return n=e,!1;break;case"max":if(a>r)return n=e,!1}}})),n}(n,e);t?i.failure(t):i.success()}),i.success),i}},qq.Session=function(e){"use strict";var t={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};function n(e,n,r,i){var o=!1;(n=n&&function(e){if(qq.isArray(e))return!0;t.log("Session response is not an array.","error")}(e))&&qq.each(e,(function(e,n){if(null==n.uuid)o=!0,t.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==n.name)o=!0,t.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return t.addFileRecord(n),!0}catch(e){o=!0,t.log(e.message,"error")}return!1})),i[n&&!o?"success":"failure"](e,r)}qq.extend(t,e,!0),this.refresh=function(){var e=new qq.Promise,r=qq.extend({},t);return new qq.SessionAjaxRequester(qq.extend(r,{onComplete:function(t,r,i){n(t,r,i,e)}})).queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";var t,n={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return n.endpoint}},customHeaders:n.customHeaders,log:n.log,onComplete:function(e,t,r){var i=null;if(null!=t.responseText)try{i=qq.parseJson(t.responseText)}catch(e){n.log("Problem parsing session response: "+e.message,"error"),r=!0}n.onComplete(i,!r,t)},cors:n.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},n.params);n.log("Session query request."),t.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,r=e.sendOriginal,i=e.orient,o=e.defaultType,a=e.defaultQuality/100,s=e.failureText,l=e.includeExif,u=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&u.length>0,getFileRecords:function(e,c,d){var f=this,h=[],p=d.blob?d.blob:d;return new qq.Identify(p,t).isPreviewableSync()?(qq.each(u,(function(e,r){var u=f._determineOutputType({defaultType:o,requestedType:r.type,refType:p.type});h.push({uuid:qq.getUniqueId(),name:f._getName(c,{name:r.name,type:u,refType:p.type}),blob:new qq.BlobProxy(p,qq.bind(f._generateScaledImage,f,{customResizeFunction:n,maxSize:r.maxSize,orient:i,type:u,quality:a,failedText:s,includeExif:l,log:t}))})})),h.push({uuid:e,name:c,size:p.size,blob:r?p:null})):h.push({uuid:e,name:c,size:p.size,blob:p}),h},handleNewFile:function(e,t,n,r,i,o,a,s){e.qqButtonId||e.blob&&e.blob.qqButtonId;var l,u=[],c=null,d=s.addFileToHandler,f=s.uploadData,h=s.paramsStore,p=qq.getUniqueId();qq.each(this.getFileRecords(n,t,e),(function(e,t){var n,r=t.size;t.blob instanceof qq.BlobProxy&&(r=-1),n=f.addFile({uuid:t.uuid,name:t.name,size:r,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?u.push(n):c=n,t.blob?(d(n,t.blob),i.push({id:n,file:t.blob})):f.setStatus(n,qq.status.REJECTED)})),null!==c&&(qq.each(u,(function(e,t){var n={qqparentuuid:f.retrieve({id:c}).uuid,qqparentsize:f.retrieve({id:c}).size};n[a]=f.retrieve({id:t}).uuid,f.setParentId(t,c),h.addReadOnly(t,n)})),u.length&&((l={})[a]=f.retrieve({id:c}).uuid,h.addReadOnly(c,l)))}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,i=n.log,o=n.getFile(e),a=n.uploadData.retrieve({id:e}),s=a&&a.name,l=a&&a.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(u,i);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind((function(){var t=c.getFileRecords(l,s,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(r.success,r.failure):(i(e+" is not a scalable image!","error"),r.failure())}),this)():(r.failure(),i("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),r},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,r=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==r?"image/png":r},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),r=t.type||"image/png",i=t.refType,o="",a=qq.getExtension(e),s="";return t.name&&t.name.trim().length&&(s=" ("+t.name+")"),n>=0?(o=e.substr(0,n),i!==r&&(a=r.split("/")[1]),o+=s+"."+a):o=e+s,o},_getSortedSizes:function(e){"use strict";return(e=qq.extend([],e)).sort((function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0}))},_generateScaledImage:function(e,t){"use strict";var n=this,r=e.customResizeFunction,i=e.log,o=e.maxSize,a=e.orient,s=e.type,l=e.quality,u=e.failedText,c=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===s,d=new qq.Promise,f=new qq.ImageGenerator(i),h=document.createElement("canvas");return i("Attempting to generate scaled version for "+t.name),f.generate(t,h,{maxSize:o,orient:a,customResizeFunction:r}).then((function(){var e=h.toDataURL(s,l),r=function(){i("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);d.success(n)};c?n._insertExifHeader(t,e,i).then((function(t){e=t,r()}),(function(){i("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),r()})):r()}),(function(){i("Failed attempt to generate scaled version for "+t.name,"error"),d.failure(u)})),d},_insertExifHeader:function(e,t,n){"use strict";var r=new FileReader,i=new qq.Promise,o="";return r.onload=function(){o=r.result,i.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),i.failure()},r.readAsDataURL(e),i},_dataUriToBlob:function(e){"use strict";var t,n,r,i;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),qq.each(t,(function(e,t){i[e]=t.charCodeAt(0)})),this._createBlob(r,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=(ExifRestorer={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){var t,n,r,i,o,a="",s="",l="",u=0;do{r=(t=e[u++])>>2,i=(3&t)<<4|(n=e[u++])>>4,o=(15&n)<<2|(s=e[u++])>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l=""}while(u<e.length);return a},restore:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},exifManipulation:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255==(t=e[n])[0]&225==t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=(s=s.concat(t)).concat(a)},slice2Segments:function(e){for(var t=0,n=[];!(255==e[t]&218==e[t+1]);){if(255==e[t]&216==e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n},decode64:function(e){var t,n,r,i,o="",a="",s=0,l=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>2,o=(3&i)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!=i&&l.push(n),64!=a&&l.push(o),t=n=o="",r=i=a=""}while(s<e.length);return l}},ExifRestorer),qq.TotalProgress=function(e,t){"use strict";var n={},r=0,i=0,o=-1,a=-1,s=function(t,n){t===o&&n===a||e(t,n),o=t,a=n},l=function(e){var r=t(e);r>0&&(u(e,0,r),n[e]={loaded:0,total:r})},u=function(e,t,o){var a=n[e]?n[e].loaded:0,l=n[e]?n[e].total:0;-1===t&&-1===o?(r-=a,i-=l):(t&&(r+=t-a),o&&(i+=o-l)),s(r,i)};qq.extend(this,{onAllComplete:function(e,t,n){(0===t.length||function(e,t){var n=!0;return qq.each(e,(function(e,r){if(qq.indexOf(t,r)>=0)return n=!1,!1})),n}(t,n))&&(s(i,i),this.reset())},onStatusChange:function(e,t,r){r===qq.status.CANCELED||r===qq.status.REJECTED?function(e){u(e,-1,-1),delete n[e]}(e):r===qq.status.SUBMITTING&&l(e)},onIndividualProgress:function(e,t,r){u(e,t,r),n[e]={loaded:t,total:r}},onNewSize:function(e){l(e)},reset:function(){n={},r=0,i=0}})},qq.PasteSupport=function(e){"use strict";var t,n;t={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(t,e),n=qq(t.targetElement).attach("paste",(function(e){var n=e.clipboardData;n&&qq.each(n.items,(function(e,n){if(function(e){return e.type&&0===e.type.indexOf("image/")}(n)){var r=n.getAsFile();t.callbacks.pasteReceived(r)}}))})),qq.extend(this,{reset:function(){n&&n()}})},qq.FormSupport=function(e,t,n){"use strict";var r=this,i=e.interceptSubmit,o=e.element,a=e.autoUpload;function s(e,t){if(!e.checkValidity||e.checkValidity())return!0;n("Form did not pass validation checks - will not upload.","error"),t()}qq.extend(this,{newEndpoint:null,newAutoUpload:a,attachedToForm:!1,getFormInputsAsObject:function(){return null==o?null:r._form2Obj(o)}}),o=function(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),function(e){e.getAttribute("action")&&(r.newEndpoint=e.getAttribute("action"))}(e),i&&function(e){var n=e.submit;qq(e).attach("submit",(function(r){(r=r||window.event).preventDefault?r.preventDefault():r.returnValue=!1,s(e,n)&&t()})),e.submit=function(){s(e,n)&&t()}}(e))),e}(o),this.attachedToForm=!!o},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){return t=e.type,qq.indexOf(["checkbox","radio"],t.toLowerCase())>=0&&!e.checked||e.disabled&&"hidden"!==e.type.toLowerCase();var t};return qq.each(e.elements,(function(e,r){if((qq.isInput(r,!0)||"textarea"===r.tagName.toLowerCase())&&(o=r.type,qq.indexOf(["button","image","reset","submit"],o.toLowerCase())<0)&&!n(r))t[r.name]=r.value;else if("select"===r.tagName.toLowerCase()&&!n(r)){var i=function(e){var t=null;return qq.each(qq(e).children(),(function(e,n){if("option"===n.tagName.toLowerCase()&&n.selected)return t=n.value,!1})),t}(r);null!==i&&(t[r.name]=i)}var o})),t}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(e,t){"use strict";var n=this,r=t.getName,i=t.getUuid,o=t.log;this.uploadFile=function(t){var a,s=n.getInput(t),l=n._createIframe(t),u=new qq.Promise;return(a=function(t,o){var a=e.paramsStore.get(t),s="get"===e.method.toLowerCase()?"GET":"POST",l=e.endpointStore.get(t),u=r(t);return a[e.uuidName]=i(t),a[e.filenameParam]=u,n._initFormForUpload({method:s,endpoint:l,params:a,paramsInBody:e.paramsInBody,targetName:o.name})}(t,l)).appendChild(s),n._attachLoadEvent(l,(function(r){o("iframe loaded");var i=r||function(e,t){var r,i,a;try{a=(i=t.contentDocument||t.contentWindow.document).body.innerHTML,o("converting iframe's innerHTML to JSON"),o("innerHTML = "+a),a&&a.match(/^<pre/i)&&(a=i.body.firstChild.firstChild.nodeValue),r=n._parseJsonResponse(a)}catch(e){o("Error when attempting to parse form upload response ("+e.message+")","error"),r={success:!1}}return r}(0,l);n._detachLoadEvent(t),e.cors.expected||qq(l).remove(),i.success?u.success(i):u.failure(i)})),o("Sending upload request for "+t),a.submit(),qq(a).remove(),u},qq.extend(this,new qq.FormUploadHandler({options:{isCors:e.cors.expected,inputName:e.inputName},proxy:{onCancel:e.onCancel,getName:r,getUuid:i,log:o}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(e,t){"use strict";var n=this,r=t.getName,i=t.getSize,o=t.getUuid,a=t.log,s=e.forceMultipart||e.paramsInBody,l=new qq.traditional.AllChunksDoneAjaxRequester({cors:e.cors,endpoint:e.chunking.success.endpoint,headers:e.chunking.success.headers,jsonPayload:e.chunking.success.jsonPayload,log:a,method:e.chunking.success.method,params:e.chunking.success.params}),u=function(e,t){var n=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var r=d(e,t);r.success?n.success(r.response,t):n.failure(r.response,t)}},n},c=function(t,n){return qq.indexOf([200,201,202,203,204],t.status)<0||e.requireSuccessJson&&!n.success||n.reset},d=function(e,t){var n;return a("xhr - server response received for "+e),a("responseText = "+t.responseText),n=f(!0,t),{success:!c(t,n),response:n}},f=function(t,n){var r={};try{a(qq.format("Received response status {} with body: {}",n.status,n.responseText)),r=qq.parseJson(n.responseText)}catch(n){t&&e.requireSuccessJson&&a("Error when attempting to parse xhr response text ("+n.message+")","error")}return r},h=function(t){var a=new qq.Promise;return l.complete(t,n._createXhr(t),function(t){var a=e.paramsStore.get(t),s=r(t),l=i(t);return a[e.uuidName]=o(t),a[e.filenameParam]=s,a[e.totalFileSizeName]=l,a[e.chunking.paramNames.totalParts]=n._getTotalChunks(t),a}(t),e.customHeaders.get(t)).then((function(e){a.success(f(!1,e),e)}),(function(e){a.failure(f(!1,e),e)})),a},p=function(t){var n,a=t.fileOrBlob,l=t.id,u=t.xhr,c=t.xhrOverrides||{},d=t.customParams||{},f=t.params||{},h=c.params||{},p=s?new FormData:null,g=c.method||e.method,m=c.endpoint||e.endpointStore.get(l),v=r(l),_=i(l);return e.omitDefaultParams?(n=qq.extend({},d),qq.extend(n,h)):(n=qq.extend({},d),qq.extend(n,h),qq.extend(n,f),n[e.uuidName]=o(l),n[e.filenameParam]=v,s?n[e.totalFileSizeName]=_:e.paramsInBody||(n[e.inputName]=v)),e.paramsInBody||(m=qq.obj2url(n,m)),u.open(g,m,!0),e.cors.expected&&e.cors.sendCredentials&&(u.withCredentials=!0),s?(e.paramsInBody&&qq.obj2FormData(n,p),p.append(e.inputName,a),p):a},g=function(t){var r=t.headerOverrides,i=t.id,o=t.xhr;if(r)qq.each(r,(function(e,t){o.setRequestHeader(e,t)}));else{var a=e.customHeaders.get(i),l=n.getFile(i);o.setRequestHeader("Accept","application/json"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Cache-Control","no-cache"),s||(o.setRequestHeader("Content-Type","application/octet-stream"),o.setRequestHeader("X-Mime-Type",l.type)),qq.each(a,(function(e,t){o.setRequestHeader(e,t)}))}};qq.extend(this,{uploadChunk:function(t){var o,a,l,c=t.id,d=t.chunkIdx,f=t.overrides||{},h=t.resuming,m=n._getChunkData(c,d),v=n._createXhr(c,d),_={};return o=u(c,v),n._registerProgressHandler(c,d,m.size),l=e.paramsStore.get(c),function(t,n,o){var a=i(t),l=r(t);e.omitDefaultParams||(n[e.chunking.paramNames.partIndex]=o.part,n[e.chunking.paramNames.partByteOffset]=o.start,n[e.chunking.paramNames.chunkSize]=o.size,n[e.chunking.paramNames.totalParts]=o.count,n[e.totalFileSizeName]=a),s&&!e.omitDefaultParams&&(n[e.filenameParam]=l)}(c,_,m),h&&(_[e.resume.paramNames.resuming]=!0),a=p({fileOrBlob:m.blob,id:c,customParams:l,params:_,xhr:v,xhrOverrides:f}),g({headerOverrides:f.headers,id:c,xhr:v}),v.send(a),o},uploadFile:function(t){var r,i,o,a,s=n.getFile(t);return i=n._createXhr(t),n._registerProgressHandler(t),r=u(t,i),o=e.paramsStore.get(t),a=p({fileOrBlob:s,id:t,customParams:o,xhr:i}),g({id:t,xhr:i}),i.send(a),r}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,(function(n){return{finalizeChunks:function(r){return t.onFinalizing(r),e.chunking.success.endpoint?h(r):n.finalizeChunks(r,qq.bind(f,this,!0))}}}))},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var t,n={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){},method:"POST"},r={},i={get:function(e){return qq.isFunction(n.endpoint)?n.endpoint(e):n.endpoint}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",contentType:n.jsonPayload?"application/json":"application/x-www-form-urlencoded",validMethods:[n.method],method:n.method,endpointStore:i,allowXRequestedWithAndCacheControl:!1,cors:n.cors,log:n.log,onComplete:function(e,t,n){var i=r[e];delete r[e],n?i.failure(t):i.success(t)}})),qq.extend(this,{complete:function(e,i,o,a){var s=new qq.Promise;return n.log("Submitting All Chunks Done request for "+e),r[e]=s,t.initTransport(e).withParams(n.params(e)||o).withHeaders(n.headers(e)||a).send(i),s}})},qq.DragAndDrop=function(e){"use strict";var t,n,r,i=[],o=[],a=new qq.DisposeSupport;function s(e){var n=new qq.Promise;return e.isFile?e.file((function(t){t.qqPath=l(e),o.push(t),n.success()}),(function(r){t.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+r.code+".","error"),n.failure()})):e.isDirectory&&function e(t,n,r,i){var o=i||new qq.Promise,a=n||t.createReader();return a.readEntries((function(n){var i=r?r.concat(n):n;n.length?setTimeout((function(){e(t,a,i,o)}),0):o.success(i)}),o.failure),o}(e).then((function(e){var t=e.length;qq.each(e,(function(e,r){s(r).done((function(){0===(t-=1)&&n.success()}))})),e.length||n.success()}),(function(r){t.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+r.code+".","error"),n.failure()})),n}function l(e){var t=e.name,n=e.fullPath,r=n.lastIndexOf(t);return"/"===(n=n.substr(0,r)).charAt(0)&&(n=n.substr(1)),n}function u(e){var n=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:e,onEnter:function(n){qq(e).addClass(t.classes.dropActive),n.stopPropagation()},onLeaveNotDescendants:function(n){qq(e).removeClass(t.classes.dropActive)},onDrop:function(e){var r,i,a,l;(r=e.dataTransfer,i=n,a=[],l=new qq.Promise,t.callbacks.processingDroppedFiles(),i.dropDisabled(!0),r.files.length>1&&!t.allowMultipleItems?(t.callbacks.processingDroppedFilesComplete([]),t.callbacks.dropError("tooManyFilesError",""),i.dropDisabled(!1),l.failure()):(o=[],qq.isFolderDropSupported(r)?qq.each(r.items,(function(e,t){var n=t.webkitGetAsEntry();n&&(n.isFile?o.push(t.getAsFile()):a.push(s(n).done((function(){a.pop(),0===a.length&&l.success()}))))})):o=r.files,0===a.length&&l.success()),l).then((function(){!function(e,n){var r=Array.prototype.slice.call(e);t.callbacks.dropLog("Grabbed "+e.length+" dropped files."),n.dropDisabled(!1),t.callbacks.processingDroppedFilesComplete(r,n.getElement())}(o,n)}),(function(){t.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")}))}});return a.addDisposer((function(){n.dispose()})),qq(e).hasAttribute("qq-hide-dropzone")&&qq(e).hide(),i.push(n),n}function c(e){var t;return qq.each(e.dataTransfer.types,(function(e,n){if("Files"===n)return t=!0,!1})),t}t={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(t,e,!0),n=t.dropZoneElements,r=function(){setTimeout((function(){qq.each(n,(function(e,n){qq(n).hasAttribute("qq-hide-dropzone")&&qq(n).hide(),qq(n).removeClass(t.classes.dropActive)}))}),10)},qq.each(n,(function(e,t){var r=u(t);n.length&&qq.supportedFeatures.fileDrop&&a.attach(document,"dragenter",(function(e){!r.dropDisabled()&&c(e)&&qq.each(n,(function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).css({display:"block"})}))}))})),a.attach(document,"dragleave",(function(e){(function(e){return qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y})(e)&&r()})),a.attach(qq(document).children()[0],"mouseenter",(function(e){r()})),a.attach(document,"drop",(function(e){c(e)&&(e.preventDefault(),r())})),a.attach(document,"qq-hidezones",r),qq.extend(this,{setupExtraDropzone:function(e){t.dropZoneElements.push(e),u(e)},removeDropzone:function(e){var n,r=t.dropZoneElements;for(n in r)if(r[n]===e)return r.splice(n,1)},dispose:function(){a.dispose(),qq.each(i,(function(e,t){t.dispose()}))}}),this._testing={},this._testing.extractDirectoryPath=l},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";var t,n,r,i,o=new qq.DisposeSupport;function a(){return qq.safari()||qq.firefox()&&qq.windows()}function s(e){if(!qq.supportedFeatures.fileDrop)return!1;var t,n=e.dataTransfer,r=qq.safari();return t=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==n.effectAllowed,n&&t&&(n.files&&n.files.length||!r&&n.types.contains&&n.types.contains("Files")||n.types.includes&&n.types.includes("Files"))}function l(e){return void 0!==e&&(r=e),r}t={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(t,e),n=t.element,i||(a?o.attach(document,"dragover",(function(e){e.preventDefault()})):o.attach(document,"dragover",(function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())})),i=!0),o.attach(n,"dragover",(function(e){if(s(e)){var t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}})),o.attach(n,"dragenter",(function(e){if(!l()){if(!s(e))return;t.onEnter(e)}})),o.attach(n,"dragleave",(function(e){if(s(e)){t.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(n)||t.onLeaveNotDescendants(e)}})),o.attach(n,"drop",(function(e){if(!l()){if(!s(e))return;e.preventDefault(),e.stopPropagation(),t.onDrop(e),function(){var e;function n(){(e=document.createEvent("Event")).initEvent(t.HIDE_ZONES_EVENT_NAME,!0,!0)}if(window.CustomEvent)try{e=new CustomEvent(t.HIDE_ZONES_EVENT_NAME)}catch(e){n()}else n();document.dispatchEvent(e)}()}})),qq.extend(this,{dropDisabled:function(e){return l(e)},dispose:function(){o.dispose()},getElement:function(){return n}}),this._testing={},this._testing.isValidFileDrag=s},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){var n=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,n)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){return this.getFile(e).qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var e=this,t=this._options.dragAndDrop.extraDropzones,n=this._templating,r=n.getDropZone();return r&&t.push(r),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){n.showDropProcessing()},processingDroppedFilesComplete:function(t,r){n.hideDropProcessing(),qq.each(t,(function(e,t){t.qqDropTarget=r})),t.length&&e.addFiles(t,null,null)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_bindFileButtonsClickEvent:function(){var e=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(t,n){e.log(t,n)},onDeleteFile:function(t){e.deleteFile(t)},onCancel:function(t){e.cancel(t)},onRetry:function(t){e.retry(t)},onPause:function(t){e.pauseUpload(t)},onContinue:function(t){e.continueUpload(t)},onGetName:function(t){return e.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var e=this,t=this._templating;return{templating:t,log:function(t,n){e.log(t,n)},onGetUploadStatus:function(t){return e.getUploads({id:t}).status},onGetName:function(t){return e.getName(t)},onSetName:function(t,n){e.setName(t,n)},onEditingStatusChange:function(e,n){var r=qq(t.getEditInput(e)),i=qq(t.getFileContainer(e));n?(r.addClass("qq-editing"),t.hideFilename(e),t.hideEditIcon(e)):(r.removeClass("qq-editing"),t.showFilename(e),t.showEditIcon(e)),i.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var n=this.getFile(e);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,r){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,r),0===r||100===Math.round(n/r*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,r)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(e,t,n,r){var i=this._parent.prototype._onComplete.apply(this,arguments),o=this._templating,a=o.getFileContainer(e),s=this;function l(t){a&&(o.setStatusText(e),qq(a).removeClass(s._classes.retrying),o.hideProgress(e),s.getUploads({id:e}).status!==qq.status.UPLOAD_FAILED&&o.hideCancel(e),o.hideSpinner(e),t.success?s._markFileAsSuccessful(e):(qq(a).addClass(s._classes.fail),o.showCancel(e),o.isRetryPossible()&&!s._preventRetries[e]&&(qq(a).addClass(s._classes.retryable),o.showRetry(e)),s._controlFailureTextDisplay(e,t)))}return i instanceof qq.Promise?i.done((function(e){l(e)})):l(n),i},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var n=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),n},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),t.partIndex>0&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,n,r;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e],n=this._options.retry.maxAutoAttempts,r=(r=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t)).replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,r),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,n){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,n){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,n){var r,i=this.getName(e),o=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,i),a=(t=this.getUuid(e),arguments),s=this;r=this._options.showConfirm(o),qq.isGenericPromise(r)?r.then((function(){s._sendDeleteRequest.apply(s,a)})):!1!==r&&s._sendDeleteRequest.apply(s,a)},_addToList:function(e,t,n){var r,i,o=0,a=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(o=this._filesInBatchAddedToUi-1),r={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(i=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||i.proxyGroupId,i.proxyGroupId===this._handledProxyGroup&&i.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(e,this._options.formatFileName(t),r,a),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),r,a),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var r=this.getSize(e),i=this._formatSize(r);r>=0&&(void 0!==t&&void 0!==n&&(i=this._formatProgress(t,n)),this._templating.updateSize(e,i))},_formatProgress:function(e,t){var n=this._options.text.formatProgress;function r(e,t){n=n.replace(e,t)}return r("{percent}",Math.round(e/t*100)),r("{total_size}",this._formatSize(t)),n},_controlFailureTextDisplay:function(e,t){var n,r,i;n=this._options.failedUploadTextDisplay.mode,r=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?((i=t[r])||(i=this._options.text.failUpload),this._templating.setStatusText(e,i),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,i)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,n){var r=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(r)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}},_fileOrBlobRejected:function(e,t){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,n){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this.getUploads({id:e}).status===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var n=this;this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){if(n._templating.hasDialog("alert"))return n._templating.showDialog("alert",e);setTimeout((function(){window.alert(e)}),0)},showConfirm:function(e){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var t,n,r,i,o,a,s,l,u={content:document.createDocumentFragment(),map:{}},c=!1,d=0,f=!1,h=[],p=-1,g={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},m={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},v={},_=new qq.Promise,y=new qq.Promise,E=function(e){var t=new qq.Promise;return y.then((function(n){k(n,e),e.src?t.success():(e.src=n.src,e.onload=function(){e.onload=null,j(e),t.success()})}),(function(){L(e),t.success()})),t},b=function(){if(h.length){f=!0;var e=h.shift();e.update?H(e):B(e)}else f=!1},T=function(e){return q(I(e),m.cancel)},S=function(e){return q(I(e),m.continueButton)},w=function(e){return q(o,m[e+"Dialog"])},R=function(e){return q(I(e),m.deleteButton)},C=function(){return q(o,m.dropProcessing)},A=function(e){return q(I(e),m.editNameIcon)},I=function(e){return u.map[e]||qq(a).getFirstByClass("qq-file-id-"+e)},D=function(e){return q(I(e),m.file)},M=function(e){return q(I(e),m.pause)},x=function(e){return null==e?q(o,m.totalProgressBarContainer)||q(o,m.totalProgressBar):q(I(e),m.progressBarContainer)||q(I(e),m.progressBar)},N=function(e){return q(I(e),m.retry)},O=function(e){return q(I(e),m.size)},P=function(e){return q(I(e),m.spinner)},q=function(e,t){return e&&qq(e).getFirstByClass(t)},F=function(e){return s&&q(I(e),m.thumbnail)},L=function(e){e&&qq(e).addClass(g.classes.hide)},k=function(e,t){var n=e.style.maxWidth,r=e.style.maxHeight;r&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:r})},U=function(e,t){var n=v[e]||(new qq.Promise).failure(),r=new qq.Promise;return _.then((function(e){n.then((function(){r.success()}),(function(){k(e,t),t.onload=function(){t.onload=null,r.success()},t.src=e.src,j(t)}))})),r},B=function(e){var n=e.id,r=e.optFileOrBlob,i=r&&r.qqThumbnailId,o=F(n),a={customResizeFunction:e.customResizeFunction,maxSize:p,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?o?g.limits.maxThumbs&&g.limits.maxThumbs<=d?(U(n,o),b()):E(o).done((function(){v[n]=new qq.Promise,v[n].done((function(){setTimeout(b,g.limits.timeBetweenThumbs)})),null!=i?z(n,i):function(e,n,r){var i=F(e);t("Generating new thumbnail for "+e),n.qqThumbnailId=e,g.imageGenerator.generate(n,i,r).then((function(){d++,j(i),v[e].success()}),(function(){v[e].failure(),g.placeholders.waitUntilUpdate||U(e,i)}))}(n,r,a)})):b():o&&(E(o),b())},H=function(e){var t=e.id,n=e.thumbnailUrl,r=e.showWaitingImg,i=F(t),o={customResizeFunction:e.customResizeFunction,scale:l,maxSize:p};if(i)if(n){if(!(g.limits.maxThumbs&&g.limits.maxThumbs<=d))return r&&E(i),g.imageGenerator.generate(n,i,o).then((function(){j(i),d++,setTimeout(b,g.limits.timeBetweenThumbs)}),(function(){U(t,i),setTimeout(b,g.limits.timeBetweenThumbs)}));U(t,i),b()}else U(t,i),b()},G=function(e,t){var n=x(e),r=null==e?m.totalProgressBar:m.progressBar;n&&!qq(n).hasClass(r)&&(n=qq(n).getFirstByClass(r)),n&&(qq(n).css({width:t+"%"}),n.setAttribute("aria-valuenow",t))},j=function(e){e&&qq(e).removeClass(g.classes.hide)},z=function(e,n){var r=F(e),i=F(n);t(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,n,n)),v[n].then((function(){d++,v[e].success(),t(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",n,e)),r.src=i.src,j(r)}),(function(){v[e].failure(),g.placeholders.waitUntilUpdate||U(e,r)}))};qq.extend(g,e),t=g.log,qq.supportedFeatures.imagePreviews||(g.limits.timeBetweenThumbs=0,g.limits.maxThumbs=0),o=g.containerEl,s=void 0!==g.imageGenerator,i=function(){var e,i,o,a,u,c,d,f,h,v,_;if(t("Parsing template"),null==g.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(g.templateIdOrEl)){if(null===(e=document.getElementById(g.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",g.templateIdOrEl));i=e.innerHTML}else{if(void 0===g.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");i=g.templateIdOrEl.innerHTML}if(i=qq.trimStr(i),(a=document.createElement("div")).appendChild(qq.toElement(i)),_=qq(a).getFirstByClass(m.uploader),g.button&&(c=qq(a).getFirstByClass(m.button))&&qq(c).remove(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(h=qq(a).getFirstByClass(m.dropProcessing))&&qq(h).remove(),(d=qq(a).getFirstByClass(m.drop))&&!qq.DragAndDrop&&(t("DnD module unavailable.","info"),qq(d).remove()),qq.supportedFeatures.fileDrop?qq(_).hasAttribute("qq-drop-area-text")&&d&&(v=qq(d).getFirstByClass(m.dropText))&&qq(v).remove():(_.removeAttribute("qq-drop-area-text"),d&&qq(d).hasAttribute("qq-hide-dropzone")&&qq(d).css({display:"none"})),f=qq(a).getFirstByClass(m.thumbnail),s?f&&(p=(p=parseInt(f.getAttribute("qq-max-size")))>0?p:null,l=qq(f).hasAttribute("qq-server-scale")):f&&qq(f).remove(),s=s&&f,n=qq(a).getByClass(m.editFilenameInput).length>0,r=qq(a).getByClass(m.retry).length>0,null==(o=qq(a).getFirstByClass(m.list)))throw new Error("Could not find the file list container in the template!");return u=o.children[0].cloneNode(!0),o.innerHTML="",a.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),t("Template parsing complete"),{template:a,fileTemplate:u}}(),function(){var e=g.placeholders.thumbnailNotAvailable,n=g.placeholders.waitingForThumbnail,r={maxSize:p,scale:l};s&&(e?g.imageGenerator.generate(e,new Image,r).then((function(e){_.success(e)}),(function(){_.failure(),t("Problem loading 'not available' placeholder image at "+e,"error")})):_.failure(),n?g.imageGenerator.generate(n,new Image,r).then((function(e){y.success(e)}),(function(){y.failure(),t("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")})):y.failure())}(),qq.extend(this,{render:function(){t("Rendering template in DOM."),d=0,o.appendChild(i.template.cloneNode(!0)),L(C()),this.hideTotalProgress(),a=g.fileContainerEl||q(o,m.list),t("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);o.innerHTML="",o.appendChild(t)},reset:function(){o.innerHTML="",this.render()},clearFiles:function(){a.innerHTML=""},disableCancel:function(){c=!0},addFile:function(e,t,n,r,s){var l,d=i.fileTemplate.cloneNode(!0),f=q(d,m.file),h=q(o,m.uploader),p=s?u.content:a;s&&(u.map[e]=d),qq(d).addClass("qq-file-id-"+e),h.removeAttribute("qq-drop-area-text"),f&&(qq(f).setText(t),f.setAttribute("title",t)),d.setAttribute("qq-file-id",e),n?function(e,t,n){var r=n,i=r.firstChild;t>0&&(i=qq(r).children()[t].nextSibling),r.insertBefore(e,i)}(d,n.index,p):p.appendChild(d),r?(d.style.display="none",qq(d).addClass("qq-hidden-forever")):(L(x(e)),L(O(e)),L(R(e)),L(N(e)),L(M(e)),L(S(e)),c&&this.hideCancel(e),(l=F(e))&&!l.src&&y.then((function(e){l.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(l).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),j(l)})))},addFileToCache:function(e,t,n,r){this.addFile(e,t,n,r,!0)},addCacheToDom:function(){a.appendChild(u.content),u.content=document.createDocumentFragment(),u.map={}},removeFile:function(e){qq(I(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute("qq-file-id");)t=t.parentNode;return parseInt(t.getAttribute("qq-file-id"))}},getFileList:function(){return a},markFilenameEditable:function(e){var t=D(e);t&&qq(t).addClass(g.classes.editable)},updateFilename:function(e,t){var n=D(e);n&&(qq(n).setText(t),n.setAttribute("title",t))},hideFilename:function(e){L(D(e))},showFilename:function(e){j(D(e))},isFileName:function(e){return qq(e).hasClass(m.file)},getButton:function(){return g.button||q(o,m.button)},hideDropProcessing:function(){L(C())},showDropProcessing:function(){j(C())},getDropZone:function(){return q(o,m.drop)},isEditFilenamePossible:function(){return n},hideRetry:function(e){L(N(e))},isRetryPossible:function(){return r},showRetry:function(e){j(N(e))},getFileContainer:function(e){return I(e)},showEditIcon:function(e){var t=A(e);t&&qq(t).addClass(g.classes.editable)},isHiddenForever:function(e){return qq(I(e)).hasClass("qq-hidden-forever")},hideEditIcon:function(e){var t=A(e);t&&qq(t).removeClass(g.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(m.editNameIcon,!0)},getEditInput:function(e){return q(I(e),m.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(m.editFilenameInput,!0)},updateProgress:function(e,t,n){var r,i=x(e);i&&n>0&&(100===(r=Math.round(t/n*100))?L(i):j(i),G(e,r))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){var t=x(e);t&&L(t)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){G(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){if(!c){var t=T(e);t&&qq(t).removeClass(g.classes.hide)}},hideCancel:function(e){L(T(e))},isCancel:function(e){return qq(e).hasClass(m.cancel,!0)},allowPause:function(e){j(M(e)),L(S(e))},uploadPaused:function(e){this.setStatusText(e,g.text.paused),this.allowContinueButton(e),L(P(e))},hidePause:function(e){L(M(e))},isPause:function(e){return qq(e).hasClass(m.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(m.continueButton,!0)},allowContinueButton:function(e){j(S(e)),L(M(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),j(P(e))},showDeleteButton:function(e){j(R(e))},hideDeleteButton:function(e){L(R(e))},isDeleteButton:function(e){return qq(e).hasClass(m.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(m.retry,!0)},updateSize:function(e,t){var n=O(e);n&&(j(n),qq(n).setText(t))},setStatusText:function(e,t){var n=q(I(e),m.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){qq(I(e)).removeClass("qq-in-progress"),L(P(e))},showSpinner:function(e){qq(I(e)).addClass("qq-in-progress"),j(P(e))},generatePreview:function(e,t,n){this.isHiddenForever(e)||(h.push({id:e,customResizeFunction:n,optFileOrBlob:t}),!f&&b())},updateThumbnail:function(e,t,n,r){this.isHiddenForever(e)||(h.push({customResizeFunction:r,update:!0,id:e,thumbnailUrl:t,showWaitingImg:n}),!f&&b())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!w(e)},showDialog:function(e,t,n){var r=w(e),i=q(r,m.dialogMessage),o=r.getElementsByTagName("INPUT")[0],a=q(r,m.dialogCancelButton),s=q(r,m.dialogOkButton),l=new qq.Promise,u=function(){a.removeEventListener("click",c),s&&s.removeEventListener("click",d),l.failure()},c=function(){a.removeEventListener("click",c),r.close()},d=function(){r.removeEventListener("close",u),s.removeEventListener("click",d),r.close(),l.success(o&&o.value)};return r.addEventListener("close",u),a.addEventListener("click",c),s&&s.addEventListener("click",d),o&&(o.value=n),i.textContent=t,r.showModal(),l}})},qq.UiEventHandler=function(e,t){"use strict";var n=new qq.DisposeSupport,r={eventType:"click",attachTo:null,onHandled:function(e,t){}};function i(e){n.attach(e,r.eventType,(function(e){var t=(e=e||window.event).target||e.srcElement;r.onHandled(t,e)}))}qq.extend(this,{addHandler:function(e){i(e)},dispose:function(){n.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return n}}),qq.extend(r,e),r.attachTo&&i(r.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";var t={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},n={cancel:function(e){t.onCancel(e)},retry:function(e){t.onRetry(e)},deleteButton:function(e){t.onDeleteFile(e)},pause:function(e){t.onPause(e)},continueButton:function(e){t.onContinue(e)}};qq.extend(t,e),t.eventType="click",t.onHandled=function(e,r){qq.each(n,(function(n,i){var o,a=n.charAt(0).toUpperCase()+n.slice(1);if(t.templating["is"+a](e))return o=t.templating.getFileId(e),qq.preventDefault(r),t.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",t.onGetName(o),o)),i(o),!1}))},t.attachTo=t.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(t,{}))},qq.FilenameClickHandler=function(e){"use strict";var t={},n={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(n,e),n.eventType="click",n.onHandled=function(e,r){if(n.templating.isFileName(e)||n.templating.isEditIcon(e)){var i=n.templating.getFileId(e);n.onGetUploadStatus(i)===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",n.onGetName(i),i)),qq.preventDefault(r),t.handleFilenameEdit(i,e,!0))}},qq.extend(this,new qq.FilenameEditHandler(n,t))},qq.FilenameInputFocusInHandler=function(e,t){"use strict";var n={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};t||(t={}),n.eventType="focusin",n.onHandled=function(e,r){if(n.templating.isEditInput(e)){var i=n.templating.getFileId(e);n.onGetUploadStatus(i)===qq.status.SUBMITTED&&(n.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",n.onGetName(i),i)),t.handleFilenameEdit(i,e))}},qq.extend(n,e),qq.extend(this,new qq.FilenameEditHandler(n,t))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,t){"use strict";var n={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};function r(e,t){var r,i=e.value;void 0!==i&&qq.trimStr(i).length>0&&(void 0!==(r=function(e){var t=n.onGetName(e);return qq.getExtension(t)}(t))&&(i=i+"."+r),n.onSetName(t,i)),n.onEditingStatusChange(t,!1)}qq.extend(n,e),n.attachTo=n.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(n,t)),qq.extend(t,{handleFilenameEdit:function(e,i,o){var a,s,l,u=n.templating.getEditInput(e);n.onEditingStatusChange(e,!0),u.value=(a=e,s=n.onGetName(a),(l=s.lastIndexOf("."))>0&&(s=s.substr(0,l)),s),o&&u.focus(),function(e,n){t.getDisposeSupport().attach(e,"blur",(function(){r(e,n)}))}(u,e),function(e,n){t.getDisposeSupport().attach(e,"keyup",(function(t){13===(t.keyCode||t.which)&&r(e,n)}))}(u,e)}})}}(window)}]);